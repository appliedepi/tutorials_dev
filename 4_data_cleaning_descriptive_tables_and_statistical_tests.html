<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />



<meta name="progressive" content="true" />
<meta name="allow-skip" content="true" />
<meta name="learnr-version-prerender" content="0.10.1.9020" />

<title>Data cleaning</title>

<!-- header-includes START -->
<!-- HEAD_CONTENT -->
<!-- header-includes END -->
<!-- HEAD_CONTENT -->

<!-- highlightjs -->
<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>


<!-- taken from https://github.com/rstudio/rmarkdown/blob/de8a9c38618903627ca509f5401d50a0876079f7/inst/rmd/h/default.html#L293-L343 -->
<!-- tabsets -->
<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>
<!-- end tabsets -->


</head>

<body>



<div class="pageContent band">
<div class="bandContent page">

<div class="topics">

<!-- Add JavaScript code for making the exercise code larger -->
<script language="JavaScript" src="js/exercise-font-size.js"></script>
<div
id="section-introduction-to-r-for-applied-epidemiology-and-public-health"
class="section level2">
<h2>Introduction to R for Applied Epidemiology and Public Health</h2>
<div id="section-data-cleaning-and-core-functions"
class="section level3">
<h3>Data cleaning and core functions</h3>
<p><img src="images/moz-banner.png" width="100%" /></p>
</div>
<div id="section-welcome" class="section level3">
<h3>Welcome</h3>
<p>Welcome to the course “Introduction to R for applied
epidemiologists”, offered for free by <a
href="www.appliedepi.org">Applied Epi</a> - a non-profit organisation
that offers open-source tools, training, and support to frontline public
health practitioners.</p>
<p>This interactive tutorial focuses on <strong>cleaning of datasets
often encountered by applied epidemiologists and public health
practitioners</strong>, such as outbreak linelists, surveillance, and
laboratory data.</p>
<div id="section-target-audience" class="section level4">
<h4>Target Audience</h4>
<p>This course is designed with the following objectives:</p>
<ul>
<li>To be friendly to people who have never used a programming language
before</li>
<li>To teach R emphasizing examples, datasets, and challenges commonly
faced by applied epidemiologists</li>
<li>To be modular - so that you can skip to section most relevant to
you</li>
</ul>
<p>If this is your first introduction to R programming, please consider
first completing our [R Setup and Data Import tutorial], which
introduces R, RStudio, R projects, R code syntax, and explains how to
import a dataset into R.</p>
</div>
<div id="section-other-languages" class="section level4">
<h4>Other languages</h4>
<p>This course is available…</p>
</div>
<div id="section-offline-online" class="section level4">
<h4>Offline / Online</h4>
<p>You can access this tutorial offline by downloading our R package …
If viewing offline, you can view the videos by doing …</p>
</div>
<div id="section-learning-goals" class="section level4">
<h4>Learning goals</h4>
<p>In this tutorial you will learn and practice:</p>
<ul>
<li>Using the pipe operator (<code>%&gt;%</code>) to pass the dataset
from one cleaning function to another</li>
<li>The core <strong>tidyverse</strong> R functions used to reduce,
clean, and modify dataframes<br />
</li>
<li>How to manipulate dates in order to clean and translate between
units of time (days/months/years) with the <strong>lubridate</strong>
package</li>
<li>The use of descriptive analysis and summary statistics with the
<strong>janitor</strong> package in order to summarize your data</li>
</ul>
<p>This tutorial adapts the <a
href="https://epirhandbook.com/en/cleaning-data-and-core-functions.html">Data
cleaning and core functions</a> section of our free <a
href="https://epirhandbook.com/en/">Epidemiologist R Handbook</a>, which
is available for use offline as well.</p>
</div>
<div id="section-data-consent" class="section level4">
<h4>Data consent</h4>
<p>We continually improve these tutorials by collecting your entries and
submitted answers to the quiz questions. By continuing, you consent to
this collection and use.</p>
<p>To continue anonymously… do XYZ.</p>
</div>
<div id="section-who-made-this-course" class="section level4">
<h4>Who made this course</h4>
<p>This course is designed by epidemiologists with decades of
ground-level experience in outbreak response and local public health
work.</p>
<p><img src="images/hex-sidebyside.png" width="50%" /></p>
</div>
</div>
</div>
<div id="section-data-used-and-directory-structure"
class="section level2">
<h2>Data used and directory structure</h2>
<p>In this tutorial we will use the following datasets. Please take a
few minutes to review the structure and content of each dataset before
continuing.</p>
<p>Use the arrows on the right to scroll through hidden columns. Note
that these are “raw” (messy) datasets that mimic problems commonly found
in real-life epidemiological datasets.</p>
<div
id="section-a-linelist-of-cases-in-a-fictional-not-real-ebola-outbreak"
class="section level3">
<h3><strong>A “linelist” of cases in a fictional (not real) Ebola
outbreak</strong></h3>
<p>A “linelist” is a term used in applied epidemiology to refer to a
table that contains key information about each case or suspect case in
an outbreak. Each row represents one case, and the columns contain
variables such as age, sex, date of symptom onset, outcomes, etc.</p>
<p>This dataset contains 6611 rows and 28 columns. Below are the first 5
rows:</p>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["case_id"],"name":[1],"type":["chr"],"align":["left"]},{"label":["generation"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["infection date"],"name":[3],"type":["dttm"],"align":["right"]},{"label":["date onset"],"name":[4],"type":["chr"],"align":["left"]},{"label":["hosp date"],"name":[5],"type":["dttm"],"align":["right"]},{"label":["date_of_outcome"],"name":[6],"type":["dttm"],"align":["right"]},{"label":["outcome"],"name":[7],"type":["chr"],"align":["left"]},{"label":["gender"],"name":[8],"type":["chr"],"align":["left"]},{"label":["hospital"],"name":[9],"type":["chr"],"align":["left"]},{"label":["lon"],"name":[10],"type":["dbl"],"align":["right"]},{"label":["lat"],"name":[11],"type":["dbl"],"align":["right"]},{"label":["infector"],"name":[12],"type":["chr"],"align":["left"]},{"label":["source"],"name":[13],"type":["chr"],"align":["left"]},{"label":["age"],"name":[14],"type":["chr"],"align":["left"]},{"label":["age_unit"],"name":[15],"type":["chr"],"align":["left"]},{"label":["row_num"],"name":[16],"type":["dbl"],"align":["right"]},{"label":["wt_kg"],"name":[17],"type":["dbl"],"align":["right"]},{"label":["ht_cm"],"name":[18],"type":["dbl"],"align":["right"]},{"label":["ct_blood"],"name":[19],"type":["dbl"],"align":["right"]},{"label":["fever"],"name":[20],"type":["chr"],"align":["left"]},{"label":["chills"],"name":[21],"type":["chr"],"align":["left"]},{"label":["cough"],"name":[22],"type":["chr"],"align":["left"]},{"label":["aches"],"name":[23],"type":["chr"],"align":["left"]},{"label":["vomit"],"name":[24],"type":["chr"],"align":["left"]},{"label":["temp"],"name":[25],"type":["dbl"],"align":["right"]},{"label":["time_admission"],"name":[26],"type":["chr"],"align":["left"]},{"label":["merged_header"],"name":[27],"type":["chr"],"align":["left"]},{"label":["...28"],"name":[28],"type":["chr"],"align":["left"]}],"data":[{"1":"5fe599","2":"4","3":"2014-05-08","4":"2014-05-13","5":"2014-05-15","6":"<NA>","7":"NA","8":"m","9":"Other","10":"-13.21574","11":"8.468973","12":"f547d6","13":"other","14":"2","15":"years","16":"1","17":"27","18":"48","19":"22","20":"no","21":"no","22":"yes","23":"no","24":"yes","25":"36.8","26":"NA","27":"a","28":"b","_rn_":"1"},{"1":"8689b7","2":"4","3":"<NA>","4":"2014-05-13","5":"2014-05-14","6":"2014-05-18","7":"Recover","8":"f","9":"NA","10":"-13.21523","11":"8.451719","12":"NA","13":"NA","14":"3","15":"years","16":"2","17":"25","18":"59","19":"22","20":"NA","21":"NA","22":"NA","23":"NA","24":"NA","25":"36.9","26":"09:36","27":"a","28":"b","_rn_":"2"},{"1":"11f8ea","2":"2","3":"<NA>","4":"2014-05-16","5":"2014-05-18","6":"2014-05-30","7":"Recover","8":"m","9":"St. Mark's Maternity Hospital (SMMH)","10":"-13.21291","11":"8.464817","12":"NA","13":"NA","14":"56","15":"years","16":"3","17":"91","18":"238","19":"21","20":"NA","21":"NA","22":"NA","23":"NA","24":"NA","25":"36.9","26":"16:48","27":"a","28":"b","_rn_":"3"},{"1":"b8812a","2":"3","3":"2014-05-04","4":"2014-05-18","5":"2014-05-20","6":"<NA>","7":"NA","8":"f","9":"Port Hospital","10":"-13.23637","11":"8.475476","12":"f90f5f","13":"other","14":"18","15":"years","16":"4","17":"41","18":"135","19":"23","20":"no","21":"no","22":"no","23":"no","24":"no","25":"36.8","26":"11:22","27":"a","28":"b","_rn_":"4"},{"1":"893f25","2":"3","3":"2014-05-18","4":"2014-05-21","5":"2014-05-22","6":"2014-05-29","7":"Recover","8":"m","9":"Military Hospital","10":"-13.22286","11":"8.460824","12":"11f8ea","13":"other","14":"3","15":"years","16":"5","17":"36","18":"71","19":"23","20":"no","21":"no","22":"yes","23":"no","24":"yes","25":"36.9","26":"12:60","27":"a","28":"b","_rn_":"5"},{"1":"be99c8","2":"3","3":"2014-05-03","4":"2014-05-22","5":"2014-05-23","6":"2014-05-24","7":"Recover","8":"f","9":"Port Hospital","10":"-13.22263","11":"8.461831","12":"aec8ec","13":"other","14":"16","15":"years","16":"6","17":"56","18":"116","19":"21","20":"no","21":"no","22":"yes","23":"no","24":"yes","25":"37.6","26":"14:13","27":"a","28":"b","_rn_":"6"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>Click to <a
href="https://github.com/appliedepi/epirhandbook_eng/raw/master/data/case_linelists/linelist_raw.xlsx">download
the <strong>raw</strong> dataset</a> for your own practice.</p>
<p>Click to <a
href="https://github.com/appliedepi/epirhandbook_eng/raw/master/data/case_linelists/linelist_cleaned.rds">download
the <strong>clean</strong> dataset as an <strong>.rds file</strong></a>
for your own practice. A <em>.rds file</em> is an R-specific file type
that preserves column classes. This ensures you will have only minimal
cleaning to do after importing the data into R.</p>
</div>
<div
id="section-aggregated-data-from-malaria-surveillance-in-a-fictional-country"
class="section level3">
<h3><strong>Aggregated data from malaria surveillance in a fictional
country</strong></h3>
<p>Aggregated data in epidemiology usually means a table of counts for
each facility, or district, etc. Sometimes, the counts can also be per
day, week, or month.</p>
<p>In this fictional dataset, each facility reported <em>daily</em> case
counts of rapid-test (RDT)-confirmed malaria. Thus, each row represents
the number of cases for a specific facility on a specific day.</p>
<p>This dataset contains 3038 rows and 10 columns. Below are the first 5
rows:</p>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["location_name"],"name":[1],"type":["chr"],"align":["left"]},{"label":["data_date"],"name":[2],"type":["date"],"align":["right"]},{"label":["submitted_date"],"name":[3],"type":["date"],"align":["right"]},{"label":["Province"],"name":[4],"type":["chr"],"align":["left"]},{"label":["District"],"name":[5],"type":["chr"],"align":["left"]},{"label":["malaria_rdt_0-4"],"name":[6],"type":["int"],"align":["right"]},{"label":["malaria_rdt_5-14"],"name":[7],"type":["int"],"align":["right"]},{"label":["malaria_rdt_15"],"name":[8],"type":["int"],"align":["right"]},{"label":["malaria_tot"],"name":[9],"type":["int"],"align":["right"]},{"label":["newid"],"name":[10],"type":["int"],"align":["right"]}],"data":[{"1":"Facility 1","2":"2020-08-11","3":"2020-08-12","4":"North","5":"Spring","6":"11","7":"12","8":"23","9":"46","10":"1"},{"1":"Facility 2","2":"2020-08-11","3":"2020-08-12","4":"North","5":"Bolo","6":"11","7":"10","8":"5","9":"26","10":"2"},{"1":"Facility 3","2":"2020-08-11","3":"2020-08-12","4":"North","5":"Dingo","6":"8","7":"5","8":"5","9":"18","10":"3"},{"1":"Facility 4","2":"2020-08-11","3":"2020-08-12","4":"North","5":"Bolo","6":"16","7":"16","8":"17","9":"49","10":"4"},{"1":"Facility 5","2":"2020-08-11","3":"2020-08-12","4":"North","5":"Bolo","6":"9","7":"2","8":"6","9":"17","10":"5"},{"1":"Facility 6","2":"2020-08-11","3":"2020-08-12","4":"North","5":"Dingo","6":"3","7":"1","8":"4","9":"8","10":"6"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>Click to <a
href="https://github.com/appliedepi/epirhandbook_eng/raw/master/data/malaria_facility_count_data.rds">download
the <strong>clean</strong> malaria counts dataset as an <strong>.rds
file</strong></a> for your own practice. A <em>.rds file</em> is an
R-specific file type that preserves column classes. This ensures you
will have only minimal cleaning to do after importing the data into
R.</p>
</div>
<div id="section-directory-structure" class="section level3">
<h3>Directory structure</h3>
<p>Photo or GIF of directory structure</p>
</div>
<div id="section-accessing-example-data" class="section level3">
<h3>Accessing example data</h3>
<p>Here is how to access the example data</p>
</div>
<div id="section-tidy-data" class="section level3">
<h3>Tidy Data</h3>
<p>We highly recommend doing our tutorial on Tidy Data in Applied
Epidemiology. Collecting, formatting, and preparing your dataset
<em>before</em> importing it into R is a critical step! LINK VIDEO
TEASER</p>
</div>
</div>
<div id="section-packages" class="section level2">
<h2>Install and Load R packages</h2>
<p>To use basic functions with public health data, the tidyverse
metapackage is very useful. Tidyverse loads the dplyr, ggplot2, and
other packages that are useful in epi data analysis.</p>
<p>We’ve preloaded the below packages for now. Installation and loading
of these packages is described on the EpiRHandbook <a
href="https://epirhandbook.com/en/suggested-packages-1.html"><em>Suggested
Packages</em></a> page.</p>
<p>In this assignment we’ll work with X R packages, let’s load them!</p>
<div class="tutorial-exercise" data-label="load-package"
data-completion="1" data-diagnostics="1" data-startover="1"
data-lines="0">
<pre class="text"><code>pacman::p_load(___)</code></pre>
<script type="application/json" data-ui-opts="1">{"engine":"r","has_checker":true,"caption":"<span data-i18n=\"text.enginecap\" data-i18n-opts=\"{&quot;engine&quot;:&quot;R&quot;}\">R Code<\/span>"}</script>
</div>
<div class="tutorial-exercise-support" data-label="load-package-hint"
data-completion="1" data-diagnostics="1" data-startover="1"
data-lines="0">
<pre class="text"><code>pacman::p_load(rio, here, janitor, tidyverse)</code></pre>
</div>
<div id="section-recommended-r-packages-for-public-health"
class="section level3">
<h3>Recommended R packages for public health</h3>
<p>See this Epi R Handbook LINK for our recommended packages.</p>
</div>
</div>
<div id="section-import" class="section level2">
<h2>Import data</h2>
<p><a href="https://www.epirhandbook.com/en/import-and-export.html"
class="uri">https://www.epirhandbook.com/en/import-and-export.html</a>
Import that data and save it as “raw” file</p>
<p>To import data from a sub-folder, the <code>import()</code> command
should be modified so that it correctly tells R where to search for this
file. This is done using the here() function.</p>
<pre class="r"><code>linelist_raw &lt;- import(here(&quot;data&quot;, &quot;linelist_raw.xlsx&quot;))   # import data and save as named object</code></pre>
</div>
<div id="section-descriptive-tables" class="section level2">
<h2>Descriptive tables</h2>
<p>Once you have a clean dataset, you may want to conduct some basic
statistical analysis and summaries in order to better understand your
data.</p>
<p>There are a number of different packages that can be used to do this
such as <strong>janitor</strong>, <strong>dplyr</strong>,
<strong>gtsummary</strong>, <strong>rstatix</strong> and
<strong>base</strong> R in order to summarize and create tables with
descriptive statistics.</p>
<p>Each of these have their own advantages and disadvantages, and the
tool you use will depend on factors such as code simplicity,
customizeability and the desired output (printed to R console or a
figure for a report/publication). Consider the points below:</p>
<ul>
<li>Use <code>tably()</code> from <strong>janitor</strong> to produce
and “adorn” tabulations and cross-tabulations</li>
<li>Use <code>get_summary_stats()</code> from <strong>rstatix</strong>
to easily generate dataframes of numerical summary statistics from
multiple columns or groups</li>
<li>Use <code>summarize()</code> and <code>count()</code> from
<strong>dplyr</strong> for more complex statistics, tidy dataframe
outputs or preparing data for <code>ggplot()</code></li>
<li>Use <code>tbl_summary()</code> from <strong>gtsummary</strong> to
produce detailed publication-ready tables</li>
<li>Use <code>table()</code> from <strong>base</strong> R if you do not
have access to the above packages</li>
</ul>
<div id="section-janitor" class="section level3">
<h3><strong>janitor</strong></h3>
<p>The <strong>janitor</strong> package offers the <code>tabyl()</code>
function to produce tabulations and cross-tabulations, which can be
“adorned” or modified with helper functions to display percentages,
proportions, counts, etc.</p>
<p>Below we summarize the column <code>age_cat</code>:</p>
<pre class="r"><code>linelist %&gt;%
  tabyl(age_cat)</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["age_cat"],"name":[1],"type":["fct"],"align":["left"]},{"label":["n"],"name":[2],"type":["int"],"align":["right"]},{"label":["percent"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["valid_percent"],"name":[4],"type":["dbl"],"align":["right"]}],"data":[{"1":"0-4","2":"1095","3":"0.185971467","4":"0.188728025","_rn_":"1"},{"1":"5-9","2":"1095","3":"0.185971467","4":"0.188728025","_rn_":"2"},{"1":"10-14","2":"941","3":"0.159816576","4":"0.162185453","_rn_":"3"},{"1":"15-19","2":"743","3":"0.126188859","4":"0.128059290","_rn_":"4"},{"1":"20-29","2":"1073","3":"0.182235054","4":"0.184936229","_rn_":"5"},{"1":"30-49","2":"754","3":"0.128057065","4":"0.129955188","_rn_":"6"},{"1":"50-69","2":"95","3":"0.016134511","4":"0.016373664","_rn_":"7"},{"1":"70+","2":"6","3":"0.001019022","4":"0.001034126","_rn_":"8"},{"1":"NA","2":"86","3":"0.014605978","4":"NA","_rn_":"9"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>You can adjust the number of decimals with
<code>adorn_round()</code>, and if you want to ignore <code>NA</code>
values you can suppress them by including
<code>show_na = FALSE</code>.</p>
<pre class="r"><code>linelist %&gt;%
  tabyl(age_cat, show_na = FALSE) %&gt;%
  adorn_rounding(digits = 3) #Specify the number of digits with the digits = argument</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["age_cat"],"name":[1],"type":["fct"],"align":["left"]},{"label":["n"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["percent"],"name":[3],"type":["dbl"],"align":["right"]}],"data":[{"1":"0-4","2":"1095","3":"0.189"},{"1":"5-9","2":"1095","3":"0.189"},{"1":"10-14","2":"941","3":"0.162"},{"1":"15-19","2":"743","3":"0.128"},{"1":"20-29","2":"1073","3":"0.185"},{"1":"30-49","2":"754","3":"0.130"},{"1":"50-69","2":"95","3":"0.016"},{"1":"70+","2":"6","3":"0.001"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>If the column is class Factor and only certain levels are present in
your data, all levels will still appear in the table. You can suppress
this feature by specifying <code>show_missing_levels = FALSE</code>:</p>
<pre class="r"><code>linelist %&gt;%
  filter(source != &quot;other&quot;) %&gt;%
  tabyl(source)</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["source"],"name":[1],"type":["fct"],"align":["left"]},{"label":["n"],"name":[2],"type":["int"],"align":["right"]},{"label":["percent"],"name":[3],"type":["dbl"],"align":["right"]}],"data":[{"1":"funeral","2":"572","3":"0.2150376"},{"1":"missing","2":"2088","3":"0.7849624"},{"1":"other","2":"0","3":"0.0000000"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<pre class="r"><code>linelist %&gt;%
  filter(source != &quot;other&quot;) %&gt;%
  tabyl(source, show_missing_levels = FALSE)</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["source"],"name":[1],"type":["fct"],"align":["left"]},{"label":["n"],"name":[2],"type":["int"],"align":["right"]},{"label":["percent"],"name":[3],"type":["dbl"],"align":["right"]}],"data":[{"1":"funeral","2":"572","3":"0.2150376"},{"1":"missing","2":"2088","3":"0.7849624"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<div id="section-cross-tabulation" class="section level2">
<h2>Cross-tabulation</h2>
<p>Cross-tabulation counts are achieved by adding one or more additional
columns within 1. Note that now only counts are returned - proportions
and percents can be added with additional steps shown below.</p>
<pre class="r"><code>linelist %&gt;% 
  tabyl(age_cat, gender)</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["age_cat"],"name":[1],"type":["fct"],"align":["left"]},{"label":["f"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["m"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["NA_"],"name":[4],"type":["dbl"],"align":["right"]}],"data":[{"1":"0-4","2":"640","3":"416","4":"39"},{"1":"5-9","2":"641","3":"412","4":"42"},{"1":"10-14","2":"518","3":"383","4":"40"},{"1":"15-19","2":"359","3":"364","4":"20"},{"1":"20-29","2":"468","3":"575","4":"30"},{"1":"30-49","2":"179","3":"557","4":"18"},{"1":"50-69","2":"2","3":"91","4":"2"},{"1":"70+","2":"0","3":"5","4":"1"},{"1":"NA","2":"0","3":"0","4":"86"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<div id="section-adoring-the-tabyl" class="section level3">
<h3>Adoring the tabyl</h3>
<p>Use <strong>janitor</strong>’s “adorn” functions to add totals or
convert to proportions, percents, or otherwise adjust the display.
Often, you will pipe the tabyl through several of these functions.</p>
<table>
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead>
<tr class="header">
<th><strong>Function</strong></th>
<th><strong>Outcome</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>adorn_totals()</code></td>
<td>Adds totals (<code>where =</code> “row”, “column”, “both”). Set
<code>name =</code> for “Total”</td>
</tr>
<tr class="even">
<td><code>adorn_percentages()</code></td>
<td>Convert counts to proportions, with <code>denominator =</code>
“row”, “col” or “all”</td>
</tr>
<tr class="odd">
<td><code>adorn_pct_formatting()</code></td>
<td>Converts proportions to percents. Specify <code>digits =</code>.
Remove the “%” symbol with <code>affix_sign = FALSE</code></td>
</tr>
<tr class="even">
<td><code>adorn_rounding()</code></td>
<td>To round proportions to <code>digits =</code> places. To round
percents use <code>adorn_pct_formatting()</code> with
<code>digits =</code></td>
</tr>
<tr class="odd">
<td><code>adorn_ns()</code></td>
<td>Add counts to a table of proportions or percents. Indicate
<code>position = “rear”</code> to show counts in parentheses, or “front”
to put the percents in parentheses</td>
</tr>
<tr class="even">
<td><code>adorn_title()</code></td>
<td>Add counts to a table of proportions or percents. Indicate
<code>position = “rear”</code> to show counts in parentheses, or “front”
to put the percents in parentheses</td>
</tr>
</tbody>
</table>
<p>Can you summarize age categories in <code>linelist</code>, drop
<code>NA</code> values, and “adorn” them to show the percentage to 2
decimal places?</p>
<div class="tutorial-exercise" data-label="crosstab_age"
data-completion="1" data-diagnostics="1" data-startover="1"
data-lines="0">
<script type="application/json" data-ui-opts="1">{"engine":"r","has_checker":true,"caption":"<span data-i18n=\"text.enginecap\" data-i18n-opts=\"{&quot;engine&quot;:&quot;R&quot;}\">R Code<\/span>"}</script>
</div>
<div class="tutorial-exercise-support" data-label="crosstab_age-hint"
data-completion="1" data-diagnostics="1" data-startover="1"
data-lines="0">
<pre class="text"><code>Re-read the table above if you need help deciding which &quot;adorn&quot; function to use in order to display age categories as a percentage</code></pre>
</div>
<div class="tutorial-exercise-support"
data-label="crosstab_age-solution" data-completion="1"
data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>linelist %&gt;%
    tabyl(age_cat, show_na = FALSE) %&gt;%
    adorn_pct_formatting(digits = 2)</code></pre>
</div>
<p>Now we want to create a cross table of <code>age_cat</code> and
<code>gender</code>, where we work out the percentage in each gender by
row, and the overall percentage in each gender across all age
categories. Can you use several “adorn” functions to do this?</p>
<div class="tutorial-exercise" data-label="crosstab_age_gender"
data-completion="1" data-diagnostics="1" data-startover="1"
data-lines="0">
<script type="application/json" data-ui-opts="1">{"engine":"r","has_checker":true,"caption":"<span data-i18n=\"text.enginecap\" data-i18n-opts=\"{&quot;engine&quot;:&quot;R&quot;}\">R Code<\/span>"}</script>
</div>
<div class="tutorial-exercise-support"
data-label="crosstab_age_gender-hint" data-completion="1"
data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>You will need to use three &quot;adorn&quot; functions. Remember to specify &quot;where = &quot; for totals, and the &quot;denominator = &quot; correctly.</code></pre>
</div>
<div class="tutorial-exercise-support"
data-label="crosstab_age_gender-solution" data-completion="1"
data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>linelist %&gt;%                                  
  tabyl(age_cat, gender) %&gt;%
  adorn_totals(where = &quot;row&quot;) %&gt;%
  adorn_percentages(denominator = &quot;row&quot;) %&gt;%
  adorn_pct_formatting()</code></pre>
</div>
<p><div class="panel-heading tutorial-quiz-title"><span data-i18n="text.quiz">Quiz</span></div></p>
<div class="panel panel-default">
<div data-label="quiz11-1" class="tutorial-question panel-body">
<div id="quiz11-1-answer_container" class="shiny-html-output"></div>
<div id="quiz11-1-message_container" class="shiny-html-output"></div>
<div id="quiz11-1-action_button_container" class="shiny-html-output"></div>
<script>if (Tutorial.triggerMathJax) Tutorial.triggerMathJax()</script>
</div>
</div>
</div>
<div id="section-printing-the-tabyl" class="section level3">
<h3>Printing the tabyl</h3>
<p>By default, the tabyl will print raw to your R table.</p>
<p>Alternatively, you can pass the tabyl to <strong>flextable</strong>
or similar package to print as a “pretty” image in the RStudio Viewer,
which could be exported as .png, .jpeg, .html, etc. Note that if
printing in this manner and using <code>adorn_titles()</code>, you must
specify <code>placement = "combined"</code>.</p>
<pre class="r"><code>linelist %&gt;%
  tabyl(age_cat, gender) %&gt;% 
  adorn_totals(where = &quot;col&quot;) %&gt;% 
  adorn_percentages(denominator = &quot;col&quot;) %&gt;% 
  adorn_pct_formatting() %&gt;% 
  adorn_ns(position = &quot;front&quot;) %&gt;% 
  adorn_title(
    row_name = &quot;Age Category&quot;,
    col_name = &quot;Gender&quot;,
    placement = &quot;combined&quot;) %&gt;% # this is necessary to print as image
  flextable::flextable() %&gt;%    # convert to pretty image
  flextable::autofit()          # format to one line per row </code></pre>
<template id="35dcca6f-7e78-4393-8d96-660cb7185ac5"><style>
.tabwid table{
  border-spacing:0px !important;
  border-collapse:collapse;
  line-height:1;
  margin-left:auto;
  margin-right:auto;
  border-width: 0;
  display: table;
  margin-top: 1.275em;
  margin-bottom: 1.275em;
  border-color: transparent;
}
.tabwid_left table{
  margin-left:0;
}
.tabwid_right table{
  margin-right:0;
}
.tabwid td {
    padding: 0;
}
.tabwid a {
  text-decoration: none;
}
.tabwid thead {
    background-color: transparent;
}
.tabwid tfoot {
    background-color: transparent;
}
.tabwid table tr {
background-color: transparent;
}
</style><div class="tabwid"><style>.cl-b6f2b1d2{}.cl-b6eac2b0{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-b6eae998{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-b6eb379a{width:86.6pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-b6eb379b{width:74.3pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-b6eb379c{width:127.5pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-b6eb379d{width:80.5pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-b6eb379e{width:86.6pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-b6eb379f{width:80.5pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-b6eb37a0{width:74.3pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-b6eb37a1{width:127.5pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-b6eb37a2{width:127.5pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 2pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-b6eb37a3{width:80.5pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 2pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-b6eb37a4{width:74.3pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 2pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-b6eb5ea0{width:86.6pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 2pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table class='cl-b6f2b1d2'>
<thead><tr style="overflow-wrap:break-word;"><td class="cl-b6eb37a2"><p class="cl-b6eae998"><span class="cl-b6eac2b0">Age Category/Gender</span></p></td><td class="cl-b6eb37a3"><p class="cl-b6eae998"><span class="cl-b6eac2b0">f</span></p></td><td class="cl-b6eb37a3"><p class="cl-b6eae998"><span class="cl-b6eac2b0">m</span></p></td><td class="cl-b6eb37a4"><p class="cl-b6eae998"><span class="cl-b6eac2b0">NA_</span></p></td><td class="cl-b6eb5ea0"><p class="cl-b6eae998"><span class="cl-b6eac2b0">Total</span></p></td></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-b6eb379c"><p class="cl-b6eae998"><span class="cl-b6eac2b0">0-4</span></p></td><td class="cl-b6eb379d"><p class="cl-b6eae998"><span class="cl-b6eac2b0">640 (22.8%)</span></p></td><td class="cl-b6eb379d"><p class="cl-b6eae998"><span class="cl-b6eac2b0">416 (14.8%)</span></p></td><td class="cl-b6eb379b"><p class="cl-b6eae998"><span class="cl-b6eac2b0">39 (14.0%)</span></p></td><td class="cl-b6eb379a"><p class="cl-b6eae998"><span class="cl-b6eac2b0">1095 (18.6%)</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b6eb379c"><p class="cl-b6eae998"><span class="cl-b6eac2b0">5-9</span></p></td><td class="cl-b6eb379d"><p class="cl-b6eae998"><span class="cl-b6eac2b0">641 (22.8%)</span></p></td><td class="cl-b6eb379d"><p class="cl-b6eae998"><span class="cl-b6eac2b0">412 (14.7%)</span></p></td><td class="cl-b6eb379b"><p class="cl-b6eae998"><span class="cl-b6eac2b0">42 (15.1%)</span></p></td><td class="cl-b6eb379a"><p class="cl-b6eae998"><span class="cl-b6eac2b0">1095 (18.6%)</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b6eb379c"><p class="cl-b6eae998"><span class="cl-b6eac2b0">10-14</span></p></td><td class="cl-b6eb379d"><p class="cl-b6eae998"><span class="cl-b6eac2b0">518 (18.5%)</span></p></td><td class="cl-b6eb379d"><p class="cl-b6eae998"><span class="cl-b6eac2b0">383 (13.7%)</span></p></td><td class="cl-b6eb379b"><p class="cl-b6eae998"><span class="cl-b6eac2b0">40 (14.4%)</span></p></td><td class="cl-b6eb379a"><p class="cl-b6eae998"><span class="cl-b6eac2b0"> 941 (16.0%)</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b6eb379c"><p class="cl-b6eae998"><span class="cl-b6eac2b0">15-19</span></p></td><td class="cl-b6eb379d"><p class="cl-b6eae998"><span class="cl-b6eac2b0">359 (12.8%)</span></p></td><td class="cl-b6eb379d"><p class="cl-b6eae998"><span class="cl-b6eac2b0">364 (13.0%)</span></p></td><td class="cl-b6eb379b"><p class="cl-b6eae998"><span class="cl-b6eac2b0">20  (7.2%)</span></p></td><td class="cl-b6eb379a"><p class="cl-b6eae998"><span class="cl-b6eac2b0"> 743 (12.6%)</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b6eb379c"><p class="cl-b6eae998"><span class="cl-b6eac2b0">20-29</span></p></td><td class="cl-b6eb379d"><p class="cl-b6eae998"><span class="cl-b6eac2b0">468 (16.7%)</span></p></td><td class="cl-b6eb379d"><p class="cl-b6eae998"><span class="cl-b6eac2b0">575 (20.5%)</span></p></td><td class="cl-b6eb379b"><p class="cl-b6eae998"><span class="cl-b6eac2b0">30 (10.8%)</span></p></td><td class="cl-b6eb379a"><p class="cl-b6eae998"><span class="cl-b6eac2b0">1073 (18.2%)</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b6eb379c"><p class="cl-b6eae998"><span class="cl-b6eac2b0">30-49</span></p></td><td class="cl-b6eb379d"><p class="cl-b6eae998"><span class="cl-b6eac2b0">179  (6.4%)</span></p></td><td class="cl-b6eb379d"><p class="cl-b6eae998"><span class="cl-b6eac2b0">557 (19.9%)</span></p></td><td class="cl-b6eb379b"><p class="cl-b6eae998"><span class="cl-b6eac2b0">18  (6.5%)</span></p></td><td class="cl-b6eb379a"><p class="cl-b6eae998"><span class="cl-b6eac2b0"> 754 (12.8%)</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b6eb379c"><p class="cl-b6eae998"><span class="cl-b6eac2b0">50-69</span></p></td><td class="cl-b6eb379d"><p class="cl-b6eae998"><span class="cl-b6eac2b0">  2  (0.1%)</span></p></td><td class="cl-b6eb379d"><p class="cl-b6eae998"><span class="cl-b6eac2b0"> 91  (3.2%)</span></p></td><td class="cl-b6eb379b"><p class="cl-b6eae998"><span class="cl-b6eac2b0"> 2  (0.7%)</span></p></td><td class="cl-b6eb379a"><p class="cl-b6eae998"><span class="cl-b6eac2b0">  95  (1.6%)</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b6eb379c"><p class="cl-b6eae998"><span class="cl-b6eac2b0">70+</span></p></td><td class="cl-b6eb379d"><p class="cl-b6eae998"><span class="cl-b6eac2b0">  0  (0.0%)</span></p></td><td class="cl-b6eb379d"><p class="cl-b6eae998"><span class="cl-b6eac2b0">  5  (0.2%)</span></p></td><td class="cl-b6eb379b"><p class="cl-b6eae998"><span class="cl-b6eac2b0"> 1  (0.4%)</span></p></td><td class="cl-b6eb379a"><p class="cl-b6eae998"><span class="cl-b6eac2b0">   6  (0.1%)</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b6eb37a1"><p class="cl-b6eae998"><span class="cl-b6eac2b0"></span></p></td><td class="cl-b6eb379f"><p class="cl-b6eae998"><span class="cl-b6eac2b0">  0  (0.0%)</span></p></td><td class="cl-b6eb379f"><p class="cl-b6eae998"><span class="cl-b6eac2b0">  0  (0.0%)</span></p></td><td class="cl-b6eb37a0"><p class="cl-b6eae998"><span class="cl-b6eac2b0">86 (30.9%)</span></p></td><td class="cl-b6eb379e"><p class="cl-b6eae998"><span class="cl-b6eac2b0">  86  (1.5%)</span></p></td></tr></tbody></table></div></template>
<div class="flextable-shadow-host" id="8139823c-71ee-42fd-8e79-c626381a3d1f"></div>
<script>
var dest = document.getElementById("8139823c-71ee-42fd-8e79-c626381a3d1f");
var template = document.getElementById("35dcca6f-7e78-4393-8d96-660cb7185ac5");
var caption = template.content.querySelector("caption");
if(caption) {
  caption.style.cssText = "display:block;text-align:center;";
  var newcapt = document.createElement("p");
  newcapt.appendChild(caption)
  dest.parentNode.insertBefore(newcapt, dest.previousSibling);
}
var fantome = dest.attachShadow({mode: 'open'});
var templateContent = template.content;
fantome.appendChild(templateContent);
</script>

</div>
<div id="section-use-on-other-tables" class="section level3">
<h3>Use on other tables</h3>
<p>You can use janitor’s adorn_*() functions on other tables, such as
those created by summarise() and count() from dplyr, or table() from
base R. Simply pipe the table to the desired janitor function. For
example:</p>
<pre class="r"><code>linelist %&gt;% 
  count(hospital) %&gt;%   # dplyr function
  adorn_totals()        # janitor function</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["hospital"],"name":[1],"type":["chr"],"align":["left"]},{"label":["n"],"name":[2],"type":["int"],"align":["right"]}],"data":[{"1":"Central Hospital","2":"454","_rn_":"1"},{"1":"Military Hospital","2":"896","_rn_":"2"},{"1":"Missing","2":"1469","_rn_":"3"},{"1":"Other","2":"885","_rn_":"4"},{"1":"Port Hospital","2":"1762","_rn_":"5"},{"1":"St. Mark's Maternity Hospital (SMMH)","2":"422","_rn_":"6"},{"1":"Total","2":"5888","_rn_":"7"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
<div id="section-saving-the-tabyl" class="section level3">
<h3>Saving the tabyl</h3>
<p>If you convert the table to a “pretty” image with a package like
<strong>flextable</strong>, you can save it with functions from that
package - like <code>save_as_html()</code>, <code>save_as_word()</code>,
<code>save_as_ppt()</code>, and <code>save_as_image()</code> from
<strong>flextable</strong></p>
<pre class="r"><code>linelist %&gt;%
  tabyl(age_cat, gender) %&gt;% 
  adorn_totals(where = &quot;col&quot;) %&gt;% 
  adorn_percentages(denominator = &quot;col&quot;) %&gt;% 
  adorn_pct_formatting() %&gt;% 
  adorn_ns(position = &quot;front&quot;) %&gt;% 
  adorn_title(
    row_name = &quot;Age Category&quot;,
    col_name = &quot;Gender&quot;,
    placement = &quot;combined&quot;) %&gt;% 
  flextable::flextable() %&gt;%                     # convert to image
  flextable::autofit() %&gt;%                       # ensure only one line per row
  flextable::save_as_docx(path = &quot;tabyl.docx&quot;)   # save as Word document to filepath</code></pre>
</div>
<div id="section-statistics" class="section level3">
<h3>Statistics</h3>
<p>You can apply statistical tests on tabyls, like
<code>chisq.test()</code> or <code>fisher.test()</code> from the
<strong>stats</strong> package as shown below. Note missing values are
not allowed so they are excluded from the tabyl with
<code>show_na = FALSE</code>.</p>
<pre class="r"><code>age_by_outcome &lt;- linelist %&gt;% 
  tabyl(age_cat, outcome, show_na = FALSE) 

chisq.test(age_by_outcome)</code></pre>
<pre><code>## 
##  Pearson&#39;s Chi-squared test
## 
## data:  age_by_outcome
## X-squared = 6.4931, df = 7, p-value = 0.4835</code></pre>
<p>We will look further into statistical tests later on in this
exericse.</p>
</div>
</div>
<div id="section-dplyr-package" class="section level2">
<h2><strong>dplyr</strong> package</h2>
<p><strong>dplyr</strong> is part of the tidyverse packages and is an
very common data management tool. Creating tables with
<strong>dplyr</strong> functions <code>summarise()</code> and
<code>count()</code> is a useful approach to calculating summary
statistics, summarize by group, or pass tables to
<code>ggplot()</code>.</p>
<p><code>summarise()</code> creates a new, summary data frame. If the
data are ungrouped, it will return a one-row dataframe with the
specified summary statistics of the entire data frame. If the data are
grouped, the new data frame will have one row per group (see Grouping
data page).</p>
<p>Within the <code>summarise()</code> parentheses, you provide the
names of each new summary column followed by an equals sign and a
statistical function to apply.</p>
<p><em>Get counts</em></p>
<p>The most simple function to apply within <code>summarise()</code> is
<code>n()</code>. Leave the parentheses empty to count the number of
rows.</p>
<pre class="r"><code>linelist %&gt;% 
  summarise(n_rows = n())   # return number of rows </code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["n_rows"],"name":[1],"type":["int"],"align":["right"]}],"data":[{"1":"5888"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>This gets more interesting if we have grouped the data
beforehand.</p>
<pre class="r"><code>linelist %&gt;% 
  group_by(age_cat) %&gt;%     # group data by unique values in column age_cat
  summarise(n_rows = n())   # return number of rows *per group*</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["age_cat"],"name":[1],"type":["fct"],"align":["left"]},{"label":["n_rows"],"name":[2],"type":["int"],"align":["right"]}],"data":[{"1":"0-4","2":"1095"},{"1":"5-9","2":"1095"},{"1":"10-14","2":"941"},{"1":"15-19","2":"743"},{"1":"20-29","2":"1073"},{"1":"30-49","2":"754"},{"1":"50-69","2":"95"},{"1":"70+","2":"6"},{"1":"NA","2":"86"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>The above command can be shortened by using the count() function
instead. count() does the following:</p>
<ol style="list-style-type: decimal">
<li>Groups the data by the columns provided</li>
<li>Summarises them with <code>n()</code>, creating the column
<code>n</code></li>
<li>Un-groups the data</li>
</ol>
<pre class="r"><code>linelist %&gt;% 
  count(age_cat)</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["age_cat"],"name":[1],"type":["fct"],"align":["left"]},{"label":["n"],"name":[2],"type":["int"],"align":["right"]}],"data":[{"1":"0-4","2":"1095"},{"1":"5-9","2":"1095"},{"1":"10-14","2":"941"},{"1":"15-19","2":"743"},{"1":"20-29","2":"1073"},{"1":"30-49","2":"754"},{"1":"50-69","2":"95"},{"1":"70+","2":"6"},{"1":"NA","2":"86"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>You can change the name of the counts column from the default
<code>n</code> to something else by specifying it to
<code>name =</code>.</p>
<p>Tabulating counts of two or more grouping columns are still returned
in “long” format, with the counts in the n column. See the page on
Pivoting data to learn about “long” and “wide” data formats.</p>
<pre class="r"><code>linelist %&gt;% 
  count(age_cat, outcome)</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["age_cat"],"name":[1],"type":["fct"],"align":["left"]},{"label":["outcome"],"name":[2],"type":["chr"],"align":["left"]},{"label":["n"],"name":[3],"type":["int"],"align":["right"]}],"data":[{"1":"0-4","2":"Death","3":"471"},{"1":"0-4","2":"Recover","3":"364"},{"1":"0-4","2":"NA","3":"260"},{"1":"5-9","2":"Death","3":"476"},{"1":"5-9","2":"Recover","3":"391"},{"1":"5-9","2":"NA","3":"228"},{"1":"10-14","2":"Death","3":"438"},{"1":"10-14","2":"Recover","3":"303"},{"1":"10-14","2":"NA","3":"200"},{"1":"15-19","2":"Death","3":"323"},{"1":"15-19","2":"Recover","3":"251"},{"1":"15-19","2":"NA","3":"169"},{"1":"20-29","2":"Death","3":"477"},{"1":"20-29","2":"Recover","3":"367"},{"1":"20-29","2":"NA","3":"229"},{"1":"30-49","2":"Death","3":"329"},{"1":"30-49","2":"Recover","3":"238"},{"1":"30-49","2":"NA","3":"187"},{"1":"50-69","2":"Death","3":"33"},{"1":"50-69","2":"Recover","3":"38"},{"1":"50-69","2":"NA","3":"24"},{"1":"70+","2":"Death","3":"3"},{"1":"70+","2":"Recover","3":"3"},{"1":"NA","2":"Death","3":"32"},{"1":"NA","2":"Recover","3":"28"},{"1":"NA","2":"NA","3":"26"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>If you are tabling a column of class <em>factor</em> then you can
ensure <em>all</em> levels are shown by adding
<code>.drop = FALSE</code> into <code>summarise()</code> or
<code>count()</code>.</p>
<p>Can you create a cross table of <code>gender</code> and
<code>source</code>?</p>
<div class="tutorial-exercise" data-label="gender_count"
data-completion="1" data-diagnostics="1" data-startover="1"
data-lines="0">
<script type="application/json" data-ui-opts="1">{"engine":"r","has_checker":true,"caption":"<span data-i18n=\"text.enginecap\" data-i18n-opts=\"{&quot;engine&quot;:&quot;R&quot;}\">R Code<\/span>"}</script>
</div>
<div class="tutorial-exercise-support"
data-label="gender_count-solution" data-completion="1"
data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>linelist %&gt;% 
  count(gender, source)</code></pre>
</div>
<div id="section-proportions" class="section level3">
<h3>Proportions</h3>
<p>Proportions can be added by piping the table to <code>mutate()</code>
to create a new column. Define the new column as the counts column (n by
default) divided by the <code>sum()</code> of the counts column (this
will return a proportion).</p>
<p>Note that in this case, <code>sum()</code> in the
<code>mutate()</code> command will return the sum of the whole column n
for use as the proportion denominator. If <code>sum()</code> is used in
grouped data (e.g. if the <code>mutate()</code> immediately followed a
<code>group_by()</code> command), it will return sums by group. As
stated just above, <code>count()</code> finishes its actions by
ungrouping. Thus, in this scenario we get full column proportions.</p>
<p>To easily display percents, you can wrap the proportion in the
function <code>percent()</code> from the package <strong>scales</strong>
(note this convert to class character).</p>
<pre class="r"><code>age_summary &lt;- linelist %&gt;% 
  count(age_cat) %&gt;%                     # group and count by gender (produces &quot;n&quot; column)
  mutate(                                # create percent of column - note the denominator
    percent = scales::percent(n / sum(n))) 

# print
age_summary</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["age_cat"],"name":[1],"type":["fct"],"align":["left"]},{"label":["n"],"name":[2],"type":["int"],"align":["right"]},{"label":["percent"],"name":[3],"type":["chr"],"align":["left"]}],"data":[{"1":"0-4","2":"1095","3":"18.60%"},{"1":"5-9","2":"1095","3":"18.60%"},{"1":"10-14","2":"941","3":"15.98%"},{"1":"15-19","2":"743","3":"12.62%"},{"1":"20-29","2":"1073","3":"18.22%"},{"1":"30-49","2":"754","3":"12.81%"},{"1":"50-69","2":"95","3":"1.61%"},{"1":"70+","2":"6","3":"0.10%"},{"1":"NA","2":"86","3":"1.46%"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>If you wish to calculate proportions <em>within groups</em> then you
need to additionally group the data using <code>group_by()</code>:</p>
<pre class="r"><code>age_by_outcome &lt;- linelist %&gt;%                  # begin with linelist
  group_by(outcome) %&gt;%                         # group by outcome 
  count(age_cat) %&gt;%                            # group and count by age_cat, and then remove age_cat grouping
  mutate(percent = scales::percent(n / sum(n))) # calculate percent - note the denominator is by outcome group</code></pre>
<p>Can you now drop the <code>NA</code> values from <code>gender</code>
and <code>outcome</code> in <code>linelist</code>, then produce a
cross-table of <code>gender</code> and <code>outcome</code> to count the
number of rows in each cross-tabulation?</p>
<div class="tutorial-exercise" data-label="dplyr_crosstab"
data-completion="1" data-diagnostics="1" data-startover="1"
data-lines="0">
<pre class="text"><code>linelist %&gt;%</code></pre>
<script type="application/json" data-ui-opts="1">{"engine":"r","has_checker":true,"caption":"<span data-i18n=\"text.enginecap\" data-i18n-opts=\"{&quot;engine&quot;:&quot;R&quot;}\">R Code<\/span>"}</script>
</div>
<div class="tutorial-exercise-support" data-label="dplyr_crosstab-hint"
data-completion="1" data-diagnostics="1" data-startover="1"
data-lines="0">
<pre class="text"><code>You can remove NA values using a number of different commands, but remember that we only care about the NA values in the columns &#39;gender&#39; and &#39;outcome&#39;. Additionally, remember how many columns we need to group by.</code></pre>
</div>
<div class="tutorial-exercise-support"
data-label="dplyr_crosstab-solution" data-completion="1"
data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>linelist %&gt;% 
    drop_na(gender, outcome) %&gt;%
    group_by(gender, outcome) %&gt;%
    count()</code></pre>
</div>
</div>
<div id="section-plotting" class="section level3">
<h3>Plotting</h3>
<p>One of the advantages of using <strong>dplyr</strong> is that the
data is already in the format expected for plotting by
<strong>ggplot</strong>, for example:</p>
<pre class="r"><code>linelist %&gt;%                      # begin with linelist
  count(age_cat, outcome) %&gt;%     # group and tabulate counts by two columns
  ggplot()+                       # pass new data frame to ggplot
    geom_col(                     # create bar plot
      mapping = aes(   
        x = outcome,              # map outcome to x-axis
        fill = age_cat,           # map age_cat to the fill
        y = n))                   # map the counts column `n` to the height</code></pre>
<p><img src="4_data_cleaning_descriptive_tables_and_statistical_tests_files/figure-html/unnamed-chunk-20-1.png" width="624" /></p>
</div>
<div id="section-summary-statistics" class="section level3">
<h3>Summary statistics</h3>
<p>Another advantage of using <strong>dplyr</strong> and
<code>summarise()</code> is that you can return more advanced
statistical summarises such as <code>median()</code>,
<code>mean()</code>, <code>max()</code>, <code>min()</code>,
<code>sd()</code> (standard deviation) and percentiles.</p>
<p>The syntax is the same - within the <code>summarise()</code>
parentheses you provide the names of each new summary column followed by
an equals sign and a statistical function to apply. Within the
statistical function, give the column(s) to be operated on and any
relevant arguments (e.g. <code>na.rm = TRUE</code> for most mathematical
functions).</p>
<p>You can also use <code>sum()</code> to return the number of rows that
meet a logical criteria. The expression within is counted if it
evaluates to <code>TRUE</code>. For example:</p>
<ul>
<li><code>sum(age_years &lt; 18, na.rm = T)</code></li>
<li><code>sum(gender == "male", na.rm = T)</code></li>
<li><code>sum(response %in% c("Likely", "Very Likely"))</code></li>
</ul>
<p>Below, <code>linelist</code> data are summarised to describe the days
delay from symptom onset to hospital admission (column
<code>days_onset_hosp</code>), by hospital.</p>
<pre class="r"><code>summary_table &lt;- linelist %&gt;%                                        # begin with linelist, save out as new object
  group_by(hospital) %&gt;%                                             # group all calculations by hospital
  summarise(                                                         # only the below summary columns will be returned
    cases       = n(),                                                # number of rows per group
    delay_max   = max(days_onset_hosp, na.rm = T),                    # max delay
    delay_mean  = round(mean(days_onset_hosp, na.rm = T), digits = 1),  # mean delay, rounded
    delay_sd    = round(sd(days_onset_hosp, na.rm = T), digits = 1),  # standard deviation of delays, rounded
    delay_3     = sum(days_onset_hosp &gt;= 3, na.rm = T),               # number of rows with delay of 3 or more days
    pct_delay_3 = scales::percent(delay_3 / cases)                    # convert previously-defined delay column to percent 
  )

summary_table  # print</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["hospital"],"name":[1],"type":["chr"],"align":["left"]},{"label":["cases"],"name":[2],"type":["int"],"align":["right"]},{"label":["delay_max"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["delay_mean"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["delay_sd"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["delay_3"],"name":[6],"type":["int"],"align":["right"]},{"label":["pct_delay_3"],"name":[7],"type":["chr"],"align":["left"]}],"data":[{"1":"Central Hospital","2":"454","3":"12","4":"1.9","5":"1.9","6":"108","7":"24%"},{"1":"Military Hospital","2":"896","3":"15","4":"2.1","5":"2.4","6":"253","7":"28%"},{"1":"Missing","2":"1469","3":"22","4":"2.1","5":"2.3","6":"399","7":"27%"},{"1":"Other","2":"885","3":"18","4":"2.0","5":"2.2","6":"234","7":"26%"},{"1":"Port Hospital","2":"1762","3":"16","4":"2.1","5":"2.2","6":"470","7":"27%"},{"1":"St. Mark's Maternity Hospital (SMMH)","2":"422","3":"18","4":"2.1","5":"2.3","6":"116","7":"27%"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>Can you now summarise the median, min and max ages in
<code>age</code> by <code>gender</code> in <code>linelist</code>?
Remember to remove <code>NA</code> values!</p>
<div class="tutorial-exercise" data-label="dplyr_summarise"
data-completion="1" data-diagnostics="1" data-startover="1"
data-lines="0">
<pre class="text"><code>linelist %&gt;%</code></pre>
<script type="application/json" data-ui-opts="1">{"engine":"r","has_checker":true,"caption":"<span data-i18n=\"text.enginecap\" data-i18n-opts=\"{&quot;engine&quot;:&quot;R&quot;}\">R Code<\/span>"}</script>
</div>
<div class="tutorial-exercise-support" data-label="dplyr_summarise-hint"
data-completion="1" data-diagnostics="1" data-startover="1"
data-lines="0">
<pre class="text"><code>Remember to drop NA values from &#39;gender&#39; and to ignore NA values in the age column.</code></pre>
</div>
<div class="tutorial-exercise-support"
data-label="dplyr_summarise-solution" data-completion="1"
data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>linelist %&gt;%
    group_by(gender) %&gt;%
    drop_na(gender) %&gt;%
    summarise(
    median_age = median(age, na.rm = T),
    min_age = min(age, na.rm = T),
    max_age = max(age, na.rm = T),
)</code></pre>
</div>
</div>
<div id="section-conditional-statistics" class="section level3">
<h3>Conditional statistics</h3>
<p>We may want to return <em>conditional statistics</em>, e.g. the
maximum of rows that meet a certain criteria. This can be done by
subsetting the column with a square bracket <code>[]</code>. The example
below returns the maximum temperature for patients classified having or
not having fever. Be aware however - it may be more appropriate to add
another column to the <code>group_by()</code> command and
<code>pivot_wider()</code>.</p>
<pre class="r"><code>linelist %&gt;% 
  group_by(hospital) %&gt;% 
  summarise(
    max_temp_fvr = max(temp[fever == &quot;yes&quot;], na.rm = T),
    max_temp_no = max(temp[fever == &quot;no&quot;], na.rm = T)
  )</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["hospital"],"name":[1],"type":["chr"],"align":["left"]},{"label":["max_temp_fvr"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["max_temp_no"],"name":[3],"type":["dbl"],"align":["right"]}],"data":[{"1":"Central Hospital","2":"40.4","3":"38.0"},{"1":"Military Hospital","2":"40.5","3":"38.0"},{"1":"Missing","2":"40.6","3":"38.0"},{"1":"Other","2":"40.8","3":"37.9"},{"1":"Port Hospital","2":"40.6","3":"38.0"},{"1":"St. Mark's Maternity Hospital (SMMH)","2":"40.6","3":"37.9"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>Can you now work out the proportion of people (in a column
<code>prop_outcome_death</code>) who have the outcome of death by age
category and gender?</p>
<div class="tutorial-exercise" data-label="dplyr_conditional_death"
data-completion="1" data-diagnostics="1" data-startover="1"
data-lines="0">
<pre class="text"><code>linelist %&gt;%</code></pre>
<script type="application/json" data-ui-opts="1">{"engine":"r","has_checker":true,"caption":"<span data-i18n=\"text.enginecap\" data-i18n-opts=\"{&quot;engine&quot;:&quot;R&quot;}\">R Code<\/span>"}</script>
</div>
<div class="tutorial-exercise-support"
data-label="dplyr_conditional_death-hint" data-completion="1"
data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>You may have to use group_by() more than once, and count() as well as summarise()</code></pre>
</div>
<div class="tutorial-exercise-support"
data-label="dplyr_conditional_death-solution" data-completion="1"
data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>linelist %&gt;% 
  group_by(age_cat, outcome) %&gt;% 
  count(outcome) %&gt;%
  group_by(age_cat) %&gt;%
  summarise(prop_outcome_death = sum(n[outcome == &quot;Death&quot;], na.rm = T)/sum(n, na.rm = T))</code></pre>
</div>
</div>
<div id="section-glueing-together" class="section level3">
<h3>Glueing together</h3>
<p>The function <code>str_glue()</code> from <strong>stringr</strong> is
useful to combine values from several columns into one new column. In
this context this is typically used after the <code>summarise()</code>
command.</p>
<p>In the Characters and strings page, various options for combining
columns are discussed, including <code>unite()</code>, and
<code>paste0()</code>. In this use case, we advocate for
<code>str_glue()</code> because it is more flexible than
<code>unite()</code> and has more simple syntax than
<code>paste0()</code>.</p>
<p>Below, the <code>summary_table</code> data frame (created above) is
mutated such that columns <code>delay_mean</code> and
<code>delay_sd</code> are combined, parentheses formating is added to
the new column, and their respective old columns are removed.</p>
<p>Then, to make the table more presentable, a total row is added with
<code>adorn_totals()</code> from janitor (which ignores non-numeric
columns). Lastly, we use <code>select()</code> from
<strong>dplyr</strong> to both re-order and rename to nicer column
names.</p>
<pre class="r"><code>summary_table %&gt;% 
  mutate(delay = str_glue(&quot;{delay_mean} ({delay_sd})&quot;)) %&gt;%  # combine and format other values
  select(-c(delay_mean, delay_sd)) %&gt;%                       # remove two old columns   
  adorn_totals(where = &quot;row&quot;) %&gt;%                            # add total row
  select(                                                    # order and rename cols
    &quot;Hospital Name&quot;   = hospital,
    &quot;Cases&quot;           = cases,
    &quot;Max delay&quot;       = delay_max,
    &quot;Mean (sd)&quot;       = delay,
    &quot;Delay 3+ days&quot;   = delay_3,
    &quot;% delay 3+ days&quot; = pct_delay_3
    )</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["Hospital Name"],"name":[1],"type":["chr"],"align":["left"]},{"label":["Cases"],"name":[2],"type":["int"],"align":["right"]},{"label":["Max delay"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["Mean (sd)"],"name":[4],"type":["chr"],"align":["left"]},{"label":["Delay 3+ days"],"name":[5],"type":["int"],"align":["right"]},{"label":["% delay 3+ days"],"name":[6],"type":["chr"],"align":["left"]}],"data":[{"1":"Central Hospital","2":"454","3":"12","4":"1.9 (1.9)","5":"108","6":"24%"},{"1":"Military Hospital","2":"896","3":"15","4":"2.1 (2.4)","5":"253","6":"28%"},{"1":"Missing","2":"1469","3":"22","4":"2.1 (2.3)","5":"399","6":"27%"},{"1":"Other","2":"885","3":"18","4":"2 (2.2)","5":"234","6":"26%"},{"1":"Port Hospital","2":"1762","3":"16","4":"2.1 (2.2)","5":"470","6":"27%"},{"1":"St. Mark's Maternity Hospital (SMMH)","2":"422","3":"18","4":"2.1 (2.3)","5":"116","6":"27%"},{"1":"Total","2":"5888","3":"101","4":"-","5":"1580","6":"-"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
<div id="section-percentiles" class="section level3">
<h3>Percentiles</h3>
<p>Percentiles and quantiles in <strong>dplyr</strong> deserve a special
mention. To return quantiles, use <code>quantile()</code> with the
defaults or specify the value(s) you would like with
<code>probs =</code>.</p>
<pre class="r"><code># get default percentile values of age (0%, 25%, 50%, 75%, 100%)
linelist %&gt;% 
  summarise(age_percentiles = quantile(age_years, na.rm = TRUE))</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["age_percentiles"],"name":[1],"type":["dbl"],"align":["right"]}],"data":[{"1":"0","_row":"0%"},{"1":"6","_row":"25%"},{"1":"13","_row":"50%"},{"1":"23","_row":"75%"},{"1":"84","_row":"100%"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>and if we wanted to use manually specified percentiles, and show them
by hospital</p>
<pre class="r"><code># get manually-specified percentile values of age (5%, 50%, 75%, 98%)
linelist %&gt;% 
  group_by(hospital) %&gt;% 
  summarise(
    p05 = quantile(age_years, probs = 0.05, na.rm=T),
    p50 = quantile(age_years, probs = 0.5, na.rm=T),
    p75 = quantile(age_years, probs = 0.75, na.rm=T),
    p98 = quantile(age_years, probs = 0.98, na.rm=T)
    )</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["hospital"],"name":[1],"type":["chr"],"align":["left"]},{"label":["p05"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["p50"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["p75"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["p98"],"name":[5],"type":["dbl"],"align":["right"]}],"data":[{"1":"Central Hospital","2":"1","3":"12","4":"21","5":"48.00"},{"1":"Military Hospital","2":"1","3":"13","4":"24","5":"45.00"},{"1":"Missing","2":"1","3":"13","4":"23","5":"48.20"},{"1":"Other","2":"1","3":"13","4":"23","5":"50.00"},{"1":"Port Hospital","2":"1","3":"14","4":"24","5":"49.00"},{"1":"St. Mark's Maternity Hospital (SMMH)","2":"2","3":"12","4":"22","5":"50.24"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>Can you use what you have learned above to do the following:</p>
<ol style="list-style-type: decimal">
<li>Remove <code>NA</code> values from <code>outcome</code> and
<code>age_cat</code> and group by these columns</li>
<li>Summarise <code>wt_kg</code> to produce quantiles of 2.5%, 50% and
97.5% in columns called <code>p02.5</code>, <code>p50</code> and
<code>p97.5</code></li>
<li>Use <code>str_glue()</code> to combine the columns as “p50 (p02.5 -
p97.5)” and call this new column `wt_kg_quantile”. This will display the
median and 95% quantile values in a single column.</li>
</ol>
<div class="tutorial-exercise" data-label="glue_quantile"
data-completion="1" data-diagnostics="1" data-startover="1"
data-lines="0">
<pre class="text"><code>linelist %&gt;%</code></pre>
<script type="application/json" data-ui-opts="1">{"engine":"r","has_checker":true,"caption":"<span data-i18n=\"text.enginecap\" data-i18n-opts=\"{&quot;engine&quot;:&quot;R&quot;}\">R Code<\/span>"}</script>
</div>
<div class="tutorial-exercise-support" data-label="glue_quantile-hint"
data-completion="1" data-diagnostics="1" data-startover="1"
data-lines="0">
<pre class="text"><code>Remember to carry out the exercise in the order specified above. You have been through each of these steps individually, it is now time to combine them.</code></pre>
</div>
<div class="tutorial-exercise-support"
data-label="glue_quantile-solution" data-completion="1"
data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>linelist %&gt;%
  drop_na(outcome, age_cat) %&gt;%
  group_by(outcome, age_cat) %&gt;%
  summarise(p02.5 = quantile(wt_kg, probs = 0.025, na.rm = T),
            p50 = quantile(wt_kg, probs = 0.5, na.rm = T),
            p97.5 = quantile(wt_kg, probs = 0.975, na.rm = T)) %&gt;%
  transmute(outcome,
            age_cat,
            wt_kg_quantile = str_glue(&quot;{p50} ({p02.5} - {p97.5})&quot;))</code></pre>
</div>
</div>
<div id="section-summarise-aggregated-data" class="section level3">
<h3>Summarise aggregated data</h3>
<p>If you begin with aggregated data, using <code>n()</code> return the
number of rows, not the sum of the aggregated counts. To get sums, use
<code>sum()</code> on the data’s counts column.</p>
<p>For example, let’s say you are beginning with the data frame of
counts below, called <code>linelist_agg</code> - it shows in “long”
format the case counts by outcome and gender.</p>
<pre class="r"><code>linelist_agg &lt;- linelist %&gt;% 
  drop_na(gender, outcome) %&gt;% 
  count(outcome, gender)

linelist_agg</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["outcome"],"name":[1],"type":["chr"],"align":["left"]},{"label":["gender"],"name":[2],"type":["chr"],"align":["left"]},{"label":["n"],"name":[3],"type":["int"],"align":["right"]}],"data":[{"1":"Death","2":"f","3":"1227"},{"1":"Death","2":"m","3":"1228"},{"1":"Recover","2":"f","3":"953"},{"1":"Recover","2":"m","3":"950"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>To sum the counts (in column <code>n</code>) by group you can use
<code>summarise()</code> but set the new column equal to
<code>sum(n, na.rm=T)</code>. To add a conditional element to the sum
operation, you can use the subset bracket <code>[ ]</code> syntax on the
counts column.</p>
<pre class="r"><code>linelist_agg %&gt;% 
  group_by(outcome) %&gt;% 
  summarise(
    total_cases  = sum(n, na.rm=T),
    male_cases   = sum(n[gender == &quot;m&quot;], na.rm=T),
    female_cases = sum(n[gender == &quot;f&quot;], na.rm=T))</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["outcome"],"name":[1],"type":["chr"],"align":["left"]},{"label":["total_cases"],"name":[2],"type":["int"],"align":["right"]},{"label":["male_cases"],"name":[3],"type":["int"],"align":["right"]},{"label":["female_cases"],"name":[4],"type":["int"],"align":["right"]}],"data":[{"1":"Death","2":"2455","3":"1228","4":"1227"},{"1":"Recover","2":"1903","3":"950","4":"953"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<div class="panel panel-default">
<div data-label="rhetorical1" class="tutorial-question panel-body">
<div id="rhetorical1-answer_container" class="shiny-html-output"></div>
<div id="rhetorical1-message_container" class="shiny-html-output"></div>
<div id="rhetorical1-action_button_container" class="shiny-html-output"></div>
<script>if (Tutorial.triggerMathJax) Tutorial.triggerMathJax()</script>
</div>
</div>
</div>
<div id="section-across" class="section level3">
<h3><code>across()</code></h3>
<p>You can use <code>summarise()</code> across multiple columns using
<code>across()</code>. This makes life easier when you want to calculate
the same statistics for many columns. Place <code>across()</code> within
<code>summarise()</code> and specify the following:</p>
<ul>
<li><code>.cols</code> = as either a vector of column names
<code>c()</code> or “tidyselect” helper functions</li>
<li><code>.fns</code> = the function to perform (no parentheses) - you
can provide multiple within a <code>list()</code></li>
</ul>
<p>Below, <code>mean()</code> is applied to several numeric columns. A
vector of columns are named explicitly to <code>.cols =</code> and a
single function mean is specified (no parentheses) to
<code>.fns =</code>. Any additional arguments for the function
(e.g. <code>na.rm=TRUE</code>) are provided after <code>.fns =</code>,
separated by a comma.</p>
<p>It can be difficult to get the order of parentheses and commas
correct when using <code>across()</code>. Remember that within
<code>across()</code> you must include the columns, the functions, and
any extra arguments needed for the functions.</p>
<pre class="r"><code>linelist %&gt;% 
  group_by(outcome) %&gt;% 
  summarise(across(.cols = c(age_years, temp, wt_kg, ht_cm),  # columns
                   .fns = mean,                               # function
                   na.rm=T))                                  # extra arguments</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["outcome"],"name":[1],"type":["chr"],"align":["left"]},{"label":["age_years"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["temp"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["wt_kg"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["ht_cm"],"name":[5],"type":["dbl"],"align":["right"]}],"data":[{"1":"Death","2":"15.87856","3":"38.55964","4":"52.58521","5":"124.8637"},{"1":"Recover","2":"16.05614","3":"38.56157","4":"52.48008","5":"124.9849"},{"1":"NA","2":"16.23606","3":"38.55074","4":"53.00831","5":"125.1255"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>You can also use multiple functions at once if you provide the
argument to <code>.fns =</code> within a <code>list()</code>. You can
also provide character names which are appended in the new column
names.</p>
<pre class="r"><code>linelist %&gt;% 
  group_by(outcome) %&gt;% 
  summarise(across(.cols = c(age_years, temp, wt_kg, ht_cm), # columns
                   .fns = list(&quot;mean&quot; = mean, &quot;sd&quot; = sd),    # multiple functions 
                   na.rm=T))                                 # extra arguments</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["outcome"],"name":[1],"type":["chr"],"align":["left"]},{"label":["age_years_mean"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["age_years_sd"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["temp_mean"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["temp_sd"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["wt_kg_mean"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["wt_kg_sd"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["ht_cm_mean"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["ht_cm_sd"],"name":[9],"type":["dbl"],"align":["right"]}],"data":[{"1":"Death","2":"15.87856","3":"12.31050","4":"38.55964","5":"0.9620178","6":"52.58521","7":"18.39902","8":"124.8637","9":"48.67045"},{"1":"Recover","2":"16.05614","3":"12.95936","4":"38.56157","5":"0.9965853","6":"52.48008","7":"18.63656","8":"124.9849","9":"50.06488"},{"1":"NA","2":"16.23606","3":"12.80931","4":"38.55074","5":"0.9762084","6":"53.00831","7":"18.87075","8":"125.1255","9":"50.37755"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>Here are those “tidyselect” helper functions you can provide to
<code>.cols =</code> to select columns:</p>
<ul>
<li><code>everything()</code> - all other columns not mentioned</li>
<li><code>last_col()</code> - the last column</li>
<li><code>where()</code> - applies a function to all columns and selects
those which are <code>TRUE</code></li>
<li><code>starts_with()</code> - matches to a specified prefix. Example:
<code>starts_with("date")</code></li>
<li><code>ends_with()</code> - matches to a specified suffix. Example:
<code>ends_with("_end")</code></li>
<li><code>contains()</code> - columns containing a character string.
Example: <code>contains("time")</code></li>
<li><code>matches()</code> - to apply a regular expression (regex).
Example: <code>contains("[pt]al")</code></li>
<li><code>num_range()</code> -</li>
<li><code>any_of()</code> - matches if column is named. Useful if the
name might not exist. Example:
<code>any_of(date_onset, date_death, cardiac_arrest)</code></li>
</ul>
<p><div class="panel-heading tutorial-quiz-title"><span data-i18n="text.quiz">Quiz</span></div></p>
<div class="panel panel-default">
<div data-label="quiz12-1" class="tutorial-question panel-body">
<div id="quiz12-1-answer_container" class="shiny-html-output"></div>
<div id="quiz12-1-message_container" class="shiny-html-output"></div>
<div id="quiz12-1-action_button_container" class="shiny-html-output"></div>
<script>if (Tutorial.triggerMathJax) Tutorial.triggerMathJax()</script>
</div>
</div>
<div class="panel panel-default">
<div data-label="quiz12-2" class="tutorial-question panel-body">
<div id="quiz12-2-answer_container" class="shiny-html-output"></div>
<div id="quiz12-2-message_container" class="shiny-html-output"></div>
<div id="quiz12-2-action_button_container" class="shiny-html-output"></div>
<script>if (Tutorial.triggerMathJax) Tutorial.triggerMathJax()</script>
</div>
</div>
<div class="panel panel-default">
<div data-label="quiz12-3" class="tutorial-question panel-body">
<div id="quiz12-3-answer_container" class="shiny-html-output"></div>
<div id="quiz12-3-message_container" class="shiny-html-output"></div>
<div id="quiz12-3-action_button_container" class="shiny-html-output"></div>
<script>if (Tutorial.triggerMathJax) Tutorial.triggerMathJax()</script>
</div>
</div>
<p>Can you summarise <code>linelist</code> by <code>gender</code> in
order to calculate the numer of deaths and recovered and then add on
totals, proportions in each category (by column) and convert these to
percentages?</p>
<div class="tutorial-exercise" data-label="linelist_adorn"
data-completion="1" data-diagnostics="1" data-startover="1"
data-lines="0">
<pre class="text"><code>linelist %&gt;%</code></pre>
<script type="application/json" data-ui-opts="1">{"engine":"r","has_checker":true,"caption":"<span data-i18n=\"text.enginecap\" data-i18n-opts=\"{&quot;engine&quot;:&quot;R&quot;}\">R Code<\/span>"}</script>
</div>
<div class="tutorial-exercise-support" data-label="linelist_adorn-hint"
data-completion="1" data-diagnostics="1" data-startover="1"
data-lines="0">
<pre class="text"><code>Remember you can use the &quot;adorn_&quot; functions from the janitor package on dplyr (and any other) tables. Refer to the previous section if you need to be reminded of which &quot;adorn_&quot; functions to use</code></pre>
</div>
<div class="tutorial-exercise-support"
data-label="linelist_adorn-solution" data-completion="1"
data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>linelist %&gt;% 
  group_by(gender) %&gt;%
  summarise(
    n_death  = sum(outcome == &quot;Death&quot;, na.rm = T),
    n_recover = sum(outcome == &quot;Recover&quot;, na.rm = T),
  ) %&gt;% 
  adorn_totals() %&gt;% 
  adorn_percentages(&quot;col&quot;) %&gt;% 
  adorn_pct_formatting()</code></pre>
</div>
</div>
</div>
<div id="section-gtsummary-package" class="section level2">
<h2><strong>gtsummary</strong> package</h2>
<p>If you want to print your summary statistics in a pretty,
publication-ready graphic, you can use the <strong>gtsummary</strong>
package and its function <code>tbl_summary()</code>. The code can seem
complex at first, but the outputs look very nice and print to your
RStudio Viewer panel as an HTML image.</p>
<div id="section-summary-table" class="section level3">
<h3>Summary table</h3>
<p>The default behavior of <code>tbl_summary()</code> provides a summary
of the columns included, outputting median and inter-quartile range
(IQR) for numeric columns, and counts (%) for categorical columns.
Missing values are converted to “Unknown”. Footnotes are added to the
bottom to explain the statistics, while the total N is shown at the
top.</p>
<pre class="r"><code>linelist %&gt;% 
  select(age_years, gender, outcome, fever, temp, hospital) %&gt;%  # keep only the columns of interest
  tbl_summary()                                                  # default</code></pre>
<div id="pallyryhve" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#pallyryhve .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#pallyryhve .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#pallyryhve .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#pallyryhve .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#pallyryhve .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#pallyryhve .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#pallyryhve .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#pallyryhve .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#pallyryhve .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#pallyryhve .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#pallyryhve .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#pallyryhve .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#pallyryhve .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#pallyryhve .gt_from_md > :first-child {
  margin-top: 0;
}

#pallyryhve .gt_from_md > :last-child {
  margin-bottom: 0;
}

#pallyryhve .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#pallyryhve .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#pallyryhve .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#pallyryhve .gt_row_group_first td {
  border-top-width: 2px;
}

#pallyryhve .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#pallyryhve .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#pallyryhve .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#pallyryhve .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#pallyryhve .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#pallyryhve .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#pallyryhve .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#pallyryhve .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#pallyryhve .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#pallyryhve .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-left: 4px;
  padding-right: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#pallyryhve .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#pallyryhve .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#pallyryhve .gt_left {
  text-align: left;
}

#pallyryhve .gt_center {
  text-align: center;
}

#pallyryhve .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#pallyryhve .gt_font_normal {
  font-weight: normal;
}

#pallyryhve .gt_font_bold {
  font-weight: bold;
}

#pallyryhve .gt_font_italic {
  font-style: italic;
}

#pallyryhve .gt_super {
  font-size: 65%;
}

#pallyryhve .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 75%;
  vertical-align: 0.4em;
}

#pallyryhve .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#pallyryhve .gt_slash_mark {
  font-size: 0.7em;
  line-height: 0.7em;
  vertical-align: 0.15em;
}

#pallyryhve .gt_fraction_numerator {
  font-size: 0.6em;
  line-height: 0.6em;
  vertical-align: 0.45em;
}

#pallyryhve .gt_fraction_denominator {
  font-size: 0.6em;
  line-height: 0.6em;
  vertical-align: -0.05em;
}
</style>
<table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1"><strong>Characteristic</strong></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1"><strong>N = 5,888</strong><sup class="gt_footnote_marks">1</sup></th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td class="gt_row gt_left">age_years</td>
<td class="gt_row gt_center">13 (6, 23)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;">Unknown</td>
<td class="gt_row gt_center">86</td></tr>
    <tr><td class="gt_row gt_left">gender</td>
<td class="gt_row gt_center"></td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;">f</td>
<td class="gt_row gt_center">2,807 (50%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;">m</td>
<td class="gt_row gt_center">2,803 (50%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;">Unknown</td>
<td class="gt_row gt_center">278</td></tr>
    <tr><td class="gt_row gt_left">outcome</td>
<td class="gt_row gt_center"></td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;">Death</td>
<td class="gt_row gt_center">2,582 (57%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;">Recover</td>
<td class="gt_row gt_center">1,983 (43%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;">Unknown</td>
<td class="gt_row gt_center">1,323</td></tr>
    <tr><td class="gt_row gt_left">fever</td>
<td class="gt_row gt_center">4,549 (81%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;">Unknown</td>
<td class="gt_row gt_center">249</td></tr>
    <tr><td class="gt_row gt_left">temp</td>
<td class="gt_row gt_center">38.80 (38.20, 39.20)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;">Unknown</td>
<td class="gt_row gt_center">149</td></tr>
    <tr><td class="gt_row gt_left">hospital</td>
<td class="gt_row gt_center"></td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;">Central Hospital</td>
<td class="gt_row gt_center">454 (7.7%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;">Military Hospital</td>
<td class="gt_row gt_center">896 (15%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;">Missing</td>
<td class="gt_row gt_center">1,469 (25%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;">Other</td>
<td class="gt_row gt_center">885 (15%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;">Port Hospital</td>
<td class="gt_row gt_center">1,762 (30%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;">St. Mark's Maternity Hospital (SMMH)</td>
<td class="gt_row gt_center">422 (7.2%)</td></tr>
  </tbody>
  
  <tfoot class="gt_footnotes">
    <tr>
      <td class="gt_footnote" colspan="2"><sup class="gt_footnote_marks">1</sup> Median (IQR); n (%)</td>
    </tr>
  </tfoot>
</table>
</div>
<p>This summary table gives you a good overview of the columns of
interest, however you are likely to want to make some adjustments</p>
<div class="panel panel-default">
<div data-label="rhetorical2" class="tutorial-question panel-body">
<div id="rhetorical2-answer_container" class="shiny-html-output"></div>
<div id="rhetorical2-message_container" class="shiny-html-output"></div>
<div id="rhetorical2-action_button_container" class="shiny-html-output"></div>
<script>if (Tutorial.triggerMathJax) Tutorial.triggerMathJax()</script>
</div>
</div>
</div>
<div id="section-adjustments" class="section level3">
<h3>Adjustments</h3>
<p>Now we will explain how the function works and how to make
adjustments. The key arguments are detailed below:</p>
<ul>
<li><code>by =</code> - You can stratify your table by a column (e.g. by
outcome), creating a 2-way table.</li>
<li><code>statistic =</code> - Use an equations to specify which
statistics to show and how to display them. There are two sides to the
equation, separated by a tilde <code>~</code>
<ul>
<li>The right side of the equation uses the syntax of
<code>str_glue()</code> from <strong>stringr</strong></li>
<li>For the left side of the equation, you can specify columns by name
(e.g. <code>age</code> or c(<code>age</code>, <code>gender</code>)) or
using helpers such as <code>all_continuous()</code>,
<code>contains()</code>, <code>starts_with()</code>, etc.</li>
</ul></li>
</ul>
<pre class="r"><code>linelist %&gt;% 
  select(age_years) %&gt;%                       # keep only columns of interest 
  tbl_summary(                                # create summary table
    statistic = age_years ~ &quot;({min}, {max})&quot;) # print min and max of age</code></pre>
<div id="ibiiwikvyj" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#ibiiwikvyj .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#ibiiwikvyj .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ibiiwikvyj .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#ibiiwikvyj .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#ibiiwikvyj .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ibiiwikvyj .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ibiiwikvyj .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#ibiiwikvyj .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#ibiiwikvyj .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#ibiiwikvyj .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#ibiiwikvyj .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#ibiiwikvyj .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#ibiiwikvyj .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#ibiiwikvyj .gt_from_md > :first-child {
  margin-top: 0;
}

#ibiiwikvyj .gt_from_md > :last-child {
  margin-bottom: 0;
}

#ibiiwikvyj .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#ibiiwikvyj .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#ibiiwikvyj .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#ibiiwikvyj .gt_row_group_first td {
  border-top-width: 2px;
}

#ibiiwikvyj .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ibiiwikvyj .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#ibiiwikvyj .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#ibiiwikvyj .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ibiiwikvyj .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ibiiwikvyj .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#ibiiwikvyj .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#ibiiwikvyj .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ibiiwikvyj .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ibiiwikvyj .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-left: 4px;
  padding-right: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#ibiiwikvyj .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ibiiwikvyj .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#ibiiwikvyj .gt_left {
  text-align: left;
}

#ibiiwikvyj .gt_center {
  text-align: center;
}

#ibiiwikvyj .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#ibiiwikvyj .gt_font_normal {
  font-weight: normal;
}

#ibiiwikvyj .gt_font_bold {
  font-weight: bold;
}

#ibiiwikvyj .gt_font_italic {
  font-style: italic;
}

#ibiiwikvyj .gt_super {
  font-size: 65%;
}

#ibiiwikvyj .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 75%;
  vertical-align: 0.4em;
}

#ibiiwikvyj .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#ibiiwikvyj .gt_slash_mark {
  font-size: 0.7em;
  line-height: 0.7em;
  vertical-align: 0.15em;
}

#ibiiwikvyj .gt_fraction_numerator {
  font-size: 0.6em;
  line-height: 0.6em;
  vertical-align: 0.45em;
}

#ibiiwikvyj .gt_fraction_denominator {
  font-size: 0.6em;
  line-height: 0.6em;
  vertical-align: -0.05em;
}
</style>
<table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1"><strong>Characteristic</strong></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1"><strong>N = 5,888</strong><sup class="gt_footnote_marks">1</sup></th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td class="gt_row gt_left">age_years</td>
<td class="gt_row gt_center">(0, 84)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;">Unknown</td>
<td class="gt_row gt_center">86</td></tr>
  </tbody>
  
  <tfoot class="gt_footnotes">
    <tr>
      <td class="gt_footnote" colspan="2"><sup class="gt_footnote_marks">1</sup> (Range)</td>
    </tr>
  </tfoot>
</table>
</div>
<ul>
<li>You can also differentiate syntax for separate columns or types of
columns by providing them in a <code>list()</code>, e.g. </li>
</ul>
<pre class="r"><code>linelist %&gt;% 
  select(age_years, gender, outcome, fever, temp, hospital) %&gt;% # keep only columns of interest
  tbl_summary(     
    by = outcome,                                               # stratify entire table by outcome
    statistic = list(all_continuous() ~ &quot;{mean} ({sd})&quot;,        # stats and format for continuous columns
                     all_categorical() ~ &quot;{n} / {N} ({p}%)&quot;),   # stats and format for categorical columns
    digits = all_continuous() ~ 1,                              # rounding for continuous columns
    type   = all_categorical() ~ &quot;categorical&quot;,                 # force all categorical levels to display
    label  = list(                                              # display labels for column names
      outcome   ~ &quot;Outcome&quot;,                           
      age_years ~ &quot;Age (years)&quot;,
      gender    ~ &quot;Gender&quot;,
      temp      ~ &quot;Temperature&quot;,
      hospital  ~ &quot;Hospital&quot;),
    missing_text = &quot;Missing&quot;                                    # how missing values should display
  )</code></pre>
<div id="fvwbcabsve" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#fvwbcabsve .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#fvwbcabsve .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#fvwbcabsve .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#fvwbcabsve .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#fvwbcabsve .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#fvwbcabsve .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#fvwbcabsve .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#fvwbcabsve .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#fvwbcabsve .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#fvwbcabsve .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#fvwbcabsve .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#fvwbcabsve .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#fvwbcabsve .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#fvwbcabsve .gt_from_md > :first-child {
  margin-top: 0;
}

#fvwbcabsve .gt_from_md > :last-child {
  margin-bottom: 0;
}

#fvwbcabsve .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#fvwbcabsve .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#fvwbcabsve .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#fvwbcabsve .gt_row_group_first td {
  border-top-width: 2px;
}

#fvwbcabsve .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#fvwbcabsve .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#fvwbcabsve .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#fvwbcabsve .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#fvwbcabsve .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#fvwbcabsve .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#fvwbcabsve .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#fvwbcabsve .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#fvwbcabsve .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#fvwbcabsve .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-left: 4px;
  padding-right: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#fvwbcabsve .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#fvwbcabsve .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#fvwbcabsve .gt_left {
  text-align: left;
}

#fvwbcabsve .gt_center {
  text-align: center;
}

#fvwbcabsve .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#fvwbcabsve .gt_font_normal {
  font-weight: normal;
}

#fvwbcabsve .gt_font_bold {
  font-weight: bold;
}

#fvwbcabsve .gt_font_italic {
  font-style: italic;
}

#fvwbcabsve .gt_super {
  font-size: 65%;
}

#fvwbcabsve .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 75%;
  vertical-align: 0.4em;
}

#fvwbcabsve .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#fvwbcabsve .gt_slash_mark {
  font-size: 0.7em;
  line-height: 0.7em;
  vertical-align: 0.15em;
}

#fvwbcabsve .gt_fraction_numerator {
  font-size: 0.6em;
  line-height: 0.6em;
  vertical-align: 0.45em;
}

#fvwbcabsve .gt_fraction_denominator {
  font-size: 0.6em;
  line-height: 0.6em;
  vertical-align: -0.05em;
}
</style>
<table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1"><strong>Characteristic</strong></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1"><strong>Death</strong>, N = 2,582<sup class="gt_footnote_marks">1</sup></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1"><strong>Recover</strong>, N = 1,983<sup class="gt_footnote_marks">1</sup></th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td class="gt_row gt_left">Age (years)</td>
<td class="gt_row gt_center">15.9 (12.3)</td>
<td class="gt_row gt_center">16.1 (13.0)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;">Missing</td>
<td class="gt_row gt_center">32</td>
<td class="gt_row gt_center">28</td></tr>
    <tr><td class="gt_row gt_left">Gender</td>
<td class="gt_row gt_center"></td>
<td class="gt_row gt_center"></td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;">f</td>
<td class="gt_row gt_center">1,227 / 2,455 (50%)</td>
<td class="gt_row gt_center">953 / 1,903 (50%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;">m</td>
<td class="gt_row gt_center">1,228 / 2,455 (50%)</td>
<td class="gt_row gt_center">950 / 1,903 (50%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;">Missing</td>
<td class="gt_row gt_center">127</td>
<td class="gt_row gt_center">80</td></tr>
    <tr><td class="gt_row gt_left">fever</td>
<td class="gt_row gt_center"></td>
<td class="gt_row gt_center"></td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;">no</td>
<td class="gt_row gt_center">458 / 2,460 (19%)</td>
<td class="gt_row gt_center">361 / 1,904 (19%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;">yes</td>
<td class="gt_row gt_center">2,002 / 2,460 (81%)</td>
<td class="gt_row gt_center">1,543 / 1,904 (81%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;">Missing</td>
<td class="gt_row gt_center">122</td>
<td class="gt_row gt_center">79</td></tr>
    <tr><td class="gt_row gt_left">Temperature</td>
<td class="gt_row gt_center">38.6 (1.0)</td>
<td class="gt_row gt_center">38.6 (1.0)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;">Missing</td>
<td class="gt_row gt_center">60</td>
<td class="gt_row gt_center">55</td></tr>
    <tr><td class="gt_row gt_left">Hospital</td>
<td class="gt_row gt_center"></td>
<td class="gt_row gt_center"></td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;">Central Hospital</td>
<td class="gt_row gt_center">193 / 2,582 (7.5%)</td>
<td class="gt_row gt_center">165 / 1,983 (8.3%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;">Military Hospital</td>
<td class="gt_row gt_center">399 / 2,582 (15%)</td>
<td class="gt_row gt_center">309 / 1,983 (16%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;">Missing</td>
<td class="gt_row gt_center">611 / 2,582 (24%)</td>
<td class="gt_row gt_center">514 / 1,983 (26%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;">Other</td>
<td class="gt_row gt_center">395 / 2,582 (15%)</td>
<td class="gt_row gt_center">290 / 1,983 (15%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;">Port Hospital</td>
<td class="gt_row gt_center">785 / 2,582 (30%)</td>
<td class="gt_row gt_center">579 / 1,983 (29%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;">St. Mark's Maternity Hospital (SMMH)</td>
<td class="gt_row gt_center">199 / 2,582 (7.7%)</td>
<td class="gt_row gt_center">126 / 1,983 (6.4%)</td></tr>
  </tbody>
  
  <tfoot class="gt_footnotes">
    <tr>
      <td class="gt_footnote" colspan="3"><sup class="gt_footnote_marks">1</sup> Mean (SD); n / N (%)</td>
    </tr>
  </tfoot>
</table>
</div>
<p>Can you now, using adjustments, produce a table which shows the
summary of <code>age_years</code> and <code>outcome</code> by
<code>gender</code> from <code>linelist</code>? Additionally we want
to:</p>
<ul>
<li>Produce summary statistics that show “median (min - max)”</li>
<li>Rename <code>age_years</code>, <code>outcome</code> and
<code>gender</code> to <code>Age</code>, <code>Outcome</code>,
<code>Gender</code></li>
<li>Rename any missing text as “Not found”</li>
</ul>
<div class="tutorial-exercise" data-label="adjust_age_gender_outcome"
data-completion="1" data-diagnostics="1" data-startover="1"
data-lines="0">
<script type="application/json" data-ui-opts="1">{"engine":"r","has_checker":true,"caption":"<span data-i18n=\"text.enginecap\" data-i18n-opts=\"{&quot;engine&quot;:&quot;R&quot;}\">R Code<\/span>"}</script>
</div>
<div class="tutorial-exercise-support"
data-label="adjust_age_gender_outcome-hint" data-completion="1"
data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>Remember to correctly specify your functions and format with {median} ({?} - {?}). Look at the previous examples for help.</code></pre>
</div>
<div class="tutorial-exercise-support"
data-label="adjust_age_gender_outcome-solution" data-completion="1"
data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>linelist %&gt;% 
    select(age_years, gender, outcome) %&gt;%
    tbl_summary(by = gender,
                statistic = list(all_continuous() ~ &quot;{median} ({min} - {max})&quot;),
                label = list(
                  outcome ~ &quot;Outcome&quot;,
                  age_years ~ &quot;Age&quot;,
                  gender ~ &quot;Gender&quot;
                ),
                missing_text = &quot;Not found&quot;)</code></pre>
</div>
</div>
<div id="section-multi-line-stats-for-continuous-variables"
class="section level3">
<h3>Multi-line stats for continuous variables</h3>
<p>If you want to print multiple lines of statistics for continuous
variables, you can indicate this by setting the <code>type =</code> to
“continuous2”. You can combine all of the previously shown elements in
one table by choosing which statistics you want to show. To do this you
need to tell the function that you want to get a table back by entering
the type as “continuous2”. The number of missing values is shown as
“Unknown”.</p>
<pre class="r"><code>linelist %&gt;% 
  select(age_years, temp) %&gt;%                      # keep only columns of interest
  tbl_summary(                                     # create summary table
    type = all_continuous() ~ &quot;continuous2&quot;,       # indicate that you want to print multiple statistics 
    statistic = all_continuous() ~ c(
      &quot;{mean} ({sd})&quot;,                             # line 1: mean and SD
      &quot;{median} ({p25}, {p75})&quot;,                   # line 2: median and IQR
      &quot;{min}, {max}&quot;)                              # line 3: min and max
    )</code></pre>
<div id="bizlirbomg" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#bizlirbomg .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#bizlirbomg .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#bizlirbomg .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#bizlirbomg .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#bizlirbomg .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#bizlirbomg .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#bizlirbomg .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#bizlirbomg .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#bizlirbomg .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#bizlirbomg .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#bizlirbomg .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#bizlirbomg .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#bizlirbomg .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#bizlirbomg .gt_from_md > :first-child {
  margin-top: 0;
}

#bizlirbomg .gt_from_md > :last-child {
  margin-bottom: 0;
}

#bizlirbomg .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#bizlirbomg .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#bizlirbomg .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#bizlirbomg .gt_row_group_first td {
  border-top-width: 2px;
}

#bizlirbomg .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#bizlirbomg .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#bizlirbomg .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#bizlirbomg .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#bizlirbomg .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#bizlirbomg .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#bizlirbomg .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#bizlirbomg .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#bizlirbomg .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#bizlirbomg .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-left: 4px;
  padding-right: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#bizlirbomg .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#bizlirbomg .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#bizlirbomg .gt_left {
  text-align: left;
}

#bizlirbomg .gt_center {
  text-align: center;
}

#bizlirbomg .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#bizlirbomg .gt_font_normal {
  font-weight: normal;
}

#bizlirbomg .gt_font_bold {
  font-weight: bold;
}

#bizlirbomg .gt_font_italic {
  font-style: italic;
}

#bizlirbomg .gt_super {
  font-size: 65%;
}

#bizlirbomg .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 75%;
  vertical-align: 0.4em;
}

#bizlirbomg .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#bizlirbomg .gt_slash_mark {
  font-size: 0.7em;
  line-height: 0.7em;
  vertical-align: 0.15em;
}

#bizlirbomg .gt_fraction_numerator {
  font-size: 0.6em;
  line-height: 0.6em;
  vertical-align: 0.45em;
}

#bizlirbomg .gt_fraction_denominator {
  font-size: 0.6em;
  line-height: 0.6em;
  vertical-align: -0.05em;
}
</style>
<table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1"><strong>Characteristic</strong></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1"><strong>N = 5,888</strong></th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td class="gt_row gt_left">age_years</td>
<td class="gt_row gt_center"></td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;">Mean (SD)</td>
<td class="gt_row gt_center">16 (13)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;">Median (IQR)</td>
<td class="gt_row gt_center">13 (6, 23)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;">Range</td>
<td class="gt_row gt_center">0, 84</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;">Unknown</td>
<td class="gt_row gt_center">86</td></tr>
    <tr><td class="gt_row gt_left">temp</td>
<td class="gt_row gt_center"></td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;">Mean (SD)</td>
<td class="gt_row gt_center">38.56 (0.98)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;">Median (IQR)</td>
<td class="gt_row gt_center">38.80 (38.20, 39.20)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;">Range</td>
<td class="gt_row gt_center">35.20, 40.80</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;">Unknown</td>
<td class="gt_row gt_center">149</td></tr>
  </tbody>
  
  
</table>
</div>
<p>Can you now produce a summary table of <code>outcome</code>,
<code>age_cat</code>, <code>temp</code>, <code>wt_kg</code> where they
are analysed by <code>gender</code>? For continuous values the output
should be “median (min - max)” and for categorical values the percent in
each category.</p>
<div class="tutorial-exercise" data-label="gtsummary_first"
data-completion="1" data-diagnostics="1" data-startover="1"
data-lines="0">
<pre class="text"><code>linelist %&gt;%</code></pre>
<script type="application/json" data-ui-opts="1">{"engine":"r","has_checker":true,"caption":"<span data-i18n=\"text.enginecap\" data-i18n-opts=\"{&quot;engine&quot;:&quot;R&quot;}\">R Code<\/span>"}</script>
</div>
<div class="tutorial-exercise-support" data-label="gtsummary_first-hint"
data-completion="1" data-diagnostics="1" data-startover="1"
data-lines="0">
<pre class="text"><code>You will need to select the specified columns, and then treat continuous and categorical values differently</code></pre>
</div>
<div class="tutorial-exercise-support"
data-label="gtsummary_first-solution" data-completion="1"
data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>linelist %&gt;%
  select(gender, outcome, age_cat, temp, wt_kg) %&gt;%
  tbl_summary(by = gender,
              statistic = list(all_continuous() ~ &quot;{median} ({min} - {max})&quot;,
                               all_categorical() ~ &quot;{n} / {N} ({p}%)&quot;))</code></pre>
</div>
</div>
<div id="section-base-r" class="section level3">
<h3><strong>base</strong> R</h3>
<p>You can use the function <code>table()</code> to tabulate and
cross-tabulate columns. Unlike the options above, you must specify the
dataframe each time you reference a column name, as shown below.</p>
<p>CAUTION: <code>NA</code> (missing) values will not be tabulated
unless you include the argument <code>useNA = "always"</code> (which
could also be set to “no” or “ifany”).</p>
<pre class="r"><code>table(linelist$outcome, useNA = &quot;always&quot;)</code></pre>
<pre><code>## 
##   Death Recover    &lt;NA&gt; 
##    2582    1983    1323</code></pre>
<p>Multiple columns can be cross-tabulated by listing them one after the
other, separated by commas. Optionally, you can assign each column a
“name” like <code>Outcome = linelist$outcome</code>.</p>
<pre class="r"><code>age_by_outcome &lt;- table(linelist$age_cat, linelist$outcome, useNA = &quot;always&quot;) # save table as object
age_by_outcome   # print table</code></pre>
<pre><code>##        
##         Death Recover &lt;NA&gt;
##   0-4     471     364  260
##   5-9     476     391  228
##   10-14   438     303  200
##   15-19   323     251  169
##   20-29   477     367  229
##   30-49   329     238  187
##   50-69    33      38   24
##   70+       3       3    0
##   &lt;NA&gt;     32      28   26</code></pre>
</div>
<div id="section-proportions-1" class="section level3">
<h3>Proportions</h3>
<p>To return proportions, passing the above table to the function
<code>prop.table()</code>. Use the margins = argument to specify whether
you want the proportions to be of rows (1), of columns (2), or of the
whole table (3). For clarity, we pipe the table to the round() function
from <strong>base</strong> R, specifying 2 digits.</p>
<pre class="r"><code># get proportions of table defined above, by rows, rounded
prop.table(age_by_outcome, 1) %&gt;% round(2)</code></pre>
<pre><code>##        
##         Death Recover &lt;NA&gt;
##   0-4    0.43    0.33 0.24
##   5-9    0.43    0.36 0.21
##   10-14  0.47    0.32 0.21
##   15-19  0.43    0.34 0.23
##   20-29  0.44    0.34 0.21
##   30-49  0.44    0.32 0.25
##   50-69  0.35    0.40 0.25
##   70+    0.50    0.50 0.00
##   &lt;NA&gt;   0.37    0.33 0.30</code></pre>
<p>to add row and columns total, pass the table to
<code>addmargins()</code>.</p>
<pre class="r"><code># get proportions of table defined above, by rows, rounded
addmargins(age_by_outcome)</code></pre>
<pre><code>##        
##         Death Recover &lt;NA&gt;  Sum
##   0-4     471     364  260 1095
##   5-9     476     391  228 1095
##   10-14   438     303  200  941
##   15-19   323     251  169  743
##   20-29   477     367  229 1073
##   30-49   329     238  187  754
##   50-69    33      38   24   95
##   70+       3       3    0    6
##   &lt;NA&gt;     32      28   26   86
##   Sum    2582    1983 1323 5888</code></pre>
</div>
</div>
<div id="section-simple-statistical-tests" class="section level2">
<h2>Simple statistical tests</h2>
<p>Here we will demonstrate several simple statistical tests using
<strong>base</strong> R, <strong>rstatix</strong> and **gtsummary*.
Though we have highlighted a few common ones, there are many other tests
you can use.</p>
<p>Each of the above packages bring certain advantages and
disadvantages:</p>
<ul>
<li><strong>base</strong> R easily prints statistical outputs to the R
console</li>
<li><strong>rstatix</strong> return results in a dataframe, or for
running tests by group</li>
<li><strong>gtsummary</strong> if you want to quickly prepare print
publication-ready tables</li>
</ul>
<div class="panel panel-default">
<div data-label="rhetorical3" class="tutorial-question panel-body">
<div id="rhetorical3-answer_container" class="shiny-html-output"></div>
<div id="rhetorical3-message_container" class="shiny-html-output"></div>
<div id="rhetorical3-action_button_container" class="shiny-html-output"></div>
<script>if (Tutorial.triggerMathJax) Tutorial.triggerMathJax()</script>
</div>
</div>
</div>
<div id="section-base-r-1" class="section level2">
<h2><strong>base</strong> R</h2>
<p>You can use <strong>base</strong> R functions to conduct statistical
tests. The commands are relatively simple and results will print to the
R Console for simple viewing. However, the outputs are usually lists and
so are harder to manipulate if you want to use the results in subsequent
operations.</p>
<div id="section-t-tests" class="section level3">
<h3>T-tests</h3>
<p>A t-test is typically used to determine if there is a significant
difference between the means of numeric variables between two tests.
There are two ways of writing the syntax for tests, either you specify
the data and the columns separated by a tilde (<code>~</code>):</p>
<pre class="r"><code>## compare mean age by outcome group with a t-test
t.test(age_years ~ gender, data = linelist)</code></pre>
<pre><code>## 
##  Welch Two Sample t-test
## 
## data:  age_years by gender
## t = -21.344, df = 4902.3, p-value &lt; 2.2e-16
## alternative hypothesis: true difference in means between group f and group m is not equal to 0
## 95 percent confidence interval:
##  -7.571920 -6.297975
## sample estimates:
## mean in group f mean in group m 
##        12.60207        19.53701</code></pre>
<p>or for distinguishing between separate numeric vectors, you can call
the columns directly using <code>$</code> to denote the column,</p>
<pre class="r"><code>## compare mean age by outcome group with a t-test
t.test(df1$age_years, df2$age_years)</code></pre>
<p>This applies to all of the statistical tests. You can also use a
t-test to determine whether a sample mean is significantly different
from a specific value.</p>
<pre class="r"><code>t.test(linelist$age_years, 
       mu = 45) #Specify the value you want to test against with mu = </code></pre>
<pre><code>## 
##  One Sample t-test
## 
## data:  linelist$age_years
## t = -174.61, df = 5801, p-value &lt; 2.2e-16
## alternative hypothesis: true mean is not equal to 45
## 95 percent confidence interval:
##  15.69293 16.34369
## sample estimates:
## mean of x 
##  16.01831</code></pre>
</div>
<div id="section-shapiro-wilk-test" class="section level3">
<h3>Shapiro-Wilk test</h3>
<p>The Shapiro-Wilk test can be used to determine whether a sample came
from a normally-distributed population (an assumption of many other
tests and analysis, such as the t-test). However, this can only be used
on a sample between 3 and 5000 observations. For larger samples a
quantile-quantile plot may be helpful.</p>
<pre class="r"><code>shapiro.test(subset(linelist, gender == &quot;m&quot;)$age_years) #We are subsetting to only males in order to show the output of the test when there are between 3 and 5000 observations</code></pre>
<pre><code>## 
##  Shapiro-Wilk normality test
## 
## data:  subset(linelist, gender == &quot;m&quot;)$age_years
## W = 0.94095, p-value &lt; 2.2e-16</code></pre>
</div>
<div id="section-wilcoxon-rank-sum-test" class="section level3">
<h3>Wilcoxon rank sum test</h3>
<p>Also called the Mann-Whitney U test, this statistical test is used to
determine if two numeric samples are from the same distribution when
their populations are not normally distributed, or have an unequal
variance.</p>
<pre class="r"><code>## compare age distribution by outcome group with a wilcox test
wilcox.test(age_years ~ outcome, data = linelist)</code></pre>
<pre><code>## 
##  Wilcoxon rank sum test with continuity correction
## 
## data:  age_years by outcome
## W = 2501868, p-value = 0.8308
## alternative hypothesis: true location shift is not equal to 0</code></pre>
</div>
<div id="section-kruskal-wallis-test" class="section level3">
<h3>Kruskal-Wallis test</h3>
<p>The Kruskal-Wallis test is an extension of the Wilcoxon rank sum test
that can be used to test for differences in the distribution of more
than two samples. When only two samples are used it gives identical
results to the Wilcoxon rank sum test.</p>
<pre class="r"><code>## compare age distribution by outcome group with a kruskal-wallis test
kruskal.test(age_years ~ outcome, data = linelist)</code></pre>
<pre><code>## 
##  Kruskal-Wallis rank sum test
## 
## data:  age_years by outcome
## Kruskal-Wallis chi-squared = 0.045675, df = 1, p-value = 0.8308</code></pre>
</div>
<div id="section-chi-squared-test" class="section level3">
<h3>Chi-squared test</h3>
<p>Pearson’s Chi-squared test is used in testing for significant
differences between categorical groups.</p>
<pre class="r"><code>## compare the proportions in each group with a chi-squared test
chisq.test(linelist$gender, linelist$outcome)</code></pre>
<pre><code>## 
##  Pearson&#39;s Chi-squared test with Yates&#39; continuity correction
## 
## data:  linelist$gender and linelist$outcome
## X-squared = 0.0011841, df = 1, p-value = 0.9725</code></pre>
<p><div class="panel-heading tutorial-quiz-title"><span data-i18n="text.quiz">Quiz</span></div></p>
<div class="panel panel-default">
<div data-label="quiz13-1" class="tutorial-question panel-body">
<div id="quiz13-1-answer_container" class="shiny-html-output"></div>
<div id="quiz13-1-message_container" class="shiny-html-output"></div>
<div id="quiz13-1-action_button_container" class="shiny-html-output"></div>
<script>if (Tutorial.triggerMathJax) Tutorial.triggerMathJax()</script>
</div>
</div>
<div class="panel panel-default">
<div data-label="quiz13-2" class="tutorial-question panel-body">
<div id="quiz13-2-answer_container" class="shiny-html-output"></div>
<div id="quiz13-2-message_container" class="shiny-html-output"></div>
<div id="quiz13-2-action_button_container" class="shiny-html-output"></div>
<script>if (Tutorial.triggerMathJax) Tutorial.triggerMathJax()</script>
</div>
</div>
<div class="panel panel-default">
<div data-label="quiz13-3" class="tutorial-question panel-body">
<div id="quiz13-3-answer_container" class="shiny-html-output"></div>
<div id="quiz13-3-message_container" class="shiny-html-output"></div>
<div id="quiz13-3-action_button_container" class="shiny-html-output"></div>
<script>if (Tutorial.triggerMathJax) Tutorial.triggerMathJax()</script>
</div>
</div>
<div class="panel panel-default">
<div data-label="quiz13-4" class="tutorial-question panel-body">
<div id="quiz13-4-answer_container" class="shiny-html-output"></div>
<div id="quiz13-4-message_container" class="shiny-html-output"></div>
<div id="quiz13-4-action_button_container" class="shiny-html-output"></div>
<script>if (Tutorial.triggerMathJax) Tutorial.triggerMathJax()</script>
</div>
</div>
</div>
</div>
<div id="section-rstatix-package" class="section level2">
<h2><strong>rstatix</strong> package</h2>
<p>The <strong>rstatix</strong> package offers the ability to run
statistical tests and retrieve results in a “pipe-friendly” framework.
The results are automatically in a data frame so that you can perform
subsequent operations on the results. It is also easy to group the data
being passed into the functions, so that the statistics are run for each
group.</p>
<p>The function <code>get_summary_stats()</code> is a quick way to
return summary statistics, if no columns are specified the statistics
are calculated for all columns.</p>
<p>By default, a full range of summary statistics are returned: n, max,
min, median, 25% quantile, 75% quantile, IQR, median absolute deviation
(mad), mean, standard deviation, standard error, and a confidence
interval of the mean.</p>
<pre class="r"><code>linelist %&gt;%
  rstatix::get_summary_stats(age, temp)</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["variable"],"name":[1],"type":["chr"],"align":["left"]},{"label":["n"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["min"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["max"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["median"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["q1"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["q3"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["iqr"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["mad"],"name":[9],"type":["dbl"],"align":["right"]},{"label":["mean"],"name":[10],"type":["dbl"],"align":["right"]},{"label":["sd"],"name":[11],"type":["dbl"],"align":["right"]},{"label":["se"],"name":[12],"type":["dbl"],"align":["right"]},{"label":["ci"],"name":[13],"type":["dbl"],"align":["right"]}],"data":[{"1":"age","2":"5802","3":"0.0","4":"84.0","5":"13.0","6":"6.0","7":"23.0","8":"17","9":"11.861","10":"16.072","11":"12.620","12":"0.166","13":"0.325"},{"1":"temp","2":"5739","3":"35.2","4":"40.8","5":"38.8","6":"38.2","7":"39.2","8":"1","9":"0.741","10":"38.558","11":"0.977","12":"0.013","13":"0.025"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>It can be used with grouped data as well, such that a row is returned
for each grouping variable</p>
<pre class="r"><code>linelist %&gt;%
  group_by(hospital) %&gt;%
  rstatix::get_summary_stats(age, temp, type = &quot;common&quot;)</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["hospital"],"name":[1],"type":["chr"],"align":["left"]},{"label":["variable"],"name":[2],"type":["chr"],"align":["left"]},{"label":["n"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["min"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["max"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["median"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["iqr"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["mean"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["sd"],"name":[9],"type":["dbl"],"align":["right"]},{"label":["se"],"name":[10],"type":["dbl"],"align":["right"]},{"label":["ci"],"name":[11],"type":["dbl"],"align":["right"]}],"data":[{"1":"Central Hospital","2":"age","3":"445","4":"0.0","5":"58.0","6":"12.0","7":"15.0","8":"15.719","9":"12.459","10":"0.591","11":"1.161"},{"1":"Central Hospital","2":"temp","3":"450","4":"35.2","5":"40.4","6":"38.8","7":"1.0","8":"38.517","9":"0.964","10":"0.045","11":"0.089"},{"1":"Military Hospital","2":"age","3":"884","4":"0.0","5":"72.0","6":"14.0","7":"18.0","8":"16.054","9":"12.394","10":"0.417","11":"0.818"},{"1":"Military Hospital","2":"temp","3":"873","4":"35.3","5":"40.5","6":"38.8","7":"1.0","8":"38.616","9":"0.952","10":"0.032","11":"0.063"},{"1":"Missing","2":"age","3":"1441","4":"0.0","5":"76.0","6":"13.0","7":"17.0","8":"16.043","9":"12.860","10":"0.339","11":"0.665"},{"1":"Missing","2":"temp","3":"1431","4":"35.8","5":"40.6","6":"38.9","7":"1.0","8":"38.577","9":"0.970","10":"0.026","11":"0.050"},{"1":"Other","2":"age","3":"873","4":"0.0","5":"69.0","6":"13.0","7":"17.0","8":"16.045","9":"12.472","10":"0.422","11":"0.828"},{"1":"Other","2":"temp","3":"862","4":"35.7","5":"40.8","6":"38.8","7":"1.1","8":"38.526","9":"1.007","10":"0.034","11":"0.067"},{"1":"Port Hospital","2":"age","3":"1739","4":"0.0","5":"68.0","6":"14.0","7":"18.0","8":"16.302","9":"12.708","10":"0.305","11":"0.598"},{"1":"Port Hospital","2":"temp","3":"1713","4":"35.5","5":"40.6","6":"38.8","7":"1.1","8":"38.553","9":"0.981","10":"0.024","11":"0.046"},{"1":"St. Mark's Maternity Hospital (SMMH)","2":"age","3":"420","4":"0.0","5":"84.0","6":"12.0","7":"15.0","8":"15.683","9":"12.428","10":"0.606","11":"1.192"},{"1":"St. Mark's Maternity Hospital (SMMH)","2":"temp","3":"410","4":"35.9","5":"40.6","6":"38.8","7":"1.1","8":"38.507","9":"0.983","10":"0.049","11":"0.095"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<div id="section-t-test" class="section level3">
<h3>T-test</h3>
<p>Use the formula syntax to specify the numeric and categorical
columns</p>
<pre class="r"><code>linelist %&gt;%
  t_test(age_years ~ gender)</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":[".y."],"name":[1],"type":["chr"],"align":["left"]},{"label":["group1"],"name":[2],"type":["chr"],"align":["left"]},{"label":["group2"],"name":[3],"type":["chr"],"align":["left"]},{"label":["n1"],"name":[4],"type":["int"],"align":["right"]},{"label":["n2"],"name":[5],"type":["int"],"align":["right"]},{"label":["statistic"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["df"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["p"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["p.adj"],"name":[9],"type":["dbl"],"align":["right"]},{"label":["p.adj.signif"],"name":[10],"type":["chr"],"align":["left"]}],"data":[{"1":"age_years","2":"f","3":"m","4":"2807","5":"2803","6":"-21.3441","7":"4902.311","8":"9.89e-97","9":"9.89e-97","10":"****","_rn_":"1"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>Or, if you want to specify a one-sample T-test you use
<code>~ 1</code> and specify <code>mu =</code>:</p>
<pre class="r"><code>linelist %&gt;%
  t_test(age_years ~ 1, mu = 30)</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":[".y."],"name":[1],"type":["chr"],"align":["left"]},{"label":["group1"],"name":[2],"type":["chr"],"align":["left"]},{"label":["group2"],"name":[3],"type":["chr"],"align":["left"]},{"label":["n"],"name":[4],"type":["int"],"align":["right"]},{"label":["statistic"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["df"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["p"],"name":[7],"type":["dbl"],"align":["right"]}],"data":[{"1":"age_years","2":"1","3":"null model","4":"5888","5":"-84.23804","6":"5801","7":"0","_rn_":"1"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>In order to conduct statistical tests by group, add the
<code>group_by()</code> function to the pipe chain:</p>
<pre class="r"><code>linelist %&gt;%
  group_by(gender) %&gt;%
  t_test(age_years ~ 1, mu = 18)</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["gender"],"name":[1],"type":["chr"],"align":["left"]},{"label":[".y."],"name":[2],"type":["chr"],"align":["left"]},{"label":["group1"],"name":[3],"type":["chr"],"align":["left"]},{"label":["group2"],"name":[4],"type":["chr"],"align":["left"]},{"label":["n"],"name":[5],"type":["int"],"align":["right"]},{"label":["statistic"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["df"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["p"],"name":[8],"type":["dbl"],"align":["right"]}],"data":[{"1":"f","2":"age_years","3":"1","4":"null model","5":"2807","6":"-29.807434","7":"2806","8":"7.52e-170","_rn_":"1"},{"1":"m","2":"age_years","3":"1","4":"null model","5":"2803","6":"5.697619","7":"2802","8":"1.34e-08","_rn_":"2"},{"1":"NA","2":"age_years","3":"1","4":"null model","5":"278","6":"-3.797657","7":"191","8":"1.96e-04","_rn_":"3"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<div class="panel panel-default">
<div data-label="rhetorical4" class="tutorial-question panel-body">
<div id="rhetorical4-answer_container" class="shiny-html-output"></div>
<div id="rhetorical4-message_container" class="shiny-html-output"></div>
<div id="rhetorical4-action_button_container" class="shiny-html-output"></div>
<script>if (Tutorial.triggerMathJax) Tutorial.triggerMathJax()</script>
</div>
</div>
</div>
<div id="section-shapiro-wilk-test-1" class="section level3">
<h3>Shapiro-Wilk test</h3>
<p>As stated above, sample size must be between 3 and 5000.</p>
<pre class="r"><code>linelist %&gt;% 
  head(500) %&gt;%            # first 500 rows of case linelist, for example only
  shapiro_test(age_years)</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["variable"],"name":[1],"type":["chr"],"align":["left"]},{"label":["statistic"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["p"],"name":[3],"type":["dbl"],"align":["right"]}],"data":[{"1":"age_years","2":"0.9170605","3":"6.671345e-16"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
<div id="section-wilcoxon-rank-sum-test-1" class="section level3">
<h3>Wilcoxon rank sum test</h3>
<pre class="r"><code>linelist %&gt;% 
  wilcox_test(age_years ~ gender)</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":[".y."],"name":[1],"type":["chr"],"align":["left"]},{"label":["group1"],"name":[2],"type":["chr"],"align":["left"]},{"label":["group2"],"name":[3],"type":["chr"],"align":["left"]},{"label":["n1"],"name":[4],"type":["int"],"align":["right"]},{"label":["n2"],"name":[5],"type":["int"],"align":["right"]},{"label":["statistic"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["p"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["p.adj"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["p.adj.signif"],"name":[9],"type":["chr"],"align":["left"]}],"data":[{"1":"age_years","2":"f","3":"m","4":"2807","5":"2803","6":"2829274","7":"3.47e-74","8":"3.47e-74","9":"****","_rn_":"1"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
<div id="section-kruskal-wallis-test-mann-whitney-u-test"
class="section level3">
<h3>Kruskal-Wallis test (Mann-Whitney U test)</h3>
<pre class="r"><code>linelist %&gt;% 
  kruskal_test(age_years ~ outcome)</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":[".y."],"name":[1],"type":["chr"],"align":["left"]},{"label":["n"],"name":[2],"type":["int"],"align":["right"]},{"label":["statistic"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["df"],"name":[4],"type":["int"],"align":["right"]},{"label":["p"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["method"],"name":[6],"type":["chr"],"align":["left"]}],"data":[{"1":"age_years","2":"5888","3":"0.04567494","4":"1","5":"0.831","6":"Kruskal-Wallis","_rn_":"1"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
<div id="section-chi-squared-test-1" class="section level3">
<h3>Chi-squared test</h3>
<p>The chi-square test function accepts a table, so first we create a
cross-tabulation. There are many ways to create a cross-tabulation (see
Descriptive tables) but here we use <code>tabyl()</code> from
<strong>janitor</strong> and remove the left-most column of value labels
before passing to <code>chisq_test()</code>.</p>
<pre class="r"><code>linelist %&gt;% 
  tabyl(gender, outcome) %&gt;% 
  select(-1) %&gt;% 
  chisq_test()</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["n"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["statistic"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["p"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["df"],"name":[4],"type":["int"],"align":["right"]},{"label":["method"],"name":[5],"type":["chr"],"align":["left"]},{"label":["p.signif"],"name":[6],"type":["chr"],"align":["left"]}],"data":[{"1":"5888","2":"3.534206","3":"0.473","4":"4","5":"Chi-square test","6":"ns","_rn_":"1"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<div id="section-gtsummary-package-1" class="section level2">
<h2><strong>gtsummary</strong> package</h2>
<p>Use <strong>gtsummary</strong> if you are looking to add the results
of a statistical test to a pretty table that was created with this
package (as described in the <strong>gtsummary</strong> section of the
Descriptive tables page).</p>
<p>Performing statistical tests of comparison with
<code>tbl_summary()</code> is done by adding the <code>add_p()</code>
function to a table and specifying which test to use. It is possible to
get p-values corrected for multiple testing by using the add_q function.
Run <code>?tbl_summary</code> for details.</p>
<div id="section-chi-squared-test-2" class="section level3">
<h3>Chi-squared test</h3>
<p>Compare the proportions of a categorical variable in two groups. The
default statistical test for <code>add_p()</code> when applied to a
categorical variable is to perform a chi-squared test of independence
with continuity correction, but if any expected call count is below 5
then a Fisher’s exact test is used.</p>
</div>
<div id="section-t-tests-1" class="section level3">
<h3>T-tests</h3>
<p>Compare the difference in means for a continuous variable in two
groups. For example, compare the mean age by patient outcome.</p>
<pre class="r"><code>linelist %&gt;% 
  select(age_years, outcome) %&gt;%             # keep variables of interest
  tbl_summary(                               # produce summary table
    statistic = age_years ~ &quot;{mean} ({sd})&quot;, # specify what statistics to show
    by = outcome) %&gt;%                        # specify the grouping variable
  add_p(age_years ~ &quot;t.test&quot;)                # specify what tests to perform</code></pre>
<div id="cemsynwdtm" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#cemsynwdtm .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#cemsynwdtm .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#cemsynwdtm .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#cemsynwdtm .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#cemsynwdtm .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#cemsynwdtm .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#cemsynwdtm .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#cemsynwdtm .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#cemsynwdtm .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#cemsynwdtm .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#cemsynwdtm .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#cemsynwdtm .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#cemsynwdtm .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#cemsynwdtm .gt_from_md > :first-child {
  margin-top: 0;
}

#cemsynwdtm .gt_from_md > :last-child {
  margin-bottom: 0;
}

#cemsynwdtm .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#cemsynwdtm .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#cemsynwdtm .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#cemsynwdtm .gt_row_group_first td {
  border-top-width: 2px;
}

#cemsynwdtm .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#cemsynwdtm .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#cemsynwdtm .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#cemsynwdtm .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#cemsynwdtm .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#cemsynwdtm .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#cemsynwdtm .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#cemsynwdtm .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#cemsynwdtm .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#cemsynwdtm .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-left: 4px;
  padding-right: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#cemsynwdtm .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#cemsynwdtm .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#cemsynwdtm .gt_left {
  text-align: left;
}

#cemsynwdtm .gt_center {
  text-align: center;
}

#cemsynwdtm .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#cemsynwdtm .gt_font_normal {
  font-weight: normal;
}

#cemsynwdtm .gt_font_bold {
  font-weight: bold;
}

#cemsynwdtm .gt_font_italic {
  font-style: italic;
}

#cemsynwdtm .gt_super {
  font-size: 65%;
}

#cemsynwdtm .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 75%;
  vertical-align: 0.4em;
}

#cemsynwdtm .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#cemsynwdtm .gt_slash_mark {
  font-size: 0.7em;
  line-height: 0.7em;
  vertical-align: 0.15em;
}

#cemsynwdtm .gt_fraction_numerator {
  font-size: 0.6em;
  line-height: 0.6em;
  vertical-align: 0.45em;
}

#cemsynwdtm .gt_fraction_denominator {
  font-size: 0.6em;
  line-height: 0.6em;
  vertical-align: -0.05em;
}
</style>
<table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1"><strong>Characteristic</strong></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1"><strong>Death</strong>, N = 2,582<sup class="gt_footnote_marks">1</sup></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1"><strong>Recover</strong>, N = 1,983<sup class="gt_footnote_marks">1</sup></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1"><strong>p-value</strong><sup class="gt_footnote_marks">2</sup></th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td class="gt_row gt_left">age_years</td>
<td class="gt_row gt_center">16 (12)</td>
<td class="gt_row gt_center">16 (13)</td>
<td class="gt_row gt_center">0.6</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;">Unknown</td>
<td class="gt_row gt_center">32</td>
<td class="gt_row gt_center">28</td>
<td class="gt_row gt_center"></td></tr>
  </tbody>
  
  <tfoot class="gt_footnotes">
    <tr>
      <td class="gt_footnote" colspan="4"><sup class="gt_footnote_marks">1</sup> Mean (SD)</td>
    </tr>
    <tr>
      <td class="gt_footnote" colspan="4"><sup class="gt_footnote_marks">2</sup> Welch Two Sample t-test</td>
    </tr>
  </tfoot>
</table>
</div>
</div>
<div id="section-wilcoxon-rank-sum-test-2" class="section level3">
<h3>Wilcoxon rank sum test</h3>
<p>Compare the distribution of a continuous variable in two groups. The
default is to use the Wilcoxon rank sum test and the median (IQR) when
comparing two groups. However for non-normally distributed data or
comparing multiple groups, the Kruskal-wallis test is more
appropriate.</p>
<pre class="r"><code>linelist %&gt;% 
  select(age_years, outcome) %&gt;%                       # keep variables of interest
  tbl_summary(                                         # produce summary table
    statistic = age_years ~ &quot;{median} ({p25}, {p75})&quot;, # specify what statistic to show (this is default so could remove)
    by = outcome) %&gt;%                                  # specify the grouping variable
  add_p(age_years ~ &quot;wilcox.test&quot;)                     # specify what test to perform (default so could leave brackets empty)</code></pre>
<div id="chxjmjfjzg" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#chxjmjfjzg .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#chxjmjfjzg .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#chxjmjfjzg .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#chxjmjfjzg .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#chxjmjfjzg .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#chxjmjfjzg .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#chxjmjfjzg .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#chxjmjfjzg .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#chxjmjfjzg .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#chxjmjfjzg .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#chxjmjfjzg .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#chxjmjfjzg .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#chxjmjfjzg .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#chxjmjfjzg .gt_from_md > :first-child {
  margin-top: 0;
}

#chxjmjfjzg .gt_from_md > :last-child {
  margin-bottom: 0;
}

#chxjmjfjzg .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#chxjmjfjzg .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#chxjmjfjzg .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#chxjmjfjzg .gt_row_group_first td {
  border-top-width: 2px;
}

#chxjmjfjzg .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#chxjmjfjzg .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#chxjmjfjzg .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#chxjmjfjzg .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#chxjmjfjzg .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#chxjmjfjzg .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#chxjmjfjzg .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#chxjmjfjzg .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#chxjmjfjzg .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#chxjmjfjzg .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-left: 4px;
  padding-right: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#chxjmjfjzg .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#chxjmjfjzg .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#chxjmjfjzg .gt_left {
  text-align: left;
}

#chxjmjfjzg .gt_center {
  text-align: center;
}

#chxjmjfjzg .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#chxjmjfjzg .gt_font_normal {
  font-weight: normal;
}

#chxjmjfjzg .gt_font_bold {
  font-weight: bold;
}

#chxjmjfjzg .gt_font_italic {
  font-style: italic;
}

#chxjmjfjzg .gt_super {
  font-size: 65%;
}

#chxjmjfjzg .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 75%;
  vertical-align: 0.4em;
}

#chxjmjfjzg .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#chxjmjfjzg .gt_slash_mark {
  font-size: 0.7em;
  line-height: 0.7em;
  vertical-align: 0.15em;
}

#chxjmjfjzg .gt_fraction_numerator {
  font-size: 0.6em;
  line-height: 0.6em;
  vertical-align: 0.45em;
}

#chxjmjfjzg .gt_fraction_denominator {
  font-size: 0.6em;
  line-height: 0.6em;
  vertical-align: -0.05em;
}
</style>
<table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1"><strong>Characteristic</strong></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1"><strong>Death</strong>, N = 2,582<sup class="gt_footnote_marks">1</sup></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1"><strong>Recover</strong>, N = 1,983<sup class="gt_footnote_marks">1</sup></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1"><strong>p-value</strong><sup class="gt_footnote_marks">2</sup></th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td class="gt_row gt_left">age_years</td>
<td class="gt_row gt_center">13 (6, 23)</td>
<td class="gt_row gt_center">13 (6, 23)</td>
<td class="gt_row gt_center">0.8</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;">Unknown</td>
<td class="gt_row gt_center">32</td>
<td class="gt_row gt_center">28</td>
<td class="gt_row gt_center"></td></tr>
  </tbody>
  
  <tfoot class="gt_footnotes">
    <tr>
      <td class="gt_footnote" colspan="4"><sup class="gt_footnote_marks">1</sup> Median (IQR)</td>
    </tr>
    <tr>
      <td class="gt_footnote" colspan="4"><sup class="gt_footnote_marks">2</sup> Wilcoxon rank sum test</td>
    </tr>
  </tfoot>
</table>
</div>
</div>
<div id="section-kruskal-wallis-test-1" class="section level3">
<h3>Kruskal-wallis test</h3>
<pre class="r"><code>linelist %&gt;% 
  select(age_years, outcome) %&gt;%                       # keep variables of interest
  tbl_summary(                                         # produce summary table
    statistic = age_years ~ &quot;{median} ({p25}, {p75})&quot;, # specify what statistic to show (default, so could remove)
    by = outcome) %&gt;%                                  # specify the grouping variable
  add_p(age_years ~ &quot;kruskal.test&quot;)                    # specify what test to perform</code></pre>
<div id="rsxrwunwzo" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#rsxrwunwzo .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#rsxrwunwzo .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#rsxrwunwzo .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#rsxrwunwzo .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#rsxrwunwzo .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#rsxrwunwzo .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#rsxrwunwzo .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#rsxrwunwzo .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#rsxrwunwzo .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#rsxrwunwzo .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#rsxrwunwzo .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#rsxrwunwzo .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#rsxrwunwzo .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#rsxrwunwzo .gt_from_md > :first-child {
  margin-top: 0;
}

#rsxrwunwzo .gt_from_md > :last-child {
  margin-bottom: 0;
}

#rsxrwunwzo .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#rsxrwunwzo .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#rsxrwunwzo .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#rsxrwunwzo .gt_row_group_first td {
  border-top-width: 2px;
}

#rsxrwunwzo .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#rsxrwunwzo .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#rsxrwunwzo .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#rsxrwunwzo .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#rsxrwunwzo .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#rsxrwunwzo .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#rsxrwunwzo .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#rsxrwunwzo .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#rsxrwunwzo .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#rsxrwunwzo .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-left: 4px;
  padding-right: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#rsxrwunwzo .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#rsxrwunwzo .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#rsxrwunwzo .gt_left {
  text-align: left;
}

#rsxrwunwzo .gt_center {
  text-align: center;
}

#rsxrwunwzo .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#rsxrwunwzo .gt_font_normal {
  font-weight: normal;
}

#rsxrwunwzo .gt_font_bold {
  font-weight: bold;
}

#rsxrwunwzo .gt_font_italic {
  font-style: italic;
}

#rsxrwunwzo .gt_super {
  font-size: 65%;
}

#rsxrwunwzo .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 75%;
  vertical-align: 0.4em;
}

#rsxrwunwzo .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#rsxrwunwzo .gt_slash_mark {
  font-size: 0.7em;
  line-height: 0.7em;
  vertical-align: 0.15em;
}

#rsxrwunwzo .gt_fraction_numerator {
  font-size: 0.6em;
  line-height: 0.6em;
  vertical-align: 0.45em;
}

#rsxrwunwzo .gt_fraction_denominator {
  font-size: 0.6em;
  line-height: 0.6em;
  vertical-align: -0.05em;
}
</style>
<table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1"><strong>Characteristic</strong></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1"><strong>Death</strong>, N = 2,582<sup class="gt_footnote_marks">1</sup></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1"><strong>Recover</strong>, N = 1,983<sup class="gt_footnote_marks">1</sup></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1"><strong>p-value</strong><sup class="gt_footnote_marks">2</sup></th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td class="gt_row gt_left">age_years</td>
<td class="gt_row gt_center">13 (6, 23)</td>
<td class="gt_row gt_center">13 (6, 23)</td>
<td class="gt_row gt_center">0.8</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;">Unknown</td>
<td class="gt_row gt_center">32</td>
<td class="gt_row gt_center">28</td>
<td class="gt_row gt_center"></td></tr>
  </tbody>
  
  <tfoot class="gt_footnotes">
    <tr>
      <td class="gt_footnote" colspan="4"><sup class="gt_footnote_marks">1</sup> Median (IQR)</td>
    </tr>
    <tr>
      <td class="gt_footnote" colspan="4"><sup class="gt_footnote_marks">2</sup> Kruskal-Wallis rank sum test</td>
    </tr>
  </tfoot>
</table>
</div>
<p>In addition to carrying out tests individually, you can specify them
all at once by including the tests in a <code>list()</code>. For
example:</p>
<pre class="r"><code>linelist %&gt;% 
  select(age_years, outcome) %&gt;%                       # keep variables of interest
  tbl_summary(                                         # produce summary table
    statistic = age_years ~ &quot;{median} ({p25}, {p75})&quot;, # specify what statistic to show (default, so could remove)
    by = outcome) %&gt;%                                  # specify the grouping variable
  add_p(list(age_years ~ &quot;kruskal.test&quot;,
             age_years ~ &quot;t.test&quot;))</code></pre>
<div id="ojevaqvmvz" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#ojevaqvmvz .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#ojevaqvmvz .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ojevaqvmvz .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#ojevaqvmvz .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#ojevaqvmvz .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ojevaqvmvz .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ojevaqvmvz .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#ojevaqvmvz .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#ojevaqvmvz .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#ojevaqvmvz .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#ojevaqvmvz .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#ojevaqvmvz .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#ojevaqvmvz .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#ojevaqvmvz .gt_from_md > :first-child {
  margin-top: 0;
}

#ojevaqvmvz .gt_from_md > :last-child {
  margin-bottom: 0;
}

#ojevaqvmvz .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#ojevaqvmvz .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#ojevaqvmvz .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#ojevaqvmvz .gt_row_group_first td {
  border-top-width: 2px;
}

#ojevaqvmvz .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ojevaqvmvz .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#ojevaqvmvz .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#ojevaqvmvz .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ojevaqvmvz .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ojevaqvmvz .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#ojevaqvmvz .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#ojevaqvmvz .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ojevaqvmvz .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ojevaqvmvz .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-left: 4px;
  padding-right: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#ojevaqvmvz .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ojevaqvmvz .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#ojevaqvmvz .gt_left {
  text-align: left;
}

#ojevaqvmvz .gt_center {
  text-align: center;
}

#ojevaqvmvz .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#ojevaqvmvz .gt_font_normal {
  font-weight: normal;
}

#ojevaqvmvz .gt_font_bold {
  font-weight: bold;
}

#ojevaqvmvz .gt_font_italic {
  font-style: italic;
}

#ojevaqvmvz .gt_super {
  font-size: 65%;
}

#ojevaqvmvz .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 75%;
  vertical-align: 0.4em;
}

#ojevaqvmvz .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#ojevaqvmvz .gt_slash_mark {
  font-size: 0.7em;
  line-height: 0.7em;
  vertical-align: 0.15em;
}

#ojevaqvmvz .gt_fraction_numerator {
  font-size: 0.6em;
  line-height: 0.6em;
  vertical-align: 0.45em;
}

#ojevaqvmvz .gt_fraction_denominator {
  font-size: 0.6em;
  line-height: 0.6em;
  vertical-align: -0.05em;
}
</style>
<table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1"><strong>Characteristic</strong></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1"><strong>Death</strong>, N = 2,582<sup class="gt_footnote_marks">1</sup></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1"><strong>Recover</strong>, N = 1,983<sup class="gt_footnote_marks">1</sup></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1"><strong>p-value</strong><sup class="gt_footnote_marks">2</sup></th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td class="gt_row gt_left">age_years</td>
<td class="gt_row gt_center">13 (6, 23)</td>
<td class="gt_row gt_center">13 (6, 23)</td>
<td class="gt_row gt_center">0.6</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;">Unknown</td>
<td class="gt_row gt_center">32</td>
<td class="gt_row gt_center">28</td>
<td class="gt_row gt_center"></td></tr>
  </tbody>
  
  <tfoot class="gt_footnotes">
    <tr>
      <td class="gt_footnote" colspan="4"><sup class="gt_footnote_marks">1</sup> Median (IQR)</td>
    </tr>
    <tr>
      <td class="gt_footnote" colspan="4"><sup class="gt_footnote_marks">2</sup> Welch Two Sample t-test</td>
    </tr>
  </tfoot>
</table>
</div>
<p>Now we’re going to use what you’ve learned in order to analyse the
<code>linelist</code>. Can you select <code>hospital</code> and
<code>outcome</code> then produce a table summary including a
Chi-squared test?</p>
<div class="tutorial-exercise" data-label="gtsummary_test_chisq"
data-completion="1" data-diagnostics="1" data-startover="1"
data-lines="0">
<pre class="text"><code>linelist %&gt;%</code></pre>
<script type="application/json" data-ui-opts="1">{"engine":"r","has_checker":true,"caption":"<span data-i18n=\"text.enginecap\" data-i18n-opts=\"{&quot;engine&quot;:&quot;R&quot;}\">R Code<\/span>"}</script>
</div>
<div class="tutorial-exercise-support"
data-label="gtsummary_test_chisq-hint" data-completion="1"
data-diagnostics="1" data-startover="1" data-lines="0">

</div>
<div class="tutorial-exercise-support"
data-label="gtsummary_test_chisq-solution" data-completion="1"
data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>linelist %&gt;% 
  select(hospital, outcome) %&gt;%    # keep variables of interest
  tbl_summary(by = outcome) %&gt;%  # produce summary table and specify grouping variable
  add_p()</code></pre>
</div>
<div class="panel panel-default">
<div data-label="rhetorical5" class="tutorial-question panel-body">
<div id="rhetorical5-answer_container" class="shiny-html-output"></div>
<div id="rhetorical5-message_container" class="shiny-html-output"></div>
<div id="rhetorical5-action_button_container" class="shiny-html-output"></div>
<script>if (Tutorial.triggerMathJax) Tutorial.triggerMathJax()</script>
</div>
</div>
</div>
</div>
<div id="section-correlations" class="section level2">
<h2>Correlations</h2>
<p>Correlation between numeric variables can be investigated using the
<strong>tidyverse</strong> <strong>corrr</strong> package. It allows you
to compute correlations using Pearson, Kendall tau or Spearman rho. The
package creates a table and also has a function to automatically plot
the values.</p>
<pre class="r"><code>correlation_tab &lt;- linelist %&gt;% 
  select(generation, age, ct_blood, days_onset_hosp, wt_kg, ht_cm) %&gt;%   # keep numeric variables of interest
  correlate()      # create correlation table (using default pearson)

correlation_tab    # print</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["term"],"name":[1],"type":["chr"],"align":["left"]},{"label":["generation"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["age"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["ct_blood"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["days_onset_hosp"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["wt_kg"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["ht_cm"],"name":[7],"type":["dbl"],"align":["right"]}],"data":[{"1":"generation","2":"NA","3":"-0.0221955742","4":"0.179328695","5":"-0.2876629675","6":"-0.030218683","7":"-0.009424119"},{"1":"age","2":"-0.022195574","3":"NA","4":"0.008486987","5":"-0.0006346472","6":"0.833038892","7":"0.876865047"},{"1":"ct_blood","2":"0.179328695","3":"0.0084869869","4":"NA","5":"-0.6002772255","6":"-0.006356632","7":"0.018080426"},{"1":"days_onset_hosp","2":"-0.287662967","3":"-0.0006346472","4":"-0.600277226","5":"NA","6":"0.015291457","7":"-0.009527510"},{"1":"wt_kg","2":"-0.030218683","3":"0.8330388921","4":"-0.006356632","5":"0.0152914566","6":"NA","7":"0.884471842"},{"1":"ht_cm","2":"-0.009424119","3":"0.8768650468","4":"0.018080426","5":"-0.0095275100","6":"0.884471842","7":"NA"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<pre class="r"><code>## remove duplicate entries (the table above is mirrored) 
correlation_tab &lt;- correlation_tab %&gt;% 
  shave()

## view correlation table 
correlation_tab</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["term"],"name":[1],"type":["chr"],"align":["left"]},{"label":["generation"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["age"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["ct_blood"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["days_onset_hosp"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["wt_kg"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["ht_cm"],"name":[7],"type":["dbl"],"align":["right"]}],"data":[{"1":"generation","2":"NA","3":"NA","4":"NA","5":"NA","6":"NA","7":"NA"},{"1":"age","2":"-0.022195574","3":"NA","4":"NA","5":"NA","6":"NA","7":"NA"},{"1":"ct_blood","2":"0.179328695","3":"0.0084869869","4":"NA","5":"NA","6":"NA","7":"NA"},{"1":"days_onset_hosp","2":"-0.287662967","3":"-0.0006346472","4":"-0.600277226","5":"NA","6":"NA","7":"NA"},{"1":"wt_kg","2":"-0.030218683","3":"0.8330388921","4":"-0.006356632","5":"0.01529146","6":"NA","7":"NA"},{"1":"ht_cm","2":"-0.009424119","3":"0.8768650468","4":"0.018080426","5":"-0.00952751","6":"0.8844718","7":"NA"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<pre class="r"><code>rplot(correlation_tab)</code></pre>
<p><img src="4_data_cleaning_descriptive_tables_and_statistical_tests_files/figure-html/unnamed-chunk-59-1.png" width="624" /></p>

<script type="application/shiny-prerendered" data-context="server-start">
knitr::opts_chunk$set(warning = FALSE, message = FALSE) 
# load packages ----------------------------------------------------------------
library(learnr)
library(gradethis)
library(tidyverse)
library(here)
library(janitor)
library(rio)
#library(basket) # not sure if we need this
#library(etude) # helper functions for gradethis
library(epikit)
#library(linelist)
library(lubridate)
library(fastLink)
library(gtsummary)
library(rstatix)
library(corrr)

# set options for exercises and checking ---------------------------------------
gradethis_setup()

learnr::tutorial_options(exercise.timelimit = 60) 
  #exercise.checker = gradethis::grade_learnr) 
    # alternatively, submitr::null_code_checker


# event recorder ---------------------------------------------------------------
# see https://github.com/dtkaplan/submitr/blob/master/R/make_a_recorder.R
# tutorial_options(exercise.eval = FALSE)  # pre-evaluate exercises
# 
# vfun <- submitr::make_basic_validator(NULL, "hello") #basket::check_valid
# 
# new_recorder <- function(tutorial_id, tutorial_version, user_id, event, data) {
#     cat(
#       tutorial_id, 
#       " (v", tutorial_version, "); ",
#       format(Sys.time(), "%Y-%M%-%D %H:%M:%S %Z"), "; ",
#       user_id, "; ",
#       event, "; ",
#       data$label, "; ",
#       data$answers, "; ",
#       data$code, "; ",
#       data$correct, "\n", sep = "",
#       
#       file = here::here("event_records", "learnr_basics.txt"),
#       append = TRUE)
# }
# 
# options(tutorial.event_recorder = new_recorder)


# hide non-exercise code chunks ------------------------------------------------
knitr::opts_chunk$set(echo = FALSE)


# data prep --------------------------------------------------------------------
linelist_raw <- rio::import(here::here("data", "linelist_raw.xlsx"))
linelist <- rio::import(here::here("data", "linelist_cleaned.rds"))
malaria_counts <- rio::import(here::here("data", "malaria_facility_count_data.rds"))

#Incorrectly assign class so we can clean later
linelist_raw$age <- as.character(linelist_raw$age)
linelist_raw$`date onset` <- as.character(linelist_raw$`date onset`)

#Going to randomly convert some temperatures to Fahrenheit instead of celcius for an exercise later
set.seed(1)
take_these <- sample(1:nrow(linelist_raw), 500)

linelist_raw$temp[take_these] <- (linelist_raw$temp[take_these] * 9/5) + 32

#Create some dummy df's for pivoting exercises
df <- data.frame(id = c("A", "B", "C"),
           obs1_date = c("2021-04-23", "2021-04-23", "2021-04-23"),
           obs1_status = c("Healthy", "Healthy", "Missing"),
           obs2_date = c("2021-04-24", "2021-04-24", "2021-04-24"),
           obs2_status = c("Healthy", "Healthy", "Healthy"),
           obs3_date = c("2021-04-25", "2021-04-25", "2021-04-25"),
           obs3_status = c("Unwell", "Healthy", "Healthy"))

fever_followup <- data.frame(patient = 1:10,
                             observation1_date = Sys.Date() - 21,
                        observation2_date = Sys.Date() - 14,
                        observation3_date = Sys.Date() - 7,
                        observation1_temp = sample(seq(35, 45, by = 0.1), 10, replace = T),
                        observation2_temp = sample(seq(35, 45, by = 0.1), 10, replace = T),
                        observation3_temp = sample(seq(35, 45, by = 0.1), 10, replace = T))

fever_followup$observation1_fever <- ifelse(fever_followup$observation1_date < 38, "No fever",
                              ifelse(fever_followup$observation1_date >= 38 & fever_followup$observation1_date< 39.4, "Mild fever",
                                     ifelse(fever_followup$observation1_date >= 39.4, "High fever", NA)))
fever_followup$observation2_fever <- ifelse(fever_followup$observation2_date < 38, "No fever",
                              ifelse(fever_followup$observation2_date >= 38 & fever_followup$observation2_date< 39.4, "Mild fever",
                                     ifelse(fever_followup$observation2_date >= 39.4, "High fever", NA)))
fever_followup$observation3_fever <- ifelse(fever_followup$observation3_date < 38, "No fever",
                              ifelse(fever_followup$observation3_date >= 38 & fever_followup$observation3_date< 39.4, "Mild fever",
                                     ifelse(fever_followup$observation3_date >= 39.4, "High fever", NA)))


fill_table_1 <- 
  tibble::tribble(
       ~Measurement, ~Facility, ~Cases,
                  1,  "Hosp 1",     66,
                  2,  "Hosp 1",     26,
                  3,  "Hosp 1",      8,
                  1,  "Hosp 2",     71,
                  2,  "Hosp 2",     62,
                  3,  "Hosp 2",     70,
                  1,  "Hosp 3",     47,
                  2,  "Hosp 3",     70,
                  3,  "Hosp 3",     38,
       )

fill_table_2 <- 
  tibble::tribble(
    ~Year, ~Measurement, ~Facility, ~Cases,
     2000,            1,  "Hosp 4",     82,
     2001,            2,  "Hosp 4",     87,
     2002,            3,  "Hosp 4",     46
  )

linelist_mini <- linelist %>%                 # start with original linelist
  select(case_id, date_onset, hospital) %>%   # select columns
  head(10)     

# Make the hospital information dataframe
hosp_info = data.frame(
  hosp_name     = c("central hospital", "military", "military", "port", "St. Mark's", "ignace", "sisters"),
  catchment_pop = c(1950280, 40500, 10000, 50280, 12000, 5000, 4200),
  level         = c("Tertiary", "Secondary", "Primary", "Secondary", "Secondary", "Primary", "Primary")
)

#Make some ID's and dataframes to join for exercises
patient_ID <- apply(sapply(1:10, function(x) sample(c(LETTERS, 0:9), 10, replace = T)), 2, paste0, collapse = "")


patient_symptoms <- data.frame(patient_id = sample(patient_ID, 10),
                linelist %>%
    select(fever:vomit) %>%
    filter(row_number() %in% 1:10))

patient_dates <- data.frame(id = patient_ID,
                linelist %>%
    select(contains("date")) %>%
    filter(row_number() %in% c(sample(which(is.na(linelist$date_onset)), 5),
  sample(which(!is.na(linelist$date_onset)), 5))))

#Probablistic matching

# make datasets

cases <- tribble(
  ~gender, ~first,      ~middle,     ~last,        ~yr,   ~mon, ~day, ~district,
  "M",     "Amir",      NA,          "Khan",       1989,  11,   22,   "River",
  "M",     "Anthony",   "B.",        "Smith",      1970, 09, 19,      "River", 
  "F",     "Marialisa", "Contreras", "Rodrigues",  1972, 04, 15,      "River",
  "F",     "Elizabeth", "Casteel",   "Chase",      1954, 03, 03,      "City",
  "M",     "Jose",      "Sanchez",   "Lopez",      1996, 01, 06,      "City",
  "F",     "Cassidy",   "Jones",      "Davis",     1980, 07, 20,      "City",
  "M",     "Michael",   "Murphy",     "O'Calaghan",1969, 04, 12,      "Rural", 
  "M",     "Oliver",    "Laurent",    "De Bordow" , 1971, 02, 04,     "River",
  "F",      "Blessing",  NA,          "Adebayo",   1955,  02, 14,     "Rural"
)

results <- tribble(
  ~gender,  ~first,     ~middle,     ~last,          ~yr, ~mon, ~day, ~district, ~result,
  "M",      "Amir",     NA,          "Khan",         1989, 11,   22,  "River", "positive",
  "M",      "Tony",   "B",         "Smith",          1970, 09,   19,  "River", "positive",
  "F",      "Maria",    "Contreras", "Rodriguez",    1972, 04,   15,  "Cty",   "negative",
  "F",      "Betty",    "Castel",   "Chase",        1954,  03,   30,  "City",  "positive",
  "F",      "Andrea",   NA,          "Kumaraswamy",  2001, 01,   05,  "Rural", "positive",      
  "F",      "Caroline", NA,          "Wang",         1988, 12,   11,  "Rural", "negative",
  "F",      "Trang",    NA,          "Nguyen",       1981, 06,   10,  "Rural", "positive",
  "M",      "Olivier" , "Laurent",   "De Bordeaux",  NA,   NA,   NA,  "River", "positive",
  "M",      "Mike",     "Murphy",    "O'Callaghan",  1969, 04,   12,  "Rural", "negative",
  "F",      "Cassidy",  "Jones",     "Davis",        1980, 07,   02,  "City",  "positive",
  "M",      "Mohammad", NA,          "Ali",          1942, 01,   17,  "City",  "negative",
  NA,       "Jose",     "Sanchez",   "Lopez",        1995, 01,   06,  "City",  "negative",
  "M",      "Abubakar", NA,          "Abullahi",     1960, 01,   01,  "River", "positive",
  "F",      "Maria",    "Salinas",   "Contreras",    1955, 03,   03,  "River", "positive"
  )


cases_dup <- rbind(cases,
                   data.frame(
                     gender = c("M", "F"),
           first = c("Tony", "Maria"),
           middle = c("B.", "Contreras"),
           last = c("Smith", "Rodriguez"),
           yr = c(1970, 1972),
           mon = c(9, 4),
           day = c(19, 15),
           district = c("River", "River"))
           )

#Create a  factor column
linelist$source[is.na(linelist$source)] <- "missing"
linelist$source <- factor(linelist$source)

</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::register_http_handlers(session, metadata = NULL)
</script>


<script type="application/shiny-prerendered" data-context="server">
learnr:::prepare_tutorial_state(session)
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::i18n_observe_tutorial_language(input, session)
</script>


<script type="application/shiny-prerendered" data-context="server">
session$onSessionEnded(function() {
        learnr:::event_trigger(session, "session_stop")
      })
</script>
 
<script type="application/shiny-prerendered" data-context="server">
# see https://rdrr.io/github/dtkaplan/submitr/f/vignettes/using.Rmd
# options(tutorial.storage = "none")
# vfun <- submitr::make_basic_validator(NULL, "hello")       #basket::check_valid
# storage_actions <- submitr::record_local("./minimal_submissions.csv")
# submitr::shiny_logic(input, output, session, vfun,
#                      storage_actions)
</script>


<script type="application/shiny-prerendered" data-context="server">
`tutorial-exercise-load-package-result` <- learnr:::setup_exercise_handler(reactive(req(input$`tutorial-exercise-load-package-code-editor`)), session)
output$`tutorial-exercise-load-package-output` <- renderUI({
  `tutorial-exercise-load-package-result`()
})
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::store_exercise_cache(structure(list(global_setup = structure(c("knitr::opts_chunk$set(warning = FALSE, message = FALSE) ", 
"# load packages ----------------------------------------------------------------", 
"library(learnr)", "library(gradethis)", "library(tidyverse)", 
"library(here)", "library(janitor)", "library(rio)", "#library(basket) # not sure if we need this", 
"#library(etude) # helper functions for gradethis", "library(epikit)", 
"#library(linelist)", "library(lubridate)", "library(fastLink)", 
"library(gtsummary)", "library(rstatix)", "library(corrr)", "", 
"# set options for exercises and checking ---------------------------------------", 
"gradethis_setup()", "", "learnr::tutorial_options(exercise.timelimit = 60) ", 
"  #exercise.checker = gradethis::grade_learnr) ", "    # alternatively, submitr::null_code_checker", 
"", "", "# event recorder ---------------------------------------------------------------", 
"# see https://github.com/dtkaplan/submitr/blob/master/R/make_a_recorder.R", 
"# tutorial_options(exercise.eval = FALSE)  # pre-evaluate exercises", 
"# ", "# vfun <- submitr::make_basic_validator(NULL, \"hello\") #basket::check_valid", 
"# ", "# new_recorder <- function(tutorial_id, tutorial_version, user_id, event, data) {", 
"#     cat(", "#       tutorial_id, ", "#       \" (v\", tutorial_version, \"); \",", 
"#       format(Sys.time(), \"%Y-%M%-%D %H:%M:%S %Z\"), \"; \",", 
"#       user_id, \"; \",", "#       event, \"; \",", "#       data$label, \"; \",", 
"#       data$answers, \"; \",", "#       data$code, \"; \",", 
"#       data$correct, \"\\n\", sep = \"\",", "#       ", "#       file = here::here(\"event_records\", \"learnr_basics.txt\"),", 
"#       append = TRUE)", "# }", "# ", "# options(tutorial.event_recorder = new_recorder)", 
"", "", "# hide non-exercise code chunks ------------------------------------------------", 
"knitr::opts_chunk$set(echo = FALSE)", "", "", "# data prep --------------------------------------------------------------------", 
"linelist_raw <- rio::import(here::here(\"data\", \"linelist_raw.xlsx\"))", 
"linelist <- rio::import(here::here(\"data\", \"linelist_cleaned.rds\"))", 
"malaria_counts <- rio::import(here::here(\"data\", \"malaria_facility_count_data.rds\"))", 
"", "#Incorrectly assign class so we can clean later", "linelist_raw$age <- as.character(linelist_raw$age)", 
"linelist_raw$`date onset` <- as.character(linelist_raw$`date onset`)", 
"", "#Going to randomly convert some temperatures to Fahrenheit instead of celcius for an exercise later", 
"set.seed(1)", "take_these <- sample(1:nrow(linelist_raw), 500)", 
"", "linelist_raw$temp[take_these] <- (linelist_raw$temp[take_these] * 9/5) + 32", 
"", "#Create some dummy df's for pivoting exercises", "df <- data.frame(id = c(\"A\", \"B\", \"C\"),", 
"           obs1_date = c(\"2021-04-23\", \"2021-04-23\", \"2021-04-23\"),", 
"           obs1_status = c(\"Healthy\", \"Healthy\", \"Missing\"),", 
"           obs2_date = c(\"2021-04-24\", \"2021-04-24\", \"2021-04-24\"),", 
"           obs2_status = c(\"Healthy\", \"Healthy\", \"Healthy\"),", 
"           obs3_date = c(\"2021-04-25\", \"2021-04-25\", \"2021-04-25\"),", 
"           obs3_status = c(\"Unwell\", \"Healthy\", \"Healthy\"))", 
"", "fever_followup <- data.frame(patient = 1:10,", "                             observation1_date = Sys.Date() - 21,", 
"                        observation2_date = Sys.Date() - 14,", 
"                        observation3_date = Sys.Date() - 7,", 
"                        observation1_temp = sample(seq(35, 45, by = 0.1), 10, replace = T),", 
"                        observation2_temp = sample(seq(35, 45, by = 0.1), 10, replace = T),", 
"                        observation3_temp = sample(seq(35, 45, by = 0.1), 10, replace = T))", 
"", "fever_followup$observation1_fever <- ifelse(fever_followup$observation1_date < 38, \"No fever\",", 
"                              ifelse(fever_followup$observation1_date >= 38 & fever_followup$observation1_date< 39.4, \"Mild fever\",", 
"                                     ifelse(fever_followup$observation1_date >= 39.4, \"High fever\", NA)))", 
"fever_followup$observation2_fever <- ifelse(fever_followup$observation2_date < 38, \"No fever\",", 
"                              ifelse(fever_followup$observation2_date >= 38 & fever_followup$observation2_date< 39.4, \"Mild fever\",", 
"                                     ifelse(fever_followup$observation2_date >= 39.4, \"High fever\", NA)))", 
"fever_followup$observation3_fever <- ifelse(fever_followup$observation3_date < 38, \"No fever\",", 
"                              ifelse(fever_followup$observation3_date >= 38 & fever_followup$observation3_date< 39.4, \"Mild fever\",", 
"                                     ifelse(fever_followup$observation3_date >= 39.4, \"High fever\", NA)))", 
"", "", "fill_table_1 <- ", "  tibble::tribble(", "       ~Measurement, ~Facility, ~Cases,", 
"                  1,  \"Hosp 1\",     66,", "                  2,  \"Hosp 1\",     26,", 
"                  3,  \"Hosp 1\",      8,", "                  1,  \"Hosp 2\",     71,", 
"                  2,  \"Hosp 2\",     62,", "                  3,  \"Hosp 2\",     70,", 
"                  1,  \"Hosp 3\",     47,", "                  2,  \"Hosp 3\",     70,", 
"                  3,  \"Hosp 3\",     38,", "       )", "", 
"fill_table_2 <- ", "  tibble::tribble(", "    ~Year, ~Measurement, ~Facility, ~Cases,", 
"     2000,            1,  \"Hosp 4\",     82,", "     2001,            2,  \"Hosp 4\",     87,", 
"     2002,            3,  \"Hosp 4\",     46", "  )", "", "linelist_mini <- linelist %>%                 # start with original linelist", 
"  select(case_id, date_onset, hospital) %>%   # select columns", 
"  head(10)     ", "", "# Make the hospital information dataframe", 
"hosp_info = data.frame(", "  hosp_name     = c(\"central hospital\", \"military\", \"military\", \"port\", \"St. Mark's\", \"ignace\", \"sisters\"),", 
"  catchment_pop = c(1950280, 40500, 10000, 50280, 12000, 5000, 4200),", 
"  level         = c(\"Tertiary\", \"Secondary\", \"Primary\", \"Secondary\", \"Secondary\", \"Primary\", \"Primary\")", 
")", "", "#Make some ID's and dataframes to join for exercises", 
"patient_ID <- apply(sapply(1:10, function(x) sample(c(LETTERS, 0:9), 10, replace = T)), 2, paste0, collapse = \"\")", 
"", "", "patient_symptoms <- data.frame(patient_id = sample(patient_ID, 10),", 
"                linelist %>%", "    select(fever:vomit) %>%", 
"    filter(row_number() %in% 1:10))", "", "patient_dates <- data.frame(id = patient_ID,", 
"                linelist %>%", "    select(contains(\"date\")) %>%", 
"    filter(row_number() %in% c(sample(which(is.na(linelist$date_onset)), 5),", 
"  sample(which(!is.na(linelist$date_onset)), 5))))", "", "#Probablistic matching", 
"", "# make datasets", "", "cases <- tribble(", "  ~gender, ~first,      ~middle,     ~last,        ~yr,   ~mon, ~day, ~district,", 
"  \"M\",     \"Amir\",      NA,          \"Khan\",       1989,  11,   22,   \"River\",", 
"  \"M\",     \"Anthony\",   \"B.\",        \"Smith\",      1970, 09, 19,      \"River\", ", 
"  \"F\",     \"Marialisa\", \"Contreras\", \"Rodrigues\",  1972, 04, 15,      \"River\",", 
"  \"F\",     \"Elizabeth\", \"Casteel\",   \"Chase\",      1954, 03, 03,      \"City\",", 
"  \"M\",     \"Jose\",      \"Sanchez\",   \"Lopez\",      1996, 01, 06,      \"City\",", 
"  \"F\",     \"Cassidy\",   \"Jones\",      \"Davis\",     1980, 07, 20,      \"City\",", 
"  \"M\",     \"Michael\",   \"Murphy\",     \"O'Calaghan\",1969, 04, 12,      \"Rural\", ", 
"  \"M\",     \"Oliver\",    \"Laurent\",    \"De Bordow\" , 1971, 02, 04,     \"River\",", 
"  \"F\",      \"Blessing\",  NA,          \"Adebayo\",   1955,  02, 14,     \"Rural\"", 
")", "", "results <- tribble(", "  ~gender,  ~first,     ~middle,     ~last,          ~yr, ~mon, ~day, ~district, ~result,", 
"  \"M\",      \"Amir\",     NA,          \"Khan\",         1989, 11,   22,  \"River\", \"positive\",", 
"  \"M\",      \"Tony\",   \"B\",         \"Smith\",          1970, 09,   19,  \"River\", \"positive\",", 
"  \"F\",      \"Maria\",    \"Contreras\", \"Rodriguez\",    1972, 04,   15,  \"Cty\",   \"negative\",", 
"  \"F\",      \"Betty\",    \"Castel\",   \"Chase\",        1954,  03,   30,  \"City\",  \"positive\",", 
"  \"F\",      \"Andrea\",   NA,          \"Kumaraswamy\",  2001, 01,   05,  \"Rural\", \"positive\",      ", 
"  \"F\",      \"Caroline\", NA,          \"Wang\",         1988, 12,   11,  \"Rural\", \"negative\",", 
"  \"F\",      \"Trang\",    NA,          \"Nguyen\",       1981, 06,   10,  \"Rural\", \"positive\",", 
"  \"M\",      \"Olivier\" , \"Laurent\",   \"De Bordeaux\",  NA,   NA,   NA,  \"River\", \"positive\",", 
"  \"M\",      \"Mike\",     \"Murphy\",    \"O'Callaghan\",  1969, 04,   12,  \"Rural\", \"negative\",", 
"  \"F\",      \"Cassidy\",  \"Jones\",     \"Davis\",        1980, 07,   02,  \"City\",  \"positive\",", 
"  \"M\",      \"Mohammad\", NA,          \"Ali\",          1942, 01,   17,  \"City\",  \"negative\",", 
"  NA,       \"Jose\",     \"Sanchez\",   \"Lopez\",        1995, 01,   06,  \"City\",  \"negative\",", 
"  \"M\",      \"Abubakar\", NA,          \"Abullahi\",     1960, 01,   01,  \"River\", \"positive\",", 
"  \"F\",      \"Maria\",    \"Salinas\",   \"Contreras\",    1955, 03,   03,  \"River\", \"positive\"", 
"  )", "", "", "cases_dup <- rbind(cases,", "                   data.frame(", 
"                     gender = c(\"M\", \"F\"),", "           first = c(\"Tony\", \"Maria\"),", 
"           middle = c(\"B.\", \"Contreras\"),", "           last = c(\"Smith\", \"Rodriguez\"),", 
"           yr = c(1970, 1972),", "           mon = c(9, 4),", 
"           day = c(19, 15),", "           district = c(\"River\", \"River\"))", 
"           )", "", "#Create a  factor column", "linelist$source[is.na(linelist$source)] <- \"missing\"", 
"linelist$source <- factor(linelist$source)", ""), chunk_opts = list(
    label = "setup", include = FALSE)), setup = NULL, chunks = list(
    list(label = "load-package", code = "pacman::p_load(___)", 
        opts = list(label = "\"load-package\"", exercise = "TRUE"), 
        engine = "r")), code_check = NULL, error_check = NULL, 
    check = structure("grade_this_code(\"You are correct, the packages you need for this lesson are now loaded!\")", chunk_opts = list(
        label = "load-package-check")), solution = NULL, test_cases = NULL, 
    options = list(eval = FALSE, echo = TRUE, results = "markup", 
        tidy = FALSE, tidy.opts = NULL, collapse = FALSE, prompt = FALSE, 
        comment = NA, highlight = FALSE, size = "normalsize", 
        background = "#F7F7F7", strip.white = TRUE, cache = 0, 
        cache.path = "4_data_cleaning_descriptive_tables_and_statistical_tests_cache/html/", 
        cache.vars = NULL, cache.lazy = TRUE, dependson = NULL, 
        autodep = FALSE, cache.rebuild = FALSE, fig.keep = "high", 
        fig.show = "asis", fig.align = "default", fig.path = "4_data_cleaning_descriptive_tables_and_statistical_tests_files/figure-html/", 
        dev = "png", dev.args = NULL, dpi = 192, fig.ext = "png", 
        fig.width = 6.5, fig.height = 4, fig.env = "figure", 
        fig.cap = NULL, fig.scap = NULL, fig.lp = "fig:", fig.subcap = NULL, 
        fig.pos = "", out.width = 624, out.height = NULL, out.extra = NULL, 
        fig.retina = 2, external = TRUE, sanitize = FALSE, interval = 1, 
        aniopts = "controls,loop", warning = FALSE, error = FALSE, 
        message = FALSE, render = NULL, ref.label = NULL, child = NULL, 
        engine = "r", split = FALSE, include = TRUE, purl = TRUE, 
        max.print = 1000, exercise.timelimit = 60, exercise.checker = "function (label = NULL, solution_code = NULL, user_code = NULL, \n    check_code = NULL, envir_result = NULL, evaluate_result = NULL, \n    envir_prep = NULL, last_value = NULL, stage = NULL, ...) \n{\n    (utils::getFromNamespace(\"check_exercise\", \"gradethis\"))(label = label, \n        solution_code = solution_code, user_code = user_code, \n        check_code = check_code, envir_result = envir_result, \n        evaluate_result = evaluate_result, envir_prep = envir_prep, \n        last_value = last_value, stage = stage, ...)\n}", 
        exercise.error.check.code = "gradethis_error_checker()", 
        label = "load-package", exercise = TRUE, code = "pacman::p_load(___)", 
        out.width.px = 624, out.height.px = 384, params.src = "load-package, exercise = TRUE", 
        fig.num = 0, exercise.df_print = "paged"), engine = "r"), class = "tutorial_exercise"))
</script>


<script type="application/shiny-prerendered" data-context="server">
`tutorial-exercise-crosstab_age-result` <- learnr:::setup_exercise_handler(reactive(req(input$`tutorial-exercise-crosstab_age-code-editor`)), session)
output$`tutorial-exercise-crosstab_age-output` <- renderUI({
  `tutorial-exercise-crosstab_age-result`()
})
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::store_exercise_cache(structure(list(global_setup = structure(c("knitr::opts_chunk$set(warning = FALSE, message = FALSE) ", 
"# load packages ----------------------------------------------------------------", 
"library(learnr)", "library(gradethis)", "library(tidyverse)", 
"library(here)", "library(janitor)", "library(rio)", "#library(basket) # not sure if we need this", 
"#library(etude) # helper functions for gradethis", "library(epikit)", 
"#library(linelist)", "library(lubridate)", "library(fastLink)", 
"library(gtsummary)", "library(rstatix)", "library(corrr)", "", 
"# set options for exercises and checking ---------------------------------------", 
"gradethis_setup()", "", "learnr::tutorial_options(exercise.timelimit = 60) ", 
"  #exercise.checker = gradethis::grade_learnr) ", "    # alternatively, submitr::null_code_checker", 
"", "", "# event recorder ---------------------------------------------------------------", 
"# see https://github.com/dtkaplan/submitr/blob/master/R/make_a_recorder.R", 
"# tutorial_options(exercise.eval = FALSE)  # pre-evaluate exercises", 
"# ", "# vfun <- submitr::make_basic_validator(NULL, \"hello\") #basket::check_valid", 
"# ", "# new_recorder <- function(tutorial_id, tutorial_version, user_id, event, data) {", 
"#     cat(", "#       tutorial_id, ", "#       \" (v\", tutorial_version, \"); \",", 
"#       format(Sys.time(), \"%Y-%M%-%D %H:%M:%S %Z\"), \"; \",", 
"#       user_id, \"; \",", "#       event, \"; \",", "#       data$label, \"; \",", 
"#       data$answers, \"; \",", "#       data$code, \"; \",", 
"#       data$correct, \"\\n\", sep = \"\",", "#       ", "#       file = here::here(\"event_records\", \"learnr_basics.txt\"),", 
"#       append = TRUE)", "# }", "# ", "# options(tutorial.event_recorder = new_recorder)", 
"", "", "# hide non-exercise code chunks ------------------------------------------------", 
"knitr::opts_chunk$set(echo = FALSE)", "", "", "# data prep --------------------------------------------------------------------", 
"linelist_raw <- rio::import(here::here(\"data\", \"linelist_raw.xlsx\"))", 
"linelist <- rio::import(here::here(\"data\", \"linelist_cleaned.rds\"))", 
"malaria_counts <- rio::import(here::here(\"data\", \"malaria_facility_count_data.rds\"))", 
"", "#Incorrectly assign class so we can clean later", "linelist_raw$age <- as.character(linelist_raw$age)", 
"linelist_raw$`date onset` <- as.character(linelist_raw$`date onset`)", 
"", "#Going to randomly convert some temperatures to Fahrenheit instead of celcius for an exercise later", 
"set.seed(1)", "take_these <- sample(1:nrow(linelist_raw), 500)", 
"", "linelist_raw$temp[take_these] <- (linelist_raw$temp[take_these] * 9/5) + 32", 
"", "#Create some dummy df's for pivoting exercises", "df <- data.frame(id = c(\"A\", \"B\", \"C\"),", 
"           obs1_date = c(\"2021-04-23\", \"2021-04-23\", \"2021-04-23\"),", 
"           obs1_status = c(\"Healthy\", \"Healthy\", \"Missing\"),", 
"           obs2_date = c(\"2021-04-24\", \"2021-04-24\", \"2021-04-24\"),", 
"           obs2_status = c(\"Healthy\", \"Healthy\", \"Healthy\"),", 
"           obs3_date = c(\"2021-04-25\", \"2021-04-25\", \"2021-04-25\"),", 
"           obs3_status = c(\"Unwell\", \"Healthy\", \"Healthy\"))", 
"", "fever_followup <- data.frame(patient = 1:10,", "                             observation1_date = Sys.Date() - 21,", 
"                        observation2_date = Sys.Date() - 14,", 
"                        observation3_date = Sys.Date() - 7,", 
"                        observation1_temp = sample(seq(35, 45, by = 0.1), 10, replace = T),", 
"                        observation2_temp = sample(seq(35, 45, by = 0.1), 10, replace = T),", 
"                        observation3_temp = sample(seq(35, 45, by = 0.1), 10, replace = T))", 
"", "fever_followup$observation1_fever <- ifelse(fever_followup$observation1_date < 38, \"No fever\",", 
"                              ifelse(fever_followup$observation1_date >= 38 & fever_followup$observation1_date< 39.4, \"Mild fever\",", 
"                                     ifelse(fever_followup$observation1_date >= 39.4, \"High fever\", NA)))", 
"fever_followup$observation2_fever <- ifelse(fever_followup$observation2_date < 38, \"No fever\",", 
"                              ifelse(fever_followup$observation2_date >= 38 & fever_followup$observation2_date< 39.4, \"Mild fever\",", 
"                                     ifelse(fever_followup$observation2_date >= 39.4, \"High fever\", NA)))", 
"fever_followup$observation3_fever <- ifelse(fever_followup$observation3_date < 38, \"No fever\",", 
"                              ifelse(fever_followup$observation3_date >= 38 & fever_followup$observation3_date< 39.4, \"Mild fever\",", 
"                                     ifelse(fever_followup$observation3_date >= 39.4, \"High fever\", NA)))", 
"", "", "fill_table_1 <- ", "  tibble::tribble(", "       ~Measurement, ~Facility, ~Cases,", 
"                  1,  \"Hosp 1\",     66,", "                  2,  \"Hosp 1\",     26,", 
"                  3,  \"Hosp 1\",      8,", "                  1,  \"Hosp 2\",     71,", 
"                  2,  \"Hosp 2\",     62,", "                  3,  \"Hosp 2\",     70,", 
"                  1,  \"Hosp 3\",     47,", "                  2,  \"Hosp 3\",     70,", 
"                  3,  \"Hosp 3\",     38,", "       )", "", 
"fill_table_2 <- ", "  tibble::tribble(", "    ~Year, ~Measurement, ~Facility, ~Cases,", 
"     2000,            1,  \"Hosp 4\",     82,", "     2001,            2,  \"Hosp 4\",     87,", 
"     2002,            3,  \"Hosp 4\",     46", "  )", "", "linelist_mini <- linelist %>%                 # start with original linelist", 
"  select(case_id, date_onset, hospital) %>%   # select columns", 
"  head(10)     ", "", "# Make the hospital information dataframe", 
"hosp_info = data.frame(", "  hosp_name     = c(\"central hospital\", \"military\", \"military\", \"port\", \"St. Mark's\", \"ignace\", \"sisters\"),", 
"  catchment_pop = c(1950280, 40500, 10000, 50280, 12000, 5000, 4200),", 
"  level         = c(\"Tertiary\", \"Secondary\", \"Primary\", \"Secondary\", \"Secondary\", \"Primary\", \"Primary\")", 
")", "", "#Make some ID's and dataframes to join for exercises", 
"patient_ID <- apply(sapply(1:10, function(x) sample(c(LETTERS, 0:9), 10, replace = T)), 2, paste0, collapse = \"\")", 
"", "", "patient_symptoms <- data.frame(patient_id = sample(patient_ID, 10),", 
"                linelist %>%", "    select(fever:vomit) %>%", 
"    filter(row_number() %in% 1:10))", "", "patient_dates <- data.frame(id = patient_ID,", 
"                linelist %>%", "    select(contains(\"date\")) %>%", 
"    filter(row_number() %in% c(sample(which(is.na(linelist$date_onset)), 5),", 
"  sample(which(!is.na(linelist$date_onset)), 5))))", "", "#Probablistic matching", 
"", "# make datasets", "", "cases <- tribble(", "  ~gender, ~first,      ~middle,     ~last,        ~yr,   ~mon, ~day, ~district,", 
"  \"M\",     \"Amir\",      NA,          \"Khan\",       1989,  11,   22,   \"River\",", 
"  \"M\",     \"Anthony\",   \"B.\",        \"Smith\",      1970, 09, 19,      \"River\", ", 
"  \"F\",     \"Marialisa\", \"Contreras\", \"Rodrigues\",  1972, 04, 15,      \"River\",", 
"  \"F\",     \"Elizabeth\", \"Casteel\",   \"Chase\",      1954, 03, 03,      \"City\",", 
"  \"M\",     \"Jose\",      \"Sanchez\",   \"Lopez\",      1996, 01, 06,      \"City\",", 
"  \"F\",     \"Cassidy\",   \"Jones\",      \"Davis\",     1980, 07, 20,      \"City\",", 
"  \"M\",     \"Michael\",   \"Murphy\",     \"O'Calaghan\",1969, 04, 12,      \"Rural\", ", 
"  \"M\",     \"Oliver\",    \"Laurent\",    \"De Bordow\" , 1971, 02, 04,     \"River\",", 
"  \"F\",      \"Blessing\",  NA,          \"Adebayo\",   1955,  02, 14,     \"Rural\"", 
")", "", "results <- tribble(", "  ~gender,  ~first,     ~middle,     ~last,          ~yr, ~mon, ~day, ~district, ~result,", 
"  \"M\",      \"Amir\",     NA,          \"Khan\",         1989, 11,   22,  \"River\", \"positive\",", 
"  \"M\",      \"Tony\",   \"B\",         \"Smith\",          1970, 09,   19,  \"River\", \"positive\",", 
"  \"F\",      \"Maria\",    \"Contreras\", \"Rodriguez\",    1972, 04,   15,  \"Cty\",   \"negative\",", 
"  \"F\",      \"Betty\",    \"Castel\",   \"Chase\",        1954,  03,   30,  \"City\",  \"positive\",", 
"  \"F\",      \"Andrea\",   NA,          \"Kumaraswamy\",  2001, 01,   05,  \"Rural\", \"positive\",      ", 
"  \"F\",      \"Caroline\", NA,          \"Wang\",         1988, 12,   11,  \"Rural\", \"negative\",", 
"  \"F\",      \"Trang\",    NA,          \"Nguyen\",       1981, 06,   10,  \"Rural\", \"positive\",", 
"  \"M\",      \"Olivier\" , \"Laurent\",   \"De Bordeaux\",  NA,   NA,   NA,  \"River\", \"positive\",", 
"  \"M\",      \"Mike\",     \"Murphy\",    \"O'Callaghan\",  1969, 04,   12,  \"Rural\", \"negative\",", 
"  \"F\",      \"Cassidy\",  \"Jones\",     \"Davis\",        1980, 07,   02,  \"City\",  \"positive\",", 
"  \"M\",      \"Mohammad\", NA,          \"Ali\",          1942, 01,   17,  \"City\",  \"negative\",", 
"  NA,       \"Jose\",     \"Sanchez\",   \"Lopez\",        1995, 01,   06,  \"City\",  \"negative\",", 
"  \"M\",      \"Abubakar\", NA,          \"Abullahi\",     1960, 01,   01,  \"River\", \"positive\",", 
"  \"F\",      \"Maria\",    \"Salinas\",   \"Contreras\",    1955, 03,   03,  \"River\", \"positive\"", 
"  )", "", "", "cases_dup <- rbind(cases,", "                   data.frame(", 
"                     gender = c(\"M\", \"F\"),", "           first = c(\"Tony\", \"Maria\"),", 
"           middle = c(\"B.\", \"Contreras\"),", "           last = c(\"Smith\", \"Rodriguez\"),", 
"           yr = c(1970, 1972),", "           mon = c(9, 4),", 
"           day = c(19, 15),", "           district = c(\"River\", \"River\"))", 
"           )", "", "#Create a  factor column", "linelist$source[is.na(linelist$source)] <- \"missing\"", 
"linelist$source <- factor(linelist$source)", ""), chunk_opts = list(
    label = "setup", include = FALSE)), setup = NULL, chunks = list(
    list(label = "crosstab_age", code = "  ", opts = list(label = "\"crosstab_age\"", 
        exercise = "TRUE"), engine = "r")), code_check = NULL, 
    error_check = NULL, check = structure(c("  grade_this({", 
    "    # Automatically pass if .result equal to .solution", 
    "    pass_if_equal()", "    # Default to failing grade with feedback", 
    "    fail(message = \"Remember to drop NA values using 'show_na = FALSE'\")", 
    "  })"), chunk_opts = list(label = "crosstab_age-check")), 
    solution = structure(c("linelist %>%", "    tabyl(age_cat, show_na = FALSE) %>%", 
    "    adorn_pct_formatting(digits = 2)"), chunk_opts = list(
        label = "crosstab_age-solution")), test_cases = NULL, 
    options = list(eval = FALSE, echo = TRUE, results = "markup", 
        tidy = FALSE, tidy.opts = NULL, collapse = FALSE, prompt = FALSE, 
        comment = NA, highlight = FALSE, size = "normalsize", 
        background = "#F7F7F7", strip.white = TRUE, cache = 0, 
        cache.path = "4_data_cleaning_descriptive_tables_and_statistical_tests_cache/html/", 
        cache.vars = NULL, cache.lazy = TRUE, dependson = NULL, 
        autodep = FALSE, cache.rebuild = FALSE, fig.keep = "high", 
        fig.show = "asis", fig.align = "default", fig.path = "4_data_cleaning_descriptive_tables_and_statistical_tests_files/figure-html/", 
        dev = "png", dev.args = NULL, dpi = 192, fig.ext = "png", 
        fig.width = 6.5, fig.height = 4, fig.env = "figure", 
        fig.cap = NULL, fig.scap = NULL, fig.lp = "fig:", fig.subcap = NULL, 
        fig.pos = "", out.width = 624, out.height = NULL, out.extra = NULL, 
        fig.retina = 2, external = TRUE, sanitize = FALSE, interval = 1, 
        aniopts = "controls,loop", warning = FALSE, error = FALSE, 
        message = FALSE, render = NULL, ref.label = NULL, child = NULL, 
        engine = "r", split = FALSE, include = TRUE, purl = TRUE, 
        max.print = 1000, exercise.timelimit = 60, exercise.checker = "function (label = NULL, solution_code = NULL, user_code = NULL, \n    check_code = NULL, envir_result = NULL, evaluate_result = NULL, \n    envir_prep = NULL, last_value = NULL, stage = NULL, ...) \n{\n    (utils::getFromNamespace(\"check_exercise\", \"gradethis\"))(label = label, \n        solution_code = solution_code, user_code = user_code, \n        check_code = check_code, envir_result = envir_result, \n        evaluate_result = evaluate_result, envir_prep = envir_prep, \n        last_value = last_value, stage = stage, ...)\n}", 
        exercise.error.check.code = "gradethis_error_checker()", 
        label = "crosstab_age", exercise = TRUE, code = "  ", 
        out.width.px = 624, out.height.px = 384, params.src = "crosstab_age, exercise = TRUE", 
        fig.num = 0L, exercise.df_print = "paged"), engine = "r"), class = "tutorial_exercise"))
</script>


<script type="application/shiny-prerendered" data-context="server">
`tutorial-exercise-crosstab_age_gender-result` <- learnr:::setup_exercise_handler(reactive(req(input$`tutorial-exercise-crosstab_age_gender-code-editor`)), session)
output$`tutorial-exercise-crosstab_age_gender-output` <- renderUI({
  `tutorial-exercise-crosstab_age_gender-result`()
})
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::store_exercise_cache(structure(list(global_setup = structure(c("knitr::opts_chunk$set(warning = FALSE, message = FALSE) ", 
"# load packages ----------------------------------------------------------------", 
"library(learnr)", "library(gradethis)", "library(tidyverse)", 
"library(here)", "library(janitor)", "library(rio)", "#library(basket) # not sure if we need this", 
"#library(etude) # helper functions for gradethis", "library(epikit)", 
"#library(linelist)", "library(lubridate)", "library(fastLink)", 
"library(gtsummary)", "library(rstatix)", "library(corrr)", "", 
"# set options for exercises and checking ---------------------------------------", 
"gradethis_setup()", "", "learnr::tutorial_options(exercise.timelimit = 60) ", 
"  #exercise.checker = gradethis::grade_learnr) ", "    # alternatively, submitr::null_code_checker", 
"", "", "# event recorder ---------------------------------------------------------------", 
"# see https://github.com/dtkaplan/submitr/blob/master/R/make_a_recorder.R", 
"# tutorial_options(exercise.eval = FALSE)  # pre-evaluate exercises", 
"# ", "# vfun <- submitr::make_basic_validator(NULL, \"hello\") #basket::check_valid", 
"# ", "# new_recorder <- function(tutorial_id, tutorial_version, user_id, event, data) {", 
"#     cat(", "#       tutorial_id, ", "#       \" (v\", tutorial_version, \"); \",", 
"#       format(Sys.time(), \"%Y-%M%-%D %H:%M:%S %Z\"), \"; \",", 
"#       user_id, \"; \",", "#       event, \"; \",", "#       data$label, \"; \",", 
"#       data$answers, \"; \",", "#       data$code, \"; \",", 
"#       data$correct, \"\\n\", sep = \"\",", "#       ", "#       file = here::here(\"event_records\", \"learnr_basics.txt\"),", 
"#       append = TRUE)", "# }", "# ", "# options(tutorial.event_recorder = new_recorder)", 
"", "", "# hide non-exercise code chunks ------------------------------------------------", 
"knitr::opts_chunk$set(echo = FALSE)", "", "", "# data prep --------------------------------------------------------------------", 
"linelist_raw <- rio::import(here::here(\"data\", \"linelist_raw.xlsx\"))", 
"linelist <- rio::import(here::here(\"data\", \"linelist_cleaned.rds\"))", 
"malaria_counts <- rio::import(here::here(\"data\", \"malaria_facility_count_data.rds\"))", 
"", "#Incorrectly assign class so we can clean later", "linelist_raw$age <- as.character(linelist_raw$age)", 
"linelist_raw$`date onset` <- as.character(linelist_raw$`date onset`)", 
"", "#Going to randomly convert some temperatures to Fahrenheit instead of celcius for an exercise later", 
"set.seed(1)", "take_these <- sample(1:nrow(linelist_raw), 500)", 
"", "linelist_raw$temp[take_these] <- (linelist_raw$temp[take_these] * 9/5) + 32", 
"", "#Create some dummy df's for pivoting exercises", "df <- data.frame(id = c(\"A\", \"B\", \"C\"),", 
"           obs1_date = c(\"2021-04-23\", \"2021-04-23\", \"2021-04-23\"),", 
"           obs1_status = c(\"Healthy\", \"Healthy\", \"Missing\"),", 
"           obs2_date = c(\"2021-04-24\", \"2021-04-24\", \"2021-04-24\"),", 
"           obs2_status = c(\"Healthy\", \"Healthy\", \"Healthy\"),", 
"           obs3_date = c(\"2021-04-25\", \"2021-04-25\", \"2021-04-25\"),", 
"           obs3_status = c(\"Unwell\", \"Healthy\", \"Healthy\"))", 
"", "fever_followup <- data.frame(patient = 1:10,", "                             observation1_date = Sys.Date() - 21,", 
"                        observation2_date = Sys.Date() - 14,", 
"                        observation3_date = Sys.Date() - 7,", 
"                        observation1_temp = sample(seq(35, 45, by = 0.1), 10, replace = T),", 
"                        observation2_temp = sample(seq(35, 45, by = 0.1), 10, replace = T),", 
"                        observation3_temp = sample(seq(35, 45, by = 0.1), 10, replace = T))", 
"", "fever_followup$observation1_fever <- ifelse(fever_followup$observation1_date < 38, \"No fever\",", 
"                              ifelse(fever_followup$observation1_date >= 38 & fever_followup$observation1_date< 39.4, \"Mild fever\",", 
"                                     ifelse(fever_followup$observation1_date >= 39.4, \"High fever\", NA)))", 
"fever_followup$observation2_fever <- ifelse(fever_followup$observation2_date < 38, \"No fever\",", 
"                              ifelse(fever_followup$observation2_date >= 38 & fever_followup$observation2_date< 39.4, \"Mild fever\",", 
"                                     ifelse(fever_followup$observation2_date >= 39.4, \"High fever\", NA)))", 
"fever_followup$observation3_fever <- ifelse(fever_followup$observation3_date < 38, \"No fever\",", 
"                              ifelse(fever_followup$observation3_date >= 38 & fever_followup$observation3_date< 39.4, \"Mild fever\",", 
"                                     ifelse(fever_followup$observation3_date >= 39.4, \"High fever\", NA)))", 
"", "", "fill_table_1 <- ", "  tibble::tribble(", "       ~Measurement, ~Facility, ~Cases,", 
"                  1,  \"Hosp 1\",     66,", "                  2,  \"Hosp 1\",     26,", 
"                  3,  \"Hosp 1\",      8,", "                  1,  \"Hosp 2\",     71,", 
"                  2,  \"Hosp 2\",     62,", "                  3,  \"Hosp 2\",     70,", 
"                  1,  \"Hosp 3\",     47,", "                  2,  \"Hosp 3\",     70,", 
"                  3,  \"Hosp 3\",     38,", "       )", "", 
"fill_table_2 <- ", "  tibble::tribble(", "    ~Year, ~Measurement, ~Facility, ~Cases,", 
"     2000,            1,  \"Hosp 4\",     82,", "     2001,            2,  \"Hosp 4\",     87,", 
"     2002,            3,  \"Hosp 4\",     46", "  )", "", "linelist_mini <- linelist %>%                 # start with original linelist", 
"  select(case_id, date_onset, hospital) %>%   # select columns", 
"  head(10)     ", "", "# Make the hospital information dataframe", 
"hosp_info = data.frame(", "  hosp_name     = c(\"central hospital\", \"military\", \"military\", \"port\", \"St. Mark's\", \"ignace\", \"sisters\"),", 
"  catchment_pop = c(1950280, 40500, 10000, 50280, 12000, 5000, 4200),", 
"  level         = c(\"Tertiary\", \"Secondary\", \"Primary\", \"Secondary\", \"Secondary\", \"Primary\", \"Primary\")", 
")", "", "#Make some ID's and dataframes to join for exercises", 
"patient_ID <- apply(sapply(1:10, function(x) sample(c(LETTERS, 0:9), 10, replace = T)), 2, paste0, collapse = \"\")", 
"", "", "patient_symptoms <- data.frame(patient_id = sample(patient_ID, 10),", 
"                linelist %>%", "    select(fever:vomit) %>%", 
"    filter(row_number() %in% 1:10))", "", "patient_dates <- data.frame(id = patient_ID,", 
"                linelist %>%", "    select(contains(\"date\")) %>%", 
"    filter(row_number() %in% c(sample(which(is.na(linelist$date_onset)), 5),", 
"  sample(which(!is.na(linelist$date_onset)), 5))))", "", "#Probablistic matching", 
"", "# make datasets", "", "cases <- tribble(", "  ~gender, ~first,      ~middle,     ~last,        ~yr,   ~mon, ~day, ~district,", 
"  \"M\",     \"Amir\",      NA,          \"Khan\",       1989,  11,   22,   \"River\",", 
"  \"M\",     \"Anthony\",   \"B.\",        \"Smith\",      1970, 09, 19,      \"River\", ", 
"  \"F\",     \"Marialisa\", \"Contreras\", \"Rodrigues\",  1972, 04, 15,      \"River\",", 
"  \"F\",     \"Elizabeth\", \"Casteel\",   \"Chase\",      1954, 03, 03,      \"City\",", 
"  \"M\",     \"Jose\",      \"Sanchez\",   \"Lopez\",      1996, 01, 06,      \"City\",", 
"  \"F\",     \"Cassidy\",   \"Jones\",      \"Davis\",     1980, 07, 20,      \"City\",", 
"  \"M\",     \"Michael\",   \"Murphy\",     \"O'Calaghan\",1969, 04, 12,      \"Rural\", ", 
"  \"M\",     \"Oliver\",    \"Laurent\",    \"De Bordow\" , 1971, 02, 04,     \"River\",", 
"  \"F\",      \"Blessing\",  NA,          \"Adebayo\",   1955,  02, 14,     \"Rural\"", 
")", "", "results <- tribble(", "  ~gender,  ~first,     ~middle,     ~last,          ~yr, ~mon, ~day, ~district, ~result,", 
"  \"M\",      \"Amir\",     NA,          \"Khan\",         1989, 11,   22,  \"River\", \"positive\",", 
"  \"M\",      \"Tony\",   \"B\",         \"Smith\",          1970, 09,   19,  \"River\", \"positive\",", 
"  \"F\",      \"Maria\",    \"Contreras\", \"Rodriguez\",    1972, 04,   15,  \"Cty\",   \"negative\",", 
"  \"F\",      \"Betty\",    \"Castel\",   \"Chase\",        1954,  03,   30,  \"City\",  \"positive\",", 
"  \"F\",      \"Andrea\",   NA,          \"Kumaraswamy\",  2001, 01,   05,  \"Rural\", \"positive\",      ", 
"  \"F\",      \"Caroline\", NA,          \"Wang\",         1988, 12,   11,  \"Rural\", \"negative\",", 
"  \"F\",      \"Trang\",    NA,          \"Nguyen\",       1981, 06,   10,  \"Rural\", \"positive\",", 
"  \"M\",      \"Olivier\" , \"Laurent\",   \"De Bordeaux\",  NA,   NA,   NA,  \"River\", \"positive\",", 
"  \"M\",      \"Mike\",     \"Murphy\",    \"O'Callaghan\",  1969, 04,   12,  \"Rural\", \"negative\",", 
"  \"F\",      \"Cassidy\",  \"Jones\",     \"Davis\",        1980, 07,   02,  \"City\",  \"positive\",", 
"  \"M\",      \"Mohammad\", NA,          \"Ali\",          1942, 01,   17,  \"City\",  \"negative\",", 
"  NA,       \"Jose\",     \"Sanchez\",   \"Lopez\",        1995, 01,   06,  \"City\",  \"negative\",", 
"  \"M\",      \"Abubakar\", NA,          \"Abullahi\",     1960, 01,   01,  \"River\", \"positive\",", 
"  \"F\",      \"Maria\",    \"Salinas\",   \"Contreras\",    1955, 03,   03,  \"River\", \"positive\"", 
"  )", "", "", "cases_dup <- rbind(cases,", "                   data.frame(", 
"                     gender = c(\"M\", \"F\"),", "           first = c(\"Tony\", \"Maria\"),", 
"           middle = c(\"B.\", \"Contreras\"),", "           last = c(\"Smith\", \"Rodriguez\"),", 
"           yr = c(1970, 1972),", "           mon = c(9, 4),", 
"           day = c(19, 15),", "           district = c(\"River\", \"River\"))", 
"           )", "", "#Create a  factor column", "linelist$source[is.na(linelist$source)] <- \"missing\"", 
"linelist$source <- factor(linelist$source)", ""), chunk_opts = list(
    label = "setup", include = FALSE)), setup = NULL, chunks = list(
    list(label = "crosstab_age_gender", code = "  ", opts = list(
        label = "\"crosstab_age_gender\"", exercise = "TRUE"), 
        engine = "r")), code_check = NULL, error_check = NULL, 
    check = structure(c("  grade_this({", "    # Automatically pass if .result equal to .solution", 
    "    pass_if_equal()", "    # Default to failing grade with feedback", 
    "    fail()", "  })"), chunk_opts = list(label = "crosstab_age_gender-check")), 
    solution = structure(c("linelist %>%                                  ", 
    "  tabyl(age_cat, gender) %>%", "  adorn_totals(where = \"row\") %>%", 
    "  adorn_percentages(denominator = \"row\") %>%", "  adorn_pct_formatting()"
    ), chunk_opts = list(label = "crosstab_age_gender-solution")), 
    test_cases = NULL, options = list(eval = FALSE, echo = TRUE, 
        results = "markup", tidy = FALSE, tidy.opts = NULL, collapse = FALSE, 
        prompt = FALSE, comment = NA, highlight = FALSE, size = "normalsize", 
        background = "#F7F7F7", strip.white = TRUE, cache = 0, 
        cache.path = "4_data_cleaning_descriptive_tables_and_statistical_tests_cache/html/", 
        cache.vars = NULL, cache.lazy = TRUE, dependson = NULL, 
        autodep = FALSE, cache.rebuild = FALSE, fig.keep = "high", 
        fig.show = "asis", fig.align = "default", fig.path = "4_data_cleaning_descriptive_tables_and_statistical_tests_files/figure-html/", 
        dev = "png", dev.args = NULL, dpi = 192, fig.ext = "png", 
        fig.width = 6.5, fig.height = 4, fig.env = "figure", 
        fig.cap = NULL, fig.scap = NULL, fig.lp = "fig:", fig.subcap = NULL, 
        fig.pos = "", out.width = 624, out.height = NULL, out.extra = NULL, 
        fig.retina = 2, external = TRUE, sanitize = FALSE, interval = 1, 
        aniopts = "controls,loop", warning = FALSE, error = FALSE, 
        message = FALSE, render = NULL, ref.label = NULL, child = NULL, 
        engine = "r", split = FALSE, include = TRUE, purl = TRUE, 
        max.print = 1000, exercise.timelimit = 60, exercise.checker = "function (label = NULL, solution_code = NULL, user_code = NULL, \n    check_code = NULL, envir_result = NULL, evaluate_result = NULL, \n    envir_prep = NULL, last_value = NULL, stage = NULL, ...) \n{\n    (utils::getFromNamespace(\"check_exercise\", \"gradethis\"))(label = label, \n        solution_code = solution_code, user_code = user_code, \n        check_code = check_code, envir_result = envir_result, \n        evaluate_result = evaluate_result, envir_prep = envir_prep, \n        last_value = last_value, stage = stage, ...)\n}", 
        exercise.error.check.code = "gradethis_error_checker()", 
        label = "crosstab_age_gender", exercise = TRUE, code = "  ", 
        out.width.px = 624, out.height.px = 384, params.src = "crosstab_age_gender, exercise = TRUE", 
        fig.num = 0L, exercise.df_print = "paged"), engine = "r"), class = "tutorial_exercise"))
</script>


<script type="application/shiny-prerendered" data-context="server">
learnr:::question_prerendered_chunk(structure(list(type = "learnr_radio", label = "quiz11-1", question = structure("Which of these would change the row name title to &#39;Age category&#39; and add a title to the groups (gender) of &#39;Gender&#39;?", html = TRUE, class = c("html", 
"character")), answers = list(structure(list(id = "lnr_ans_56285", 
    option = "adorn_totals(row_name = 'Age Category', col_name = 'Gender')", 
    value = "adorn_totals(row_name = 'Age Category', col_name = 'Gender')", 
    label = structure("adorn_totals(row_name = &#39;Age Category&#39;, col_name = &#39;Gender&#39;)", html = TRUE, class = c("html", 
    "character")), correct = FALSE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
"tutorial_quiz_answer")), structure(list(id = "lnr_ans_10d865d", 
    option = "tabyl(row_name = 'Age Category', col_name = 'Gender')", 
    value = "tabyl(row_name = 'Age Category', col_name = 'Gender')", 
    label = structure("tabyl(row_name = &#39;Age Category&#39;, col_name = &#39;Gender&#39;)", html = TRUE, class = c("html", 
    "character")), correct = FALSE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
"tutorial_quiz_answer")), structure(list(id = "lnr_ans_1600f1f", 
    option = "adorn_title(row_name = 'Age Category', col_name = 'Gender')", 
    value = "adorn_title(row_name = 'Age Category', col_name = 'Gender')", 
    label = structure("adorn_title(row_name = &#39;Age Category&#39;, col_name = &#39;Gender&#39;)", html = TRUE, class = c("html", 
    "character")), correct = TRUE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
"tutorial_quiz_answer"))), button_labels = list(submit = structure("<span data-i18n=\"button.questionsubmit\">Submit Answer<\u002fspan>", html = TRUE, class = c("html", 
"character")), try_again = structure("<span data-i18n=\"button.questiontryagain\">Try Again<\u002fspan>", html = TRUE, class = c("html", 
"character"))), messages = list(correct = structure("Correct!", html = TRUE, class = c("html", 
"character")), try_again = structure("Incorrect", html = TRUE, class = c("html", 
"character")), incorrect = structure("Incorrect", html = TRUE, class = c("html", 
"character")), message = NULL, post_message = NULL), ids = list(
    answer = "quiz11-1-answer", question = "quiz11-1"), loading = structure("<strong>Loading:<\u002fstrong> \nWhich of these would change the row name title to &#39;Age category&#39; and add a title to the groups (gender) of &#39;Gender&#39;?\n<br/><br/><br/>", html = TRUE, class = c("html", 
"character")), random_answer_order = FALSE, allow_retry = FALSE, 
    seed = 28152902.4868903, options = list()), class = c("learnr_radio", 
"tutorial_question")), session = session)
</script>
 
<script type="application/shiny-prerendered" data-context="server">
`tutorial-exercise-gender_count-result` <- learnr:::setup_exercise_handler(reactive(req(input$`tutorial-exercise-gender_count-code-editor`)), session)
output$`tutorial-exercise-gender_count-output` <- renderUI({
  `tutorial-exercise-gender_count-result`()
})
</script>


<script type="application/shiny-prerendered" data-context="server">
learnr:::store_exercise_cache(structure(list(global_setup = structure(c("knitr::opts_chunk$set(warning = FALSE, message = FALSE) ", 
"# load packages ----------------------------------------------------------------", 
"library(learnr)", "library(gradethis)", "library(tidyverse)", 
"library(here)", "library(janitor)", "library(rio)", "#library(basket) # not sure if we need this", 
"#library(etude) # helper functions for gradethis", "library(epikit)", 
"#library(linelist)", "library(lubridate)", "library(fastLink)", 
"library(gtsummary)", "library(rstatix)", "library(corrr)", "", 
"# set options for exercises and checking ---------------------------------------", 
"gradethis_setup()", "", "learnr::tutorial_options(exercise.timelimit = 60) ", 
"  #exercise.checker = gradethis::grade_learnr) ", "    # alternatively, submitr::null_code_checker", 
"", "", "# event recorder ---------------------------------------------------------------", 
"# see https://github.com/dtkaplan/submitr/blob/master/R/make_a_recorder.R", 
"# tutorial_options(exercise.eval = FALSE)  # pre-evaluate exercises", 
"# ", "# vfun <- submitr::make_basic_validator(NULL, \"hello\") #basket::check_valid", 
"# ", "# new_recorder <- function(tutorial_id, tutorial_version, user_id, event, data) {", 
"#     cat(", "#       tutorial_id, ", "#       \" (v\", tutorial_version, \"); \",", 
"#       format(Sys.time(), \"%Y-%M%-%D %H:%M:%S %Z\"), \"; \",", 
"#       user_id, \"; \",", "#       event, \"; \",", "#       data$label, \"; \",", 
"#       data$answers, \"; \",", "#       data$code, \"; \",", 
"#       data$correct, \"\\n\", sep = \"\",", "#       ", "#       file = here::here(\"event_records\", \"learnr_basics.txt\"),", 
"#       append = TRUE)", "# }", "# ", "# options(tutorial.event_recorder = new_recorder)", 
"", "", "# hide non-exercise code chunks ------------------------------------------------", 
"knitr::opts_chunk$set(echo = FALSE)", "", "", "# data prep --------------------------------------------------------------------", 
"linelist_raw <- rio::import(here::here(\"data\", \"linelist_raw.xlsx\"))", 
"linelist <- rio::import(here::here(\"data\", \"linelist_cleaned.rds\"))", 
"malaria_counts <- rio::import(here::here(\"data\", \"malaria_facility_count_data.rds\"))", 
"", "#Incorrectly assign class so we can clean later", "linelist_raw$age <- as.character(linelist_raw$age)", 
"linelist_raw$`date onset` <- as.character(linelist_raw$`date onset`)", 
"", "#Going to randomly convert some temperatures to Fahrenheit instead of celcius for an exercise later", 
"set.seed(1)", "take_these <- sample(1:nrow(linelist_raw), 500)", 
"", "linelist_raw$temp[take_these] <- (linelist_raw$temp[take_these] * 9/5) + 32", 
"", "#Create some dummy df's for pivoting exercises", "df <- data.frame(id = c(\"A\", \"B\", \"C\"),", 
"           obs1_date = c(\"2021-04-23\", \"2021-04-23\", \"2021-04-23\"),", 
"           obs1_status = c(\"Healthy\", \"Healthy\", \"Missing\"),", 
"           obs2_date = c(\"2021-04-24\", \"2021-04-24\", \"2021-04-24\"),", 
"           obs2_status = c(\"Healthy\", \"Healthy\", \"Healthy\"),", 
"           obs3_date = c(\"2021-04-25\", \"2021-04-25\", \"2021-04-25\"),", 
"           obs3_status = c(\"Unwell\", \"Healthy\", \"Healthy\"))", 
"", "fever_followup <- data.frame(patient = 1:10,", "                             observation1_date = Sys.Date() - 21,", 
"                        observation2_date = Sys.Date() - 14,", 
"                        observation3_date = Sys.Date() - 7,", 
"                        observation1_temp = sample(seq(35, 45, by = 0.1), 10, replace = T),", 
"                        observation2_temp = sample(seq(35, 45, by = 0.1), 10, replace = T),", 
"                        observation3_temp = sample(seq(35, 45, by = 0.1), 10, replace = T))", 
"", "fever_followup$observation1_fever <- ifelse(fever_followup$observation1_date < 38, \"No fever\",", 
"                              ifelse(fever_followup$observation1_date >= 38 & fever_followup$observation1_date< 39.4, \"Mild fever\",", 
"                                     ifelse(fever_followup$observation1_date >= 39.4, \"High fever\", NA)))", 
"fever_followup$observation2_fever <- ifelse(fever_followup$observation2_date < 38, \"No fever\",", 
"                              ifelse(fever_followup$observation2_date >= 38 & fever_followup$observation2_date< 39.4, \"Mild fever\",", 
"                                     ifelse(fever_followup$observation2_date >= 39.4, \"High fever\", NA)))", 
"fever_followup$observation3_fever <- ifelse(fever_followup$observation3_date < 38, \"No fever\",", 
"                              ifelse(fever_followup$observation3_date >= 38 & fever_followup$observation3_date< 39.4, \"Mild fever\",", 
"                                     ifelse(fever_followup$observation3_date >= 39.4, \"High fever\", NA)))", 
"", "", "fill_table_1 <- ", "  tibble::tribble(", "       ~Measurement, ~Facility, ~Cases,", 
"                  1,  \"Hosp 1\",     66,", "                  2,  \"Hosp 1\",     26,", 
"                  3,  \"Hosp 1\",      8,", "                  1,  \"Hosp 2\",     71,", 
"                  2,  \"Hosp 2\",     62,", "                  3,  \"Hosp 2\",     70,", 
"                  1,  \"Hosp 3\",     47,", "                  2,  \"Hosp 3\",     70,", 
"                  3,  \"Hosp 3\",     38,", "       )", "", 
"fill_table_2 <- ", "  tibble::tribble(", "    ~Year, ~Measurement, ~Facility, ~Cases,", 
"     2000,            1,  \"Hosp 4\",     82,", "     2001,            2,  \"Hosp 4\",     87,", 
"     2002,            3,  \"Hosp 4\",     46", "  )", "", "linelist_mini <- linelist %>%                 # start with original linelist", 
"  select(case_id, date_onset, hospital) %>%   # select columns", 
"  head(10)     ", "", "# Make the hospital information dataframe", 
"hosp_info = data.frame(", "  hosp_name     = c(\"central hospital\", \"military\", \"military\", \"port\", \"St. Mark's\", \"ignace\", \"sisters\"),", 
"  catchment_pop = c(1950280, 40500, 10000, 50280, 12000, 5000, 4200),", 
"  level         = c(\"Tertiary\", \"Secondary\", \"Primary\", \"Secondary\", \"Secondary\", \"Primary\", \"Primary\")", 
")", "", "#Make some ID's and dataframes to join for exercises", 
"patient_ID <- apply(sapply(1:10, function(x) sample(c(LETTERS, 0:9), 10, replace = T)), 2, paste0, collapse = \"\")", 
"", "", "patient_symptoms <- data.frame(patient_id = sample(patient_ID, 10),", 
"                linelist %>%", "    select(fever:vomit) %>%", 
"    filter(row_number() %in% 1:10))", "", "patient_dates <- data.frame(id = patient_ID,", 
"                linelist %>%", "    select(contains(\"date\")) %>%", 
"    filter(row_number() %in% c(sample(which(is.na(linelist$date_onset)), 5),", 
"  sample(which(!is.na(linelist$date_onset)), 5))))", "", "#Probablistic matching", 
"", "# make datasets", "", "cases <- tribble(", "  ~gender, ~first,      ~middle,     ~last,        ~yr,   ~mon, ~day, ~district,", 
"  \"M\",     \"Amir\",      NA,          \"Khan\",       1989,  11,   22,   \"River\",", 
"  \"M\",     \"Anthony\",   \"B.\",        \"Smith\",      1970, 09, 19,      \"River\", ", 
"  \"F\",     \"Marialisa\", \"Contreras\", \"Rodrigues\",  1972, 04, 15,      \"River\",", 
"  \"F\",     \"Elizabeth\", \"Casteel\",   \"Chase\",      1954, 03, 03,      \"City\",", 
"  \"M\",     \"Jose\",      \"Sanchez\",   \"Lopez\",      1996, 01, 06,      \"City\",", 
"  \"F\",     \"Cassidy\",   \"Jones\",      \"Davis\",     1980, 07, 20,      \"City\",", 
"  \"M\",     \"Michael\",   \"Murphy\",     \"O'Calaghan\",1969, 04, 12,      \"Rural\", ", 
"  \"M\",     \"Oliver\",    \"Laurent\",    \"De Bordow\" , 1971, 02, 04,     \"River\",", 
"  \"F\",      \"Blessing\",  NA,          \"Adebayo\",   1955,  02, 14,     \"Rural\"", 
")", "", "results <- tribble(", "  ~gender,  ~first,     ~middle,     ~last,          ~yr, ~mon, ~day, ~district, ~result,", 
"  \"M\",      \"Amir\",     NA,          \"Khan\",         1989, 11,   22,  \"River\", \"positive\",", 
"  \"M\",      \"Tony\",   \"B\",         \"Smith\",          1970, 09,   19,  \"River\", \"positive\",", 
"  \"F\",      \"Maria\",    \"Contreras\", \"Rodriguez\",    1972, 04,   15,  \"Cty\",   \"negative\",", 
"  \"F\",      \"Betty\",    \"Castel\",   \"Chase\",        1954,  03,   30,  \"City\",  \"positive\",", 
"  \"F\",      \"Andrea\",   NA,          \"Kumaraswamy\",  2001, 01,   05,  \"Rural\", \"positive\",      ", 
"  \"F\",      \"Caroline\", NA,          \"Wang\",         1988, 12,   11,  \"Rural\", \"negative\",", 
"  \"F\",      \"Trang\",    NA,          \"Nguyen\",       1981, 06,   10,  \"Rural\", \"positive\",", 
"  \"M\",      \"Olivier\" , \"Laurent\",   \"De Bordeaux\",  NA,   NA,   NA,  \"River\", \"positive\",", 
"  \"M\",      \"Mike\",     \"Murphy\",    \"O'Callaghan\",  1969, 04,   12,  \"Rural\", \"negative\",", 
"  \"F\",      \"Cassidy\",  \"Jones\",     \"Davis\",        1980, 07,   02,  \"City\",  \"positive\",", 
"  \"M\",      \"Mohammad\", NA,          \"Ali\",          1942, 01,   17,  \"City\",  \"negative\",", 
"  NA,       \"Jose\",     \"Sanchez\",   \"Lopez\",        1995, 01,   06,  \"City\",  \"negative\",", 
"  \"M\",      \"Abubakar\", NA,          \"Abullahi\",     1960, 01,   01,  \"River\", \"positive\",", 
"  \"F\",      \"Maria\",    \"Salinas\",   \"Contreras\",    1955, 03,   03,  \"River\", \"positive\"", 
"  )", "", "", "cases_dup <- rbind(cases,", "                   data.frame(", 
"                     gender = c(\"M\", \"F\"),", "           first = c(\"Tony\", \"Maria\"),", 
"           middle = c(\"B.\", \"Contreras\"),", "           last = c(\"Smith\", \"Rodriguez\"),", 
"           yr = c(1970, 1972),", "           mon = c(9, 4),", 
"           day = c(19, 15),", "           district = c(\"River\", \"River\"))", 
"           )", "", "#Create a  factor column", "linelist$source[is.na(linelist$source)] <- \"missing\"", 
"linelist$source <- factor(linelist$source)", ""), chunk_opts = list(
    label = "setup", include = FALSE)), setup = NULL, chunks = list(
    list(label = "gender_count", code = "  ", opts = list(label = "\"gender_count\"", 
        exercise = "TRUE"), engine = "r")), code_check = NULL, 
    error_check = NULL, check = structure(c("  grade_this({", 
    "    # Automatically pass if .result equal to .solution", 
    "    pass_if_equal()", "    # Default to failing grade with feedback", 
    "    fail()", "  })"), chunk_opts = list(label = "gender_count-check")), 
    solution = structure(c("linelist %>% ", "  count(gender, source)"
    ), chunk_opts = list(label = "gender_count-solution")), test_cases = NULL, 
    options = list(eval = FALSE, echo = TRUE, results = "markup", 
        tidy = FALSE, tidy.opts = NULL, collapse = FALSE, prompt = FALSE, 
        comment = NA, highlight = FALSE, size = "normalsize", 
        background = "#F7F7F7", strip.white = TRUE, cache = 0, 
        cache.path = "4_data_cleaning_descriptive_tables_and_statistical_tests_cache/html/", 
        cache.vars = NULL, cache.lazy = TRUE, dependson = NULL, 
        autodep = FALSE, cache.rebuild = FALSE, fig.keep = "high", 
        fig.show = "asis", fig.align = "default", fig.path = "4_data_cleaning_descriptive_tables_and_statistical_tests_files/figure-html/", 
        dev = "png", dev.args = NULL, dpi = 192, fig.ext = "png", 
        fig.width = 6.5, fig.height = 4, fig.env = "figure", 
        fig.cap = NULL, fig.scap = NULL, fig.lp = "fig:", fig.subcap = NULL, 
        fig.pos = "", out.width = 624, out.height = NULL, out.extra = NULL, 
        fig.retina = 2, external = TRUE, sanitize = FALSE, interval = 1, 
        aniopts = "controls,loop", warning = FALSE, error = FALSE, 
        message = FALSE, render = NULL, ref.label = NULL, child = NULL, 
        engine = "r", split = FALSE, include = TRUE, purl = TRUE, 
        max.print = 1000, exercise.timelimit = 60, exercise.checker = "function (label = NULL, solution_code = NULL, user_code = NULL, \n    check_code = NULL, envir_result = NULL, evaluate_result = NULL, \n    envir_prep = NULL, last_value = NULL, stage = NULL, ...) \n{\n    (utils::getFromNamespace(\"check_exercise\", \"gradethis\"))(label = label, \n        solution_code = solution_code, user_code = user_code, \n        check_code = check_code, envir_result = envir_result, \n        evaluate_result = evaluate_result, envir_prep = envir_prep, \n        last_value = last_value, stage = stage, ...)\n}", 
        exercise.error.check.code = "gradethis_error_checker()", 
        label = "gender_count", exercise = TRUE, code = "  ", 
        out.width.px = 624, out.height.px = 384, params.src = "gender_count, exercise = TRUE", 
        fig.num = 0L, exercise.df_print = "paged"), engine = "r"), class = "tutorial_exercise"))
</script>
 
<script type="application/shiny-prerendered" data-context="server">
`tutorial-exercise-dplyr_crosstab-result` <- learnr:::setup_exercise_handler(reactive(req(input$`tutorial-exercise-dplyr_crosstab-code-editor`)), session)
output$`tutorial-exercise-dplyr_crosstab-output` <- renderUI({
  `tutorial-exercise-dplyr_crosstab-result`()
})
</script>


<script type="application/shiny-prerendered" data-context="server">
learnr:::store_exercise_cache(structure(list(global_setup = structure(c("knitr::opts_chunk$set(warning = FALSE, message = FALSE) ", 
"# load packages ----------------------------------------------------------------", 
"library(learnr)", "library(gradethis)", "library(tidyverse)", 
"library(here)", "library(janitor)", "library(rio)", "#library(basket) # not sure if we need this", 
"#library(etude) # helper functions for gradethis", "library(epikit)", 
"#library(linelist)", "library(lubridate)", "library(fastLink)", 
"library(gtsummary)", "library(rstatix)", "library(corrr)", "", 
"# set options for exercises and checking ---------------------------------------", 
"gradethis_setup()", "", "learnr::tutorial_options(exercise.timelimit = 60) ", 
"  #exercise.checker = gradethis::grade_learnr) ", "    # alternatively, submitr::null_code_checker", 
"", "", "# event recorder ---------------------------------------------------------------", 
"# see https://github.com/dtkaplan/submitr/blob/master/R/make_a_recorder.R", 
"# tutorial_options(exercise.eval = FALSE)  # pre-evaluate exercises", 
"# ", "# vfun <- submitr::make_basic_validator(NULL, \"hello\") #basket::check_valid", 
"# ", "# new_recorder <- function(tutorial_id, tutorial_version, user_id, event, data) {", 
"#     cat(", "#       tutorial_id, ", "#       \" (v\", tutorial_version, \"); \",", 
"#       format(Sys.time(), \"%Y-%M%-%D %H:%M:%S %Z\"), \"; \",", 
"#       user_id, \"; \",", "#       event, \"; \",", "#       data$label, \"; \",", 
"#       data$answers, \"; \",", "#       data$code, \"; \",", 
"#       data$correct, \"\\n\", sep = \"\",", "#       ", "#       file = here::here(\"event_records\", \"learnr_basics.txt\"),", 
"#       append = TRUE)", "# }", "# ", "# options(tutorial.event_recorder = new_recorder)", 
"", "", "# hide non-exercise code chunks ------------------------------------------------", 
"knitr::opts_chunk$set(echo = FALSE)", "", "", "# data prep --------------------------------------------------------------------", 
"linelist_raw <- rio::import(here::here(\"data\", \"linelist_raw.xlsx\"))", 
"linelist <- rio::import(here::here(\"data\", \"linelist_cleaned.rds\"))", 
"malaria_counts <- rio::import(here::here(\"data\", \"malaria_facility_count_data.rds\"))", 
"", "#Incorrectly assign class so we can clean later", "linelist_raw$age <- as.character(linelist_raw$age)", 
"linelist_raw$`date onset` <- as.character(linelist_raw$`date onset`)", 
"", "#Going to randomly convert some temperatures to Fahrenheit instead of celcius for an exercise later", 
"set.seed(1)", "take_these <- sample(1:nrow(linelist_raw), 500)", 
"", "linelist_raw$temp[take_these] <- (linelist_raw$temp[take_these] * 9/5) + 32", 
"", "#Create some dummy df's for pivoting exercises", "df <- data.frame(id = c(\"A\", \"B\", \"C\"),", 
"           obs1_date = c(\"2021-04-23\", \"2021-04-23\", \"2021-04-23\"),", 
"           obs1_status = c(\"Healthy\", \"Healthy\", \"Missing\"),", 
"           obs2_date = c(\"2021-04-24\", \"2021-04-24\", \"2021-04-24\"),", 
"           obs2_status = c(\"Healthy\", \"Healthy\", \"Healthy\"),", 
"           obs3_date = c(\"2021-04-25\", \"2021-04-25\", \"2021-04-25\"),", 
"           obs3_status = c(\"Unwell\", \"Healthy\", \"Healthy\"))", 
"", "fever_followup <- data.frame(patient = 1:10,", "                             observation1_date = Sys.Date() - 21,", 
"                        observation2_date = Sys.Date() - 14,", 
"                        observation3_date = Sys.Date() - 7,", 
"                        observation1_temp = sample(seq(35, 45, by = 0.1), 10, replace = T),", 
"                        observation2_temp = sample(seq(35, 45, by = 0.1), 10, replace = T),", 
"                        observation3_temp = sample(seq(35, 45, by = 0.1), 10, replace = T))", 
"", "fever_followup$observation1_fever <- ifelse(fever_followup$observation1_date < 38, \"No fever\",", 
"                              ifelse(fever_followup$observation1_date >= 38 & fever_followup$observation1_date< 39.4, \"Mild fever\",", 
"                                     ifelse(fever_followup$observation1_date >= 39.4, \"High fever\", NA)))", 
"fever_followup$observation2_fever <- ifelse(fever_followup$observation2_date < 38, \"No fever\",", 
"                              ifelse(fever_followup$observation2_date >= 38 & fever_followup$observation2_date< 39.4, \"Mild fever\",", 
"                                     ifelse(fever_followup$observation2_date >= 39.4, \"High fever\", NA)))", 
"fever_followup$observation3_fever <- ifelse(fever_followup$observation3_date < 38, \"No fever\",", 
"                              ifelse(fever_followup$observation3_date >= 38 & fever_followup$observation3_date< 39.4, \"Mild fever\",", 
"                                     ifelse(fever_followup$observation3_date >= 39.4, \"High fever\", NA)))", 
"", "", "fill_table_1 <- ", "  tibble::tribble(", "       ~Measurement, ~Facility, ~Cases,", 
"                  1,  \"Hosp 1\",     66,", "                  2,  \"Hosp 1\",     26,", 
"                  3,  \"Hosp 1\",      8,", "                  1,  \"Hosp 2\",     71,", 
"                  2,  \"Hosp 2\",     62,", "                  3,  \"Hosp 2\",     70,", 
"                  1,  \"Hosp 3\",     47,", "                  2,  \"Hosp 3\",     70,", 
"                  3,  \"Hosp 3\",     38,", "       )", "", 
"fill_table_2 <- ", "  tibble::tribble(", "    ~Year, ~Measurement, ~Facility, ~Cases,", 
"     2000,            1,  \"Hosp 4\",     82,", "     2001,            2,  \"Hosp 4\",     87,", 
"     2002,            3,  \"Hosp 4\",     46", "  )", "", "linelist_mini <- linelist %>%                 # start with original linelist", 
"  select(case_id, date_onset, hospital) %>%   # select columns", 
"  head(10)     ", "", "# Make the hospital information dataframe", 
"hosp_info = data.frame(", "  hosp_name     = c(\"central hospital\", \"military\", \"military\", \"port\", \"St. Mark's\", \"ignace\", \"sisters\"),", 
"  catchment_pop = c(1950280, 40500, 10000, 50280, 12000, 5000, 4200),", 
"  level         = c(\"Tertiary\", \"Secondary\", \"Primary\", \"Secondary\", \"Secondary\", \"Primary\", \"Primary\")", 
")", "", "#Make some ID's and dataframes to join for exercises", 
"patient_ID <- apply(sapply(1:10, function(x) sample(c(LETTERS, 0:9), 10, replace = T)), 2, paste0, collapse = \"\")", 
"", "", "patient_symptoms <- data.frame(patient_id = sample(patient_ID, 10),", 
"                linelist %>%", "    select(fever:vomit) %>%", 
"    filter(row_number() %in% 1:10))", "", "patient_dates <- data.frame(id = patient_ID,", 
"                linelist %>%", "    select(contains(\"date\")) %>%", 
"    filter(row_number() %in% c(sample(which(is.na(linelist$date_onset)), 5),", 
"  sample(which(!is.na(linelist$date_onset)), 5))))", "", "#Probablistic matching", 
"", "# make datasets", "", "cases <- tribble(", "  ~gender, ~first,      ~middle,     ~last,        ~yr,   ~mon, ~day, ~district,", 
"  \"M\",     \"Amir\",      NA,          \"Khan\",       1989,  11,   22,   \"River\",", 
"  \"M\",     \"Anthony\",   \"B.\",        \"Smith\",      1970, 09, 19,      \"River\", ", 
"  \"F\",     \"Marialisa\", \"Contreras\", \"Rodrigues\",  1972, 04, 15,      \"River\",", 
"  \"F\",     \"Elizabeth\", \"Casteel\",   \"Chase\",      1954, 03, 03,      \"City\",", 
"  \"M\",     \"Jose\",      \"Sanchez\",   \"Lopez\",      1996, 01, 06,      \"City\",", 
"  \"F\",     \"Cassidy\",   \"Jones\",      \"Davis\",     1980, 07, 20,      \"City\",", 
"  \"M\",     \"Michael\",   \"Murphy\",     \"O'Calaghan\",1969, 04, 12,      \"Rural\", ", 
"  \"M\",     \"Oliver\",    \"Laurent\",    \"De Bordow\" , 1971, 02, 04,     \"River\",", 
"  \"F\",      \"Blessing\",  NA,          \"Adebayo\",   1955,  02, 14,     \"Rural\"", 
")", "", "results <- tribble(", "  ~gender,  ~first,     ~middle,     ~last,          ~yr, ~mon, ~day, ~district, ~result,", 
"  \"M\",      \"Amir\",     NA,          \"Khan\",         1989, 11,   22,  \"River\", \"positive\",", 
"  \"M\",      \"Tony\",   \"B\",         \"Smith\",          1970, 09,   19,  \"River\", \"positive\",", 
"  \"F\",      \"Maria\",    \"Contreras\", \"Rodriguez\",    1972, 04,   15,  \"Cty\",   \"negative\",", 
"  \"F\",      \"Betty\",    \"Castel\",   \"Chase\",        1954,  03,   30,  \"City\",  \"positive\",", 
"  \"F\",      \"Andrea\",   NA,          \"Kumaraswamy\",  2001, 01,   05,  \"Rural\", \"positive\",      ", 
"  \"F\",      \"Caroline\", NA,          \"Wang\",         1988, 12,   11,  \"Rural\", \"negative\",", 
"  \"F\",      \"Trang\",    NA,          \"Nguyen\",       1981, 06,   10,  \"Rural\", \"positive\",", 
"  \"M\",      \"Olivier\" , \"Laurent\",   \"De Bordeaux\",  NA,   NA,   NA,  \"River\", \"positive\",", 
"  \"M\",      \"Mike\",     \"Murphy\",    \"O'Callaghan\",  1969, 04,   12,  \"Rural\", \"negative\",", 
"  \"F\",      \"Cassidy\",  \"Jones\",     \"Davis\",        1980, 07,   02,  \"City\",  \"positive\",", 
"  \"M\",      \"Mohammad\", NA,          \"Ali\",          1942, 01,   17,  \"City\",  \"negative\",", 
"  NA,       \"Jose\",     \"Sanchez\",   \"Lopez\",        1995, 01,   06,  \"City\",  \"negative\",", 
"  \"M\",      \"Abubakar\", NA,          \"Abullahi\",     1960, 01,   01,  \"River\", \"positive\",", 
"  \"F\",      \"Maria\",    \"Salinas\",   \"Contreras\",    1955, 03,   03,  \"River\", \"positive\"", 
"  )", "", "", "cases_dup <- rbind(cases,", "                   data.frame(", 
"                     gender = c(\"M\", \"F\"),", "           first = c(\"Tony\", \"Maria\"),", 
"           middle = c(\"B.\", \"Contreras\"),", "           last = c(\"Smith\", \"Rodriguez\"),", 
"           yr = c(1970, 1972),", "           mon = c(9, 4),", 
"           day = c(19, 15),", "           district = c(\"River\", \"River\"))", 
"           )", "", "#Create a  factor column", "linelist$source[is.na(linelist$source)] <- \"missing\"", 
"linelist$source <- factor(linelist$source)", ""), chunk_opts = list(
    label = "setup", include = FALSE)), setup = NULL, chunks = list(
    list(label = "dplyr_crosstab", code = "linelist %>%\n  ", 
        opts = list(label = "\"dplyr_crosstab\"", exercise = "TRUE"), 
        engine = "r")), code_check = NULL, error_check = NULL, 
    check = structure(c("  grade_this({", "    # Automatically pass if .result equal to .solution", 
    "    pass_if_equal()", "    # Default to failing grade with feedback", 
    "    fail()", "  })"), chunk_opts = list(label = "dplyr_crosstab-check")), 
    solution = structure(c("linelist %>% ", "    drop_na(gender, outcome) %>%", 
    "    group_by(gender, outcome) %>%", "    count()"), chunk_opts = list(
        label = "dplyr_crosstab-solution")), test_cases = NULL, 
    options = list(eval = FALSE, echo = TRUE, results = "markup", 
        tidy = FALSE, tidy.opts = NULL, collapse = FALSE, prompt = FALSE, 
        comment = NA, highlight = FALSE, size = "normalsize", 
        background = "#F7F7F7", strip.white = TRUE, cache = 0, 
        cache.path = "4_data_cleaning_descriptive_tables_and_statistical_tests_cache/html/", 
        cache.vars = NULL, cache.lazy = TRUE, dependson = NULL, 
        autodep = FALSE, cache.rebuild = FALSE, fig.keep = "high", 
        fig.show = "asis", fig.align = "default", fig.path = "4_data_cleaning_descriptive_tables_and_statistical_tests_files/figure-html/", 
        dev = "png", dev.args = NULL, dpi = 192, fig.ext = "png", 
        fig.width = 6.5, fig.height = 4, fig.env = "figure", 
        fig.cap = NULL, fig.scap = NULL, fig.lp = "fig:", fig.subcap = NULL, 
        fig.pos = "", out.width = 624, out.height = NULL, out.extra = NULL, 
        fig.retina = 2, external = TRUE, sanitize = FALSE, interval = 1, 
        aniopts = "controls,loop", warning = FALSE, error = FALSE, 
        message = FALSE, render = NULL, ref.label = NULL, child = NULL, 
        engine = "r", split = FALSE, include = TRUE, purl = TRUE, 
        max.print = 1000, exercise.timelimit = 60, exercise.checker = "function (label = NULL, solution_code = NULL, user_code = NULL, \n    check_code = NULL, envir_result = NULL, evaluate_result = NULL, \n    envir_prep = NULL, last_value = NULL, stage = NULL, ...) \n{\n    (utils::getFromNamespace(\"check_exercise\", \"gradethis\"))(label = label, \n        solution_code = solution_code, user_code = user_code, \n        check_code = check_code, envir_result = envir_result, \n        evaluate_result = evaluate_result, envir_prep = envir_prep, \n        last_value = last_value, stage = stage, ...)\n}", 
        exercise.error.check.code = "gradethis_error_checker()", 
        label = "dplyr_crosstab", exercise = TRUE, code = c("linelist %>%", 
        "  "), out.width.px = 624, out.height.px = 384, params.src = "dplyr_crosstab, exercise = TRUE", 
        fig.num = 0, exercise.df_print = "paged"), engine = "r"), class = "tutorial_exercise"))
</script>
 
<script type="application/shiny-prerendered" data-context="server">
`tutorial-exercise-dplyr_summarise-result` <- learnr:::setup_exercise_handler(reactive(req(input$`tutorial-exercise-dplyr_summarise-code-editor`)), session)
output$`tutorial-exercise-dplyr_summarise-output` <- renderUI({
  `tutorial-exercise-dplyr_summarise-result`()
})
</script>


<script type="application/shiny-prerendered" data-context="server">
learnr:::store_exercise_cache(structure(list(global_setup = structure(c("knitr::opts_chunk$set(warning = FALSE, message = FALSE) ", 
"# load packages ----------------------------------------------------------------", 
"library(learnr)", "library(gradethis)", "library(tidyverse)", 
"library(here)", "library(janitor)", "library(rio)", "#library(basket) # not sure if we need this", 
"#library(etude) # helper functions for gradethis", "library(epikit)", 
"#library(linelist)", "library(lubridate)", "library(fastLink)", 
"library(gtsummary)", "library(rstatix)", "library(corrr)", "", 
"# set options for exercises and checking ---------------------------------------", 
"gradethis_setup()", "", "learnr::tutorial_options(exercise.timelimit = 60) ", 
"  #exercise.checker = gradethis::grade_learnr) ", "    # alternatively, submitr::null_code_checker", 
"", "", "# event recorder ---------------------------------------------------------------", 
"# see https://github.com/dtkaplan/submitr/blob/master/R/make_a_recorder.R", 
"# tutorial_options(exercise.eval = FALSE)  # pre-evaluate exercises", 
"# ", "# vfun <- submitr::make_basic_validator(NULL, \"hello\") #basket::check_valid", 
"# ", "# new_recorder <- function(tutorial_id, tutorial_version, user_id, event, data) {", 
"#     cat(", "#       tutorial_id, ", "#       \" (v\", tutorial_version, \"); \",", 
"#       format(Sys.time(), \"%Y-%M%-%D %H:%M:%S %Z\"), \"; \",", 
"#       user_id, \"; \",", "#       event, \"; \",", "#       data$label, \"; \",", 
"#       data$answers, \"; \",", "#       data$code, \"; \",", 
"#       data$correct, \"\\n\", sep = \"\",", "#       ", "#       file = here::here(\"event_records\", \"learnr_basics.txt\"),", 
"#       append = TRUE)", "# }", "# ", "# options(tutorial.event_recorder = new_recorder)", 
"", "", "# hide non-exercise code chunks ------------------------------------------------", 
"knitr::opts_chunk$set(echo = FALSE)", "", "", "# data prep --------------------------------------------------------------------", 
"linelist_raw <- rio::import(here::here(\"data\", \"linelist_raw.xlsx\"))", 
"linelist <- rio::import(here::here(\"data\", \"linelist_cleaned.rds\"))", 
"malaria_counts <- rio::import(here::here(\"data\", \"malaria_facility_count_data.rds\"))", 
"", "#Incorrectly assign class so we can clean later", "linelist_raw$age <- as.character(linelist_raw$age)", 
"linelist_raw$`date onset` <- as.character(linelist_raw$`date onset`)", 
"", "#Going to randomly convert some temperatures to Fahrenheit instead of celcius for an exercise later", 
"set.seed(1)", "take_these <- sample(1:nrow(linelist_raw), 500)", 
"", "linelist_raw$temp[take_these] <- (linelist_raw$temp[take_these] * 9/5) + 32", 
"", "#Create some dummy df's for pivoting exercises", "df <- data.frame(id = c(\"A\", \"B\", \"C\"),", 
"           obs1_date = c(\"2021-04-23\", \"2021-04-23\", \"2021-04-23\"),", 
"           obs1_status = c(\"Healthy\", \"Healthy\", \"Missing\"),", 
"           obs2_date = c(\"2021-04-24\", \"2021-04-24\", \"2021-04-24\"),", 
"           obs2_status = c(\"Healthy\", \"Healthy\", \"Healthy\"),", 
"           obs3_date = c(\"2021-04-25\", \"2021-04-25\", \"2021-04-25\"),", 
"           obs3_status = c(\"Unwell\", \"Healthy\", \"Healthy\"))", 
"", "fever_followup <- data.frame(patient = 1:10,", "                             observation1_date = Sys.Date() - 21,", 
"                        observation2_date = Sys.Date() - 14,", 
"                        observation3_date = Sys.Date() - 7,", 
"                        observation1_temp = sample(seq(35, 45, by = 0.1), 10, replace = T),", 
"                        observation2_temp = sample(seq(35, 45, by = 0.1), 10, replace = T),", 
"                        observation3_temp = sample(seq(35, 45, by = 0.1), 10, replace = T))", 
"", "fever_followup$observation1_fever <- ifelse(fever_followup$observation1_date < 38, \"No fever\",", 
"                              ifelse(fever_followup$observation1_date >= 38 & fever_followup$observation1_date< 39.4, \"Mild fever\",", 
"                                     ifelse(fever_followup$observation1_date >= 39.4, \"High fever\", NA)))", 
"fever_followup$observation2_fever <- ifelse(fever_followup$observation2_date < 38, \"No fever\",", 
"                              ifelse(fever_followup$observation2_date >= 38 & fever_followup$observation2_date< 39.4, \"Mild fever\",", 
"                                     ifelse(fever_followup$observation2_date >= 39.4, \"High fever\", NA)))", 
"fever_followup$observation3_fever <- ifelse(fever_followup$observation3_date < 38, \"No fever\",", 
"                              ifelse(fever_followup$observation3_date >= 38 & fever_followup$observation3_date< 39.4, \"Mild fever\",", 
"                                     ifelse(fever_followup$observation3_date >= 39.4, \"High fever\", NA)))", 
"", "", "fill_table_1 <- ", "  tibble::tribble(", "       ~Measurement, ~Facility, ~Cases,", 
"                  1,  \"Hosp 1\",     66,", "                  2,  \"Hosp 1\",     26,", 
"                  3,  \"Hosp 1\",      8,", "                  1,  \"Hosp 2\",     71,", 
"                  2,  \"Hosp 2\",     62,", "                  3,  \"Hosp 2\",     70,", 
"                  1,  \"Hosp 3\",     47,", "                  2,  \"Hosp 3\",     70,", 
"                  3,  \"Hosp 3\",     38,", "       )", "", 
"fill_table_2 <- ", "  tibble::tribble(", "    ~Year, ~Measurement, ~Facility, ~Cases,", 
"     2000,            1,  \"Hosp 4\",     82,", "     2001,            2,  \"Hosp 4\",     87,", 
"     2002,            3,  \"Hosp 4\",     46", "  )", "", "linelist_mini <- linelist %>%                 # start with original linelist", 
"  select(case_id, date_onset, hospital) %>%   # select columns", 
"  head(10)     ", "", "# Make the hospital information dataframe", 
"hosp_info = data.frame(", "  hosp_name     = c(\"central hospital\", \"military\", \"military\", \"port\", \"St. Mark's\", \"ignace\", \"sisters\"),", 
"  catchment_pop = c(1950280, 40500, 10000, 50280, 12000, 5000, 4200),", 
"  level         = c(\"Tertiary\", \"Secondary\", \"Primary\", \"Secondary\", \"Secondary\", \"Primary\", \"Primary\")", 
")", "", "#Make some ID's and dataframes to join for exercises", 
"patient_ID <- apply(sapply(1:10, function(x) sample(c(LETTERS, 0:9), 10, replace = T)), 2, paste0, collapse = \"\")", 
"", "", "patient_symptoms <- data.frame(patient_id = sample(patient_ID, 10),", 
"                linelist %>%", "    select(fever:vomit) %>%", 
"    filter(row_number() %in% 1:10))", "", "patient_dates <- data.frame(id = patient_ID,", 
"                linelist %>%", "    select(contains(\"date\")) %>%", 
"    filter(row_number() %in% c(sample(which(is.na(linelist$date_onset)), 5),", 
"  sample(which(!is.na(linelist$date_onset)), 5))))", "", "#Probablistic matching", 
"", "# make datasets", "", "cases <- tribble(", "  ~gender, ~first,      ~middle,     ~last,        ~yr,   ~mon, ~day, ~district,", 
"  \"M\",     \"Amir\",      NA,          \"Khan\",       1989,  11,   22,   \"River\",", 
"  \"M\",     \"Anthony\",   \"B.\",        \"Smith\",      1970, 09, 19,      \"River\", ", 
"  \"F\",     \"Marialisa\", \"Contreras\", \"Rodrigues\",  1972, 04, 15,      \"River\",", 
"  \"F\",     \"Elizabeth\", \"Casteel\",   \"Chase\",      1954, 03, 03,      \"City\",", 
"  \"M\",     \"Jose\",      \"Sanchez\",   \"Lopez\",      1996, 01, 06,      \"City\",", 
"  \"F\",     \"Cassidy\",   \"Jones\",      \"Davis\",     1980, 07, 20,      \"City\",", 
"  \"M\",     \"Michael\",   \"Murphy\",     \"O'Calaghan\",1969, 04, 12,      \"Rural\", ", 
"  \"M\",     \"Oliver\",    \"Laurent\",    \"De Bordow\" , 1971, 02, 04,     \"River\",", 
"  \"F\",      \"Blessing\",  NA,          \"Adebayo\",   1955,  02, 14,     \"Rural\"", 
")", "", "results <- tribble(", "  ~gender,  ~first,     ~middle,     ~last,          ~yr, ~mon, ~day, ~district, ~result,", 
"  \"M\",      \"Amir\",     NA,          \"Khan\",         1989, 11,   22,  \"River\", \"positive\",", 
"  \"M\",      \"Tony\",   \"B\",         \"Smith\",          1970, 09,   19,  \"River\", \"positive\",", 
"  \"F\",      \"Maria\",    \"Contreras\", \"Rodriguez\",    1972, 04,   15,  \"Cty\",   \"negative\",", 
"  \"F\",      \"Betty\",    \"Castel\",   \"Chase\",        1954,  03,   30,  \"City\",  \"positive\",", 
"  \"F\",      \"Andrea\",   NA,          \"Kumaraswamy\",  2001, 01,   05,  \"Rural\", \"positive\",      ", 
"  \"F\",      \"Caroline\", NA,          \"Wang\",         1988, 12,   11,  \"Rural\", \"negative\",", 
"  \"F\",      \"Trang\",    NA,          \"Nguyen\",       1981, 06,   10,  \"Rural\", \"positive\",", 
"  \"M\",      \"Olivier\" , \"Laurent\",   \"De Bordeaux\",  NA,   NA,   NA,  \"River\", \"positive\",", 
"  \"M\",      \"Mike\",     \"Murphy\",    \"O'Callaghan\",  1969, 04,   12,  \"Rural\", \"negative\",", 
"  \"F\",      \"Cassidy\",  \"Jones\",     \"Davis\",        1980, 07,   02,  \"City\",  \"positive\",", 
"  \"M\",      \"Mohammad\", NA,          \"Ali\",          1942, 01,   17,  \"City\",  \"negative\",", 
"  NA,       \"Jose\",     \"Sanchez\",   \"Lopez\",        1995, 01,   06,  \"City\",  \"negative\",", 
"  \"M\",      \"Abubakar\", NA,          \"Abullahi\",     1960, 01,   01,  \"River\", \"positive\",", 
"  \"F\",      \"Maria\",    \"Salinas\",   \"Contreras\",    1955, 03,   03,  \"River\", \"positive\"", 
"  )", "", "", "cases_dup <- rbind(cases,", "                   data.frame(", 
"                     gender = c(\"M\", \"F\"),", "           first = c(\"Tony\", \"Maria\"),", 
"           middle = c(\"B.\", \"Contreras\"),", "           last = c(\"Smith\", \"Rodriguez\"),", 
"           yr = c(1970, 1972),", "           mon = c(9, 4),", 
"           day = c(19, 15),", "           district = c(\"River\", \"River\"))", 
"           )", "", "#Create a  factor column", "linelist$source[is.na(linelist$source)] <- \"missing\"", 
"linelist$source <- factor(linelist$source)", ""), chunk_opts = list(
    label = "setup", include = FALSE)), setup = NULL, chunks = list(
    list(label = "dplyr_summarise", code = "linelist %>%\n  ", 
        opts = list(label = "\"dplyr_summarise\"", exercise = "TRUE"), 
        engine = "r")), code_check = NULL, error_check = NULL, 
    check = structure(c("  grade_this({", "    # Automatically pass if .result equal to .solution", 
    "    pass_if_equal()", "    # Default to failing grade with feedback", 
    "    fail()", "  })"), chunk_opts = list(label = "dplyr_summarise-check")), 
    solution = structure(c("linelist %>%", "    group_by(gender) %>%", 
    "    drop_na(gender) %>%", "    summarise(", "    median_age = median(age, na.rm = T),", 
    "    min_age = min(age, na.rm = T),", "    max_age = max(age, na.rm = T),", 
    ")"), chunk_opts = list(label = "dplyr_summarise-solution")), 
    test_cases = NULL, options = list(eval = FALSE, echo = TRUE, 
        results = "markup", tidy = FALSE, tidy.opts = NULL, collapse = FALSE, 
        prompt = FALSE, comment = NA, highlight = FALSE, size = "normalsize", 
        background = "#F7F7F7", strip.white = TRUE, cache = 0, 
        cache.path = "4_data_cleaning_descriptive_tables_and_statistical_tests_cache/html/", 
        cache.vars = NULL, cache.lazy = TRUE, dependson = NULL, 
        autodep = FALSE, cache.rebuild = FALSE, fig.keep = "high", 
        fig.show = "asis", fig.align = "default", fig.path = "4_data_cleaning_descriptive_tables_and_statistical_tests_files/figure-html/", 
        dev = "png", dev.args = NULL, dpi = 192, fig.ext = "png", 
        fig.width = 6.5, fig.height = 4, fig.env = "figure", 
        fig.cap = NULL, fig.scap = NULL, fig.lp = "fig:", fig.subcap = NULL, 
        fig.pos = "", out.width = 624, out.height = NULL, out.extra = NULL, 
        fig.retina = 2, external = TRUE, sanitize = FALSE, interval = 1, 
        aniopts = "controls,loop", warning = FALSE, error = FALSE, 
        message = FALSE, render = NULL, ref.label = NULL, child = NULL, 
        engine = "r", split = FALSE, include = TRUE, purl = TRUE, 
        max.print = 1000, exercise.timelimit = 60, exercise.checker = "function (label = NULL, solution_code = NULL, user_code = NULL, \n    check_code = NULL, envir_result = NULL, evaluate_result = NULL, \n    envir_prep = NULL, last_value = NULL, stage = NULL, ...) \n{\n    (utils::getFromNamespace(\"check_exercise\", \"gradethis\"))(label = label, \n        solution_code = solution_code, user_code = user_code, \n        check_code = check_code, envir_result = envir_result, \n        evaluate_result = evaluate_result, envir_prep = envir_prep, \n        last_value = last_value, stage = stage, ...)\n}", 
        exercise.error.check.code = "gradethis_error_checker()", 
        label = "dplyr_summarise", exercise = TRUE, code = c("linelist %>%", 
        "  "), out.width.px = 624, out.height.px = 384, params.src = "dplyr_summarise, exercise = TRUE", 
        fig.num = 0, exercise.df_print = "paged"), engine = "r"), class = "tutorial_exercise"))
</script>
 
<script type="application/shiny-prerendered" data-context="server">
`tutorial-exercise-dplyr_conditional_death-result` <- learnr:::setup_exercise_handler(reactive(req(input$`tutorial-exercise-dplyr_conditional_death-code-editor`)), session)
output$`tutorial-exercise-dplyr_conditional_death-output` <- renderUI({
  `tutorial-exercise-dplyr_conditional_death-result`()
})
</script>


<script type="application/shiny-prerendered" data-context="server">
learnr:::store_exercise_cache(structure(list(global_setup = structure(c("knitr::opts_chunk$set(warning = FALSE, message = FALSE) ", 
"# load packages ----------------------------------------------------------------", 
"library(learnr)", "library(gradethis)", "library(tidyverse)", 
"library(here)", "library(janitor)", "library(rio)", "#library(basket) # not sure if we need this", 
"#library(etude) # helper functions for gradethis", "library(epikit)", 
"#library(linelist)", "library(lubridate)", "library(fastLink)", 
"library(gtsummary)", "library(rstatix)", "library(corrr)", "", 
"# set options for exercises and checking ---------------------------------------", 
"gradethis_setup()", "", "learnr::tutorial_options(exercise.timelimit = 60) ", 
"  #exercise.checker = gradethis::grade_learnr) ", "    # alternatively, submitr::null_code_checker", 
"", "", "# event recorder ---------------------------------------------------------------", 
"# see https://github.com/dtkaplan/submitr/blob/master/R/make_a_recorder.R", 
"# tutorial_options(exercise.eval = FALSE)  # pre-evaluate exercises", 
"# ", "# vfun <- submitr::make_basic_validator(NULL, \"hello\") #basket::check_valid", 
"# ", "# new_recorder <- function(tutorial_id, tutorial_version, user_id, event, data) {", 
"#     cat(", "#       tutorial_id, ", "#       \" (v\", tutorial_version, \"); \",", 
"#       format(Sys.time(), \"%Y-%M%-%D %H:%M:%S %Z\"), \"; \",", 
"#       user_id, \"; \",", "#       event, \"; \",", "#       data$label, \"; \",", 
"#       data$answers, \"; \",", "#       data$code, \"; \",", 
"#       data$correct, \"\\n\", sep = \"\",", "#       ", "#       file = here::here(\"event_records\", \"learnr_basics.txt\"),", 
"#       append = TRUE)", "# }", "# ", "# options(tutorial.event_recorder = new_recorder)", 
"", "", "# hide non-exercise code chunks ------------------------------------------------", 
"knitr::opts_chunk$set(echo = FALSE)", "", "", "# data prep --------------------------------------------------------------------", 
"linelist_raw <- rio::import(here::here(\"data\", \"linelist_raw.xlsx\"))", 
"linelist <- rio::import(here::here(\"data\", \"linelist_cleaned.rds\"))", 
"malaria_counts <- rio::import(here::here(\"data\", \"malaria_facility_count_data.rds\"))", 
"", "#Incorrectly assign class so we can clean later", "linelist_raw$age <- as.character(linelist_raw$age)", 
"linelist_raw$`date onset` <- as.character(linelist_raw$`date onset`)", 
"", "#Going to randomly convert some temperatures to Fahrenheit instead of celcius for an exercise later", 
"set.seed(1)", "take_these <- sample(1:nrow(linelist_raw), 500)", 
"", "linelist_raw$temp[take_these] <- (linelist_raw$temp[take_these] * 9/5) + 32", 
"", "#Create some dummy df's for pivoting exercises", "df <- data.frame(id = c(\"A\", \"B\", \"C\"),", 
"           obs1_date = c(\"2021-04-23\", \"2021-04-23\", \"2021-04-23\"),", 
"           obs1_status = c(\"Healthy\", \"Healthy\", \"Missing\"),", 
"           obs2_date = c(\"2021-04-24\", \"2021-04-24\", \"2021-04-24\"),", 
"           obs2_status = c(\"Healthy\", \"Healthy\", \"Healthy\"),", 
"           obs3_date = c(\"2021-04-25\", \"2021-04-25\", \"2021-04-25\"),", 
"           obs3_status = c(\"Unwell\", \"Healthy\", \"Healthy\"))", 
"", "fever_followup <- data.frame(patient = 1:10,", "                             observation1_date = Sys.Date() - 21,", 
"                        observation2_date = Sys.Date() - 14,", 
"                        observation3_date = Sys.Date() - 7,", 
"                        observation1_temp = sample(seq(35, 45, by = 0.1), 10, replace = T),", 
"                        observation2_temp = sample(seq(35, 45, by = 0.1), 10, replace = T),", 
"                        observation3_temp = sample(seq(35, 45, by = 0.1), 10, replace = T))", 
"", "fever_followup$observation1_fever <- ifelse(fever_followup$observation1_date < 38, \"No fever\",", 
"                              ifelse(fever_followup$observation1_date >= 38 & fever_followup$observation1_date< 39.4, \"Mild fever\",", 
"                                     ifelse(fever_followup$observation1_date >= 39.4, \"High fever\", NA)))", 
"fever_followup$observation2_fever <- ifelse(fever_followup$observation2_date < 38, \"No fever\",", 
"                              ifelse(fever_followup$observation2_date >= 38 & fever_followup$observation2_date< 39.4, \"Mild fever\",", 
"                                     ifelse(fever_followup$observation2_date >= 39.4, \"High fever\", NA)))", 
"fever_followup$observation3_fever <- ifelse(fever_followup$observation3_date < 38, \"No fever\",", 
"                              ifelse(fever_followup$observation3_date >= 38 & fever_followup$observation3_date< 39.4, \"Mild fever\",", 
"                                     ifelse(fever_followup$observation3_date >= 39.4, \"High fever\", NA)))", 
"", "", "fill_table_1 <- ", "  tibble::tribble(", "       ~Measurement, ~Facility, ~Cases,", 
"                  1,  \"Hosp 1\",     66,", "                  2,  \"Hosp 1\",     26,", 
"                  3,  \"Hosp 1\",      8,", "                  1,  \"Hosp 2\",     71,", 
"                  2,  \"Hosp 2\",     62,", "                  3,  \"Hosp 2\",     70,", 
"                  1,  \"Hosp 3\",     47,", "                  2,  \"Hosp 3\",     70,", 
"                  3,  \"Hosp 3\",     38,", "       )", "", 
"fill_table_2 <- ", "  tibble::tribble(", "    ~Year, ~Measurement, ~Facility, ~Cases,", 
"     2000,            1,  \"Hosp 4\",     82,", "     2001,            2,  \"Hosp 4\",     87,", 
"     2002,            3,  \"Hosp 4\",     46", "  )", "", "linelist_mini <- linelist %>%                 # start with original linelist", 
"  select(case_id, date_onset, hospital) %>%   # select columns", 
"  head(10)     ", "", "# Make the hospital information dataframe", 
"hosp_info = data.frame(", "  hosp_name     = c(\"central hospital\", \"military\", \"military\", \"port\", \"St. Mark's\", \"ignace\", \"sisters\"),", 
"  catchment_pop = c(1950280, 40500, 10000, 50280, 12000, 5000, 4200),", 
"  level         = c(\"Tertiary\", \"Secondary\", \"Primary\", \"Secondary\", \"Secondary\", \"Primary\", \"Primary\")", 
")", "", "#Make some ID's and dataframes to join for exercises", 
"patient_ID <- apply(sapply(1:10, function(x) sample(c(LETTERS, 0:9), 10, replace = T)), 2, paste0, collapse = \"\")", 
"", "", "patient_symptoms <- data.frame(patient_id = sample(patient_ID, 10),", 
"                linelist %>%", "    select(fever:vomit) %>%", 
"    filter(row_number() %in% 1:10))", "", "patient_dates <- data.frame(id = patient_ID,", 
"                linelist %>%", "    select(contains(\"date\")) %>%", 
"    filter(row_number() %in% c(sample(which(is.na(linelist$date_onset)), 5),", 
"  sample(which(!is.na(linelist$date_onset)), 5))))", "", "#Probablistic matching", 
"", "# make datasets", "", "cases <- tribble(", "  ~gender, ~first,      ~middle,     ~last,        ~yr,   ~mon, ~day, ~district,", 
"  \"M\",     \"Amir\",      NA,          \"Khan\",       1989,  11,   22,   \"River\",", 
"  \"M\",     \"Anthony\",   \"B.\",        \"Smith\",      1970, 09, 19,      \"River\", ", 
"  \"F\",     \"Marialisa\", \"Contreras\", \"Rodrigues\",  1972, 04, 15,      \"River\",", 
"  \"F\",     \"Elizabeth\", \"Casteel\",   \"Chase\",      1954, 03, 03,      \"City\",", 
"  \"M\",     \"Jose\",      \"Sanchez\",   \"Lopez\",      1996, 01, 06,      \"City\",", 
"  \"F\",     \"Cassidy\",   \"Jones\",      \"Davis\",     1980, 07, 20,      \"City\",", 
"  \"M\",     \"Michael\",   \"Murphy\",     \"O'Calaghan\",1969, 04, 12,      \"Rural\", ", 
"  \"M\",     \"Oliver\",    \"Laurent\",    \"De Bordow\" , 1971, 02, 04,     \"River\",", 
"  \"F\",      \"Blessing\",  NA,          \"Adebayo\",   1955,  02, 14,     \"Rural\"", 
")", "", "results <- tribble(", "  ~gender,  ~first,     ~middle,     ~last,          ~yr, ~mon, ~day, ~district, ~result,", 
"  \"M\",      \"Amir\",     NA,          \"Khan\",         1989, 11,   22,  \"River\", \"positive\",", 
"  \"M\",      \"Tony\",   \"B\",         \"Smith\",          1970, 09,   19,  \"River\", \"positive\",", 
"  \"F\",      \"Maria\",    \"Contreras\", \"Rodriguez\",    1972, 04,   15,  \"Cty\",   \"negative\",", 
"  \"F\",      \"Betty\",    \"Castel\",   \"Chase\",        1954,  03,   30,  \"City\",  \"positive\",", 
"  \"F\",      \"Andrea\",   NA,          \"Kumaraswamy\",  2001, 01,   05,  \"Rural\", \"positive\",      ", 
"  \"F\",      \"Caroline\", NA,          \"Wang\",         1988, 12,   11,  \"Rural\", \"negative\",", 
"  \"F\",      \"Trang\",    NA,          \"Nguyen\",       1981, 06,   10,  \"Rural\", \"positive\",", 
"  \"M\",      \"Olivier\" , \"Laurent\",   \"De Bordeaux\",  NA,   NA,   NA,  \"River\", \"positive\",", 
"  \"M\",      \"Mike\",     \"Murphy\",    \"O'Callaghan\",  1969, 04,   12,  \"Rural\", \"negative\",", 
"  \"F\",      \"Cassidy\",  \"Jones\",     \"Davis\",        1980, 07,   02,  \"City\",  \"positive\",", 
"  \"M\",      \"Mohammad\", NA,          \"Ali\",          1942, 01,   17,  \"City\",  \"negative\",", 
"  NA,       \"Jose\",     \"Sanchez\",   \"Lopez\",        1995, 01,   06,  \"City\",  \"negative\",", 
"  \"M\",      \"Abubakar\", NA,          \"Abullahi\",     1960, 01,   01,  \"River\", \"positive\",", 
"  \"F\",      \"Maria\",    \"Salinas\",   \"Contreras\",    1955, 03,   03,  \"River\", \"positive\"", 
"  )", "", "", "cases_dup <- rbind(cases,", "                   data.frame(", 
"                     gender = c(\"M\", \"F\"),", "           first = c(\"Tony\", \"Maria\"),", 
"           middle = c(\"B.\", \"Contreras\"),", "           last = c(\"Smith\", \"Rodriguez\"),", 
"           yr = c(1970, 1972),", "           mon = c(9, 4),", 
"           day = c(19, 15),", "           district = c(\"River\", \"River\"))", 
"           )", "", "#Create a  factor column", "linelist$source[is.na(linelist$source)] <- \"missing\"", 
"linelist$source <- factor(linelist$source)", ""), chunk_opts = list(
    label = "setup", include = FALSE)), setup = NULL, chunks = list(
    list(label = "dplyr_conditional_death", code = "linelist %>%\n  ", 
        opts = list(label = "\"dplyr_conditional_death\"", exercise = "TRUE"), 
        engine = "r")), code_check = NULL, error_check = NULL, 
    check = structure(c("  grade_this({", "    # Automatically pass if .result equal to .solution", 
    "    pass_if_equal()", "    # Default to failing grade with feedback", 
    "    fail()", "  })"), chunk_opts = list(label = "dplyr_conditional_death-check")), 
    solution = structure(c("linelist %>% ", "  group_by(age_cat, outcome) %>% ", 
    "  count(outcome) %>%", "  group_by(age_cat) %>%", "  summarise(prop_outcome_death = sum(n[outcome == \"Death\"], na.rm = T)/sum(n, na.rm = T))"
    ), chunk_opts = list(label = "dplyr_conditional_death-solution")), 
    test_cases = NULL, options = list(eval = FALSE, echo = TRUE, 
        results = "markup", tidy = FALSE, tidy.opts = NULL, collapse = FALSE, 
        prompt = FALSE, comment = NA, highlight = FALSE, size = "normalsize", 
        background = "#F7F7F7", strip.white = TRUE, cache = 0, 
        cache.path = "4_data_cleaning_descriptive_tables_and_statistical_tests_cache/html/", 
        cache.vars = NULL, cache.lazy = TRUE, dependson = NULL, 
        autodep = FALSE, cache.rebuild = FALSE, fig.keep = "high", 
        fig.show = "asis", fig.align = "default", fig.path = "4_data_cleaning_descriptive_tables_and_statistical_tests_files/figure-html/", 
        dev = "png", dev.args = NULL, dpi = 192, fig.ext = "png", 
        fig.width = 6.5, fig.height = 4, fig.env = "figure", 
        fig.cap = NULL, fig.scap = NULL, fig.lp = "fig:", fig.subcap = NULL, 
        fig.pos = "", out.width = 624, out.height = NULL, out.extra = NULL, 
        fig.retina = 2, external = TRUE, sanitize = FALSE, interval = 1, 
        aniopts = "controls,loop", warning = FALSE, error = FALSE, 
        message = FALSE, render = NULL, ref.label = NULL, child = NULL, 
        engine = "r", split = FALSE, include = TRUE, purl = TRUE, 
        max.print = 1000, exercise.timelimit = 60, exercise.checker = "function (label = NULL, solution_code = NULL, user_code = NULL, \n    check_code = NULL, envir_result = NULL, evaluate_result = NULL, \n    envir_prep = NULL, last_value = NULL, stage = NULL, ...) \n{\n    (utils::getFromNamespace(\"check_exercise\", \"gradethis\"))(label = label, \n        solution_code = solution_code, user_code = user_code, \n        check_code = check_code, envir_result = envir_result, \n        evaluate_result = evaluate_result, envir_prep = envir_prep, \n        last_value = last_value, stage = stage, ...)\n}", 
        exercise.error.check.code = "gradethis_error_checker()", 
        label = "dplyr_conditional_death", exercise = TRUE, code = c("linelist %>%", 
        "  "), out.width.px = 624, out.height.px = 384, params.src = "dplyr_conditional_death, exercise = TRUE", 
        fig.num = 0, exercise.df_print = "paged"), engine = "r"), class = "tutorial_exercise"))
</script>
 
<script type="application/shiny-prerendered" data-context="server">
`tutorial-exercise-glue_quantile-result` <- learnr:::setup_exercise_handler(reactive(req(input$`tutorial-exercise-glue_quantile-code-editor`)), session)
output$`tutorial-exercise-glue_quantile-output` <- renderUI({
  `tutorial-exercise-glue_quantile-result`()
})
</script>


<script type="application/shiny-prerendered" data-context="server">
learnr:::store_exercise_cache(structure(list(global_setup = structure(c("knitr::opts_chunk$set(warning = FALSE, message = FALSE) ", 
"# load packages ----------------------------------------------------------------", 
"library(learnr)", "library(gradethis)", "library(tidyverse)", 
"library(here)", "library(janitor)", "library(rio)", "#library(basket) # not sure if we need this", 
"#library(etude) # helper functions for gradethis", "library(epikit)", 
"#library(linelist)", "library(lubridate)", "library(fastLink)", 
"library(gtsummary)", "library(rstatix)", "library(corrr)", "", 
"# set options for exercises and checking ---------------------------------------", 
"gradethis_setup()", "", "learnr::tutorial_options(exercise.timelimit = 60) ", 
"  #exercise.checker = gradethis::grade_learnr) ", "    # alternatively, submitr::null_code_checker", 
"", "", "# event recorder ---------------------------------------------------------------", 
"# see https://github.com/dtkaplan/submitr/blob/master/R/make_a_recorder.R", 
"# tutorial_options(exercise.eval = FALSE)  # pre-evaluate exercises", 
"# ", "# vfun <- submitr::make_basic_validator(NULL, \"hello\") #basket::check_valid", 
"# ", "# new_recorder <- function(tutorial_id, tutorial_version, user_id, event, data) {", 
"#     cat(", "#       tutorial_id, ", "#       \" (v\", tutorial_version, \"); \",", 
"#       format(Sys.time(), \"%Y-%M%-%D %H:%M:%S %Z\"), \"; \",", 
"#       user_id, \"; \",", "#       event, \"; \",", "#       data$label, \"; \",", 
"#       data$answers, \"; \",", "#       data$code, \"; \",", 
"#       data$correct, \"\\n\", sep = \"\",", "#       ", "#       file = here::here(\"event_records\", \"learnr_basics.txt\"),", 
"#       append = TRUE)", "# }", "# ", "# options(tutorial.event_recorder = new_recorder)", 
"", "", "# hide non-exercise code chunks ------------------------------------------------", 
"knitr::opts_chunk$set(echo = FALSE)", "", "", "# data prep --------------------------------------------------------------------", 
"linelist_raw <- rio::import(here::here(\"data\", \"linelist_raw.xlsx\"))", 
"linelist <- rio::import(here::here(\"data\", \"linelist_cleaned.rds\"))", 
"malaria_counts <- rio::import(here::here(\"data\", \"malaria_facility_count_data.rds\"))", 
"", "#Incorrectly assign class so we can clean later", "linelist_raw$age <- as.character(linelist_raw$age)", 
"linelist_raw$`date onset` <- as.character(linelist_raw$`date onset`)", 
"", "#Going to randomly convert some temperatures to Fahrenheit instead of celcius for an exercise later", 
"set.seed(1)", "take_these <- sample(1:nrow(linelist_raw), 500)", 
"", "linelist_raw$temp[take_these] <- (linelist_raw$temp[take_these] * 9/5) + 32", 
"", "#Create some dummy df's for pivoting exercises", "df <- data.frame(id = c(\"A\", \"B\", \"C\"),", 
"           obs1_date = c(\"2021-04-23\", \"2021-04-23\", \"2021-04-23\"),", 
"           obs1_status = c(\"Healthy\", \"Healthy\", \"Missing\"),", 
"           obs2_date = c(\"2021-04-24\", \"2021-04-24\", \"2021-04-24\"),", 
"           obs2_status = c(\"Healthy\", \"Healthy\", \"Healthy\"),", 
"           obs3_date = c(\"2021-04-25\", \"2021-04-25\", \"2021-04-25\"),", 
"           obs3_status = c(\"Unwell\", \"Healthy\", \"Healthy\"))", 
"", "fever_followup <- data.frame(patient = 1:10,", "                             observation1_date = Sys.Date() - 21,", 
"                        observation2_date = Sys.Date() - 14,", 
"                        observation3_date = Sys.Date() - 7,", 
"                        observation1_temp = sample(seq(35, 45, by = 0.1), 10, replace = T),", 
"                        observation2_temp = sample(seq(35, 45, by = 0.1), 10, replace = T),", 
"                        observation3_temp = sample(seq(35, 45, by = 0.1), 10, replace = T))", 
"", "fever_followup$observation1_fever <- ifelse(fever_followup$observation1_date < 38, \"No fever\",", 
"                              ifelse(fever_followup$observation1_date >= 38 & fever_followup$observation1_date< 39.4, \"Mild fever\",", 
"                                     ifelse(fever_followup$observation1_date >= 39.4, \"High fever\", NA)))", 
"fever_followup$observation2_fever <- ifelse(fever_followup$observation2_date < 38, \"No fever\",", 
"                              ifelse(fever_followup$observation2_date >= 38 & fever_followup$observation2_date< 39.4, \"Mild fever\",", 
"                                     ifelse(fever_followup$observation2_date >= 39.4, \"High fever\", NA)))", 
"fever_followup$observation3_fever <- ifelse(fever_followup$observation3_date < 38, \"No fever\",", 
"                              ifelse(fever_followup$observation3_date >= 38 & fever_followup$observation3_date< 39.4, \"Mild fever\",", 
"                                     ifelse(fever_followup$observation3_date >= 39.4, \"High fever\", NA)))", 
"", "", "fill_table_1 <- ", "  tibble::tribble(", "       ~Measurement, ~Facility, ~Cases,", 
"                  1,  \"Hosp 1\",     66,", "                  2,  \"Hosp 1\",     26,", 
"                  3,  \"Hosp 1\",      8,", "                  1,  \"Hosp 2\",     71,", 
"                  2,  \"Hosp 2\",     62,", "                  3,  \"Hosp 2\",     70,", 
"                  1,  \"Hosp 3\",     47,", "                  2,  \"Hosp 3\",     70,", 
"                  3,  \"Hosp 3\",     38,", "       )", "", 
"fill_table_2 <- ", "  tibble::tribble(", "    ~Year, ~Measurement, ~Facility, ~Cases,", 
"     2000,            1,  \"Hosp 4\",     82,", "     2001,            2,  \"Hosp 4\",     87,", 
"     2002,            3,  \"Hosp 4\",     46", "  )", "", "linelist_mini <- linelist %>%                 # start with original linelist", 
"  select(case_id, date_onset, hospital) %>%   # select columns", 
"  head(10)     ", "", "# Make the hospital information dataframe", 
"hosp_info = data.frame(", "  hosp_name     = c(\"central hospital\", \"military\", \"military\", \"port\", \"St. Mark's\", \"ignace\", \"sisters\"),", 
"  catchment_pop = c(1950280, 40500, 10000, 50280, 12000, 5000, 4200),", 
"  level         = c(\"Tertiary\", \"Secondary\", \"Primary\", \"Secondary\", \"Secondary\", \"Primary\", \"Primary\")", 
")", "", "#Make some ID's and dataframes to join for exercises", 
"patient_ID <- apply(sapply(1:10, function(x) sample(c(LETTERS, 0:9), 10, replace = T)), 2, paste0, collapse = \"\")", 
"", "", "patient_symptoms <- data.frame(patient_id = sample(patient_ID, 10),", 
"                linelist %>%", "    select(fever:vomit) %>%", 
"    filter(row_number() %in% 1:10))", "", "patient_dates <- data.frame(id = patient_ID,", 
"                linelist %>%", "    select(contains(\"date\")) %>%", 
"    filter(row_number() %in% c(sample(which(is.na(linelist$date_onset)), 5),", 
"  sample(which(!is.na(linelist$date_onset)), 5))))", "", "#Probablistic matching", 
"", "# make datasets", "", "cases <- tribble(", "  ~gender, ~first,      ~middle,     ~last,        ~yr,   ~mon, ~day, ~district,", 
"  \"M\",     \"Amir\",      NA,          \"Khan\",       1989,  11,   22,   \"River\",", 
"  \"M\",     \"Anthony\",   \"B.\",        \"Smith\",      1970, 09, 19,      \"River\", ", 
"  \"F\",     \"Marialisa\", \"Contreras\", \"Rodrigues\",  1972, 04, 15,      \"River\",", 
"  \"F\",     \"Elizabeth\", \"Casteel\",   \"Chase\",      1954, 03, 03,      \"City\",", 
"  \"M\",     \"Jose\",      \"Sanchez\",   \"Lopez\",      1996, 01, 06,      \"City\",", 
"  \"F\",     \"Cassidy\",   \"Jones\",      \"Davis\",     1980, 07, 20,      \"City\",", 
"  \"M\",     \"Michael\",   \"Murphy\",     \"O'Calaghan\",1969, 04, 12,      \"Rural\", ", 
"  \"M\",     \"Oliver\",    \"Laurent\",    \"De Bordow\" , 1971, 02, 04,     \"River\",", 
"  \"F\",      \"Blessing\",  NA,          \"Adebayo\",   1955,  02, 14,     \"Rural\"", 
")", "", "results <- tribble(", "  ~gender,  ~first,     ~middle,     ~last,          ~yr, ~mon, ~day, ~district, ~result,", 
"  \"M\",      \"Amir\",     NA,          \"Khan\",         1989, 11,   22,  \"River\", \"positive\",", 
"  \"M\",      \"Tony\",   \"B\",         \"Smith\",          1970, 09,   19,  \"River\", \"positive\",", 
"  \"F\",      \"Maria\",    \"Contreras\", \"Rodriguez\",    1972, 04,   15,  \"Cty\",   \"negative\",", 
"  \"F\",      \"Betty\",    \"Castel\",   \"Chase\",        1954,  03,   30,  \"City\",  \"positive\",", 
"  \"F\",      \"Andrea\",   NA,          \"Kumaraswamy\",  2001, 01,   05,  \"Rural\", \"positive\",      ", 
"  \"F\",      \"Caroline\", NA,          \"Wang\",         1988, 12,   11,  \"Rural\", \"negative\",", 
"  \"F\",      \"Trang\",    NA,          \"Nguyen\",       1981, 06,   10,  \"Rural\", \"positive\",", 
"  \"M\",      \"Olivier\" , \"Laurent\",   \"De Bordeaux\",  NA,   NA,   NA,  \"River\", \"positive\",", 
"  \"M\",      \"Mike\",     \"Murphy\",    \"O'Callaghan\",  1969, 04,   12,  \"Rural\", \"negative\",", 
"  \"F\",      \"Cassidy\",  \"Jones\",     \"Davis\",        1980, 07,   02,  \"City\",  \"positive\",", 
"  \"M\",      \"Mohammad\", NA,          \"Ali\",          1942, 01,   17,  \"City\",  \"negative\",", 
"  NA,       \"Jose\",     \"Sanchez\",   \"Lopez\",        1995, 01,   06,  \"City\",  \"negative\",", 
"  \"M\",      \"Abubakar\", NA,          \"Abullahi\",     1960, 01,   01,  \"River\", \"positive\",", 
"  \"F\",      \"Maria\",    \"Salinas\",   \"Contreras\",    1955, 03,   03,  \"River\", \"positive\"", 
"  )", "", "", "cases_dup <- rbind(cases,", "                   data.frame(", 
"                     gender = c(\"M\", \"F\"),", "           first = c(\"Tony\", \"Maria\"),", 
"           middle = c(\"B.\", \"Contreras\"),", "           last = c(\"Smith\", \"Rodriguez\"),", 
"           yr = c(1970, 1972),", "           mon = c(9, 4),", 
"           day = c(19, 15),", "           district = c(\"River\", \"River\"))", 
"           )", "", "#Create a  factor column", "linelist$source[is.na(linelist$source)] <- \"missing\"", 
"linelist$source <- factor(linelist$source)", ""), chunk_opts = list(
    label = "setup", include = FALSE)), setup = NULL, chunks = list(
    list(label = "glue_quantile", code = "linelist %>%\n  ", 
        opts = list(label = "\"glue_quantile\"", exercise = "TRUE"), 
        engine = "r")), code_check = NULL, error_check = NULL, 
    check = structure(c("  grade_this({", "    # Automatically pass if .result equal to .solution", 
    "    pass_if_equal()", "    # Default to failing grade with feedback", 
    "    fail()", "  })"), chunk_opts = list(label = "glue_quantile-check")), 
    solution = structure(c("linelist %>%", "  drop_na(outcome, age_cat) %>%", 
    "  group_by(outcome, age_cat) %>%", "  summarise(p02.5 = quantile(wt_kg, probs = 0.025, na.rm = T),", 
    "            p50 = quantile(wt_kg, probs = 0.5, na.rm = T),", 
    "            p97.5 = quantile(wt_kg, probs = 0.975, na.rm = T)) %>%", 
    "  transmute(outcome,", "            age_cat,", "            wt_kg_quantile = str_glue(\"{p50} ({p02.5} - {p97.5})\"))", 
    "  "), chunk_opts = list(label = "glue_quantile-solution")), 
    test_cases = NULL, options = list(eval = FALSE, echo = TRUE, 
        results = "markup", tidy = FALSE, tidy.opts = NULL, collapse = FALSE, 
        prompt = FALSE, comment = NA, highlight = FALSE, size = "normalsize", 
        background = "#F7F7F7", strip.white = TRUE, cache = 0, 
        cache.path = "4_data_cleaning_descriptive_tables_and_statistical_tests_cache/html/", 
        cache.vars = NULL, cache.lazy = TRUE, dependson = NULL, 
        autodep = FALSE, cache.rebuild = FALSE, fig.keep = "high", 
        fig.show = "asis", fig.align = "default", fig.path = "4_data_cleaning_descriptive_tables_and_statistical_tests_files/figure-html/", 
        dev = "png", dev.args = NULL, dpi = 192, fig.ext = "png", 
        fig.width = 6.5, fig.height = 4, fig.env = "figure", 
        fig.cap = NULL, fig.scap = NULL, fig.lp = "fig:", fig.subcap = NULL, 
        fig.pos = "", out.width = 624, out.height = NULL, out.extra = NULL, 
        fig.retina = 2, external = TRUE, sanitize = FALSE, interval = 1, 
        aniopts = "controls,loop", warning = FALSE, error = FALSE, 
        message = FALSE, render = NULL, ref.label = NULL, child = NULL, 
        engine = "r", split = FALSE, include = TRUE, purl = TRUE, 
        max.print = 1000, exercise.timelimit = 60, exercise.checker = "function (label = NULL, solution_code = NULL, user_code = NULL, \n    check_code = NULL, envir_result = NULL, evaluate_result = NULL, \n    envir_prep = NULL, last_value = NULL, stage = NULL, ...) \n{\n    (utils::getFromNamespace(\"check_exercise\", \"gradethis\"))(label = label, \n        solution_code = solution_code, user_code = user_code, \n        check_code = check_code, envir_result = envir_result, \n        evaluate_result = evaluate_result, envir_prep = envir_prep, \n        last_value = last_value, stage = stage, ...)\n}", 
        exercise.error.check.code = "gradethis_error_checker()", 
        label = "glue_quantile", exercise = TRUE, code = c("linelist %>%", 
        "  "), out.width.px = 624, out.height.px = 384, params.src = "glue_quantile, exercise = TRUE", 
        fig.num = 0, exercise.df_print = "paged"), engine = "r"), class = "tutorial_exercise"))
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::question_prerendered_chunk(structure(list(type = "learnr_text", label = "rhetorical1", question = structure("Why would you want to display summarised data by groups?", html = TRUE, class = c("html", 
"character")), answers = list(structure(list(id = "lnr_ans_55f36ce", 
    option = "function (value) \n{\n    if (grepl(paste(letters, collapse = \"|\"), value)) {\n        correct(\"\")\n    }\n}", 
    value = "function (value) \n{\n    if (grepl(paste(letters, collapse = \"|\"), value)) {\n        correct(\"\")\n    }\n}", 
    label = NULL, correct = NULL, message = NULL, type = "function"), class = c("tutorial_question_answer", 
"tutorial_quiz_answer"))), button_labels = list(submit = structure("<span data-i18n=\"button.questionsubmit\">Submit Answer<\u002fspan>", html = TRUE, class = c("html", 
"character")), try_again = structure("<span data-i18n=\"button.questiontryagain\">Try Again<\u002fspan>", html = TRUE, class = c("html", 
"character"))), messages = list(correct = structure("Correct!", html = TRUE, class = c("html", 
"character")), try_again = structure("Incorrect", html = TRUE, class = c("html", 
"character")), incorrect = structure("Incorrect", html = TRUE, class = c("html", 
"character")), message = NULL, post_message = NULL), ids = list(
    answer = "rhetorical1-answer", question = "rhetorical1"), 
    loading = structure("<strong>Loading:<\u002fstrong> \nWhy would you want to display summarised data by groups?\n<br/><br/><br/>", html = TRUE, class = c("html", 
    "character")), random_answer_order = FALSE, allow_retry = FALSE, 
    seed = 256118169.380736, options = list(placeholder = "Enter answer here...", 
        trim = TRUE)), class = c("learnr_text", "tutorial_question"
)), session = session)
</script>


<script type="application/shiny-prerendered" data-context="server">
learnr:::question_prerendered_chunk(structure(list(type = "learnr_radio", label = "quiz12-1", question = structure("Which of these would select all numeric columns and take the mean?", html = TRUE, class = c("html", 
"character")), answers = list(structure(list(id = "lnr_ans_97f5df0", 
    option = "across(.cols = where(is.numeric), .fns = list('mean' = mean), na.rm = T)", 
    value = "across(.cols = where(is.numeric), .fns = list('mean' = mean), na.rm = T)", 
    label = structure("across(.cols = where(is.numeric), .fns = list(&#39;mean&#39; = mean), na.rm = T)", html = TRUE, class = c("html", 
    "character")), correct = TRUE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
"tutorial_quiz_answer")), structure(list(id = "lnr_ans_98d52e", 
    option = "across(.cols = contains(numeric), .fns = list('mean' = mean), na.rm = T)", 
    value = "across(.cols = contains(numeric), .fns = list('mean' = mean), na.rm = T)", 
    label = structure("across(.cols = contains(numeric), .fns = list(&#39;mean&#39; = mean), na.rm = T)", html = TRUE, class = c("html", 
    "character")), correct = FALSE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
"tutorial_quiz_answer")), structure(list(id = "lnr_ans_2734c1", 
    option = "across(.cols = matches('numeric'), .fns = list('mean' = mean))", 
    value = "across(.cols = matches('numeric'), .fns = list('mean' = mean))", 
    label = structure("across(.cols = matches(&#39;numeric&#39;), .fns = list(&#39;mean&#39; = mean))", html = TRUE, class = c("html", 
    "character")), correct = FALSE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
"tutorial_quiz_answer"))), button_labels = list(submit = structure("<span data-i18n=\"button.questionsubmit\">Submit Answer<\u002fspan>", html = TRUE, class = c("html", 
"character")), try_again = structure("<span data-i18n=\"button.questiontryagain\">Try Again<\u002fspan>", html = TRUE, class = c("html", 
"character"))), messages = list(correct = structure("Correct!", html = TRUE, class = c("html", 
"character")), try_again = structure("Incorrect", html = TRUE, class = c("html", 
"character")), incorrect = structure("Incorrect", html = TRUE, class = c("html", 
"character")), message = NULL, post_message = NULL), ids = list(
    answer = "quiz12-1-answer", question = "quiz12-1"), loading = structure("<strong>Loading:<\u002fstrong> \nWhich of these would select all numeric columns and take the mean?\n<br/><br/><br/>", html = TRUE, class = c("html", 
"character")), random_answer_order = FALSE, allow_retry = FALSE, 
    seed = 347025037.838404, options = list()), class = c("learnr_radio", 
"tutorial_question")), session = session)
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::question_prerendered_chunk(structure(list(type = "learnr_radio", label = "quiz12-2", question = structure("Which of these would select all column names that contain &#39;date&#39; and get the standard deviation and max value?", html = TRUE, class = c("html", 
"character")), answers = list(structure(list(id = "lnr_ans_d4f7550", 
    option = "across(.cols = where(is.Date), .fns = list('mean' = mean), na.rm = T)", 
    value = "across(.cols = where(is.Date), .fns = list('mean' = mean), na.rm = T)", 
    label = structure("across(.cols = where(is.Date), .fns = list(&#39;mean&#39; = mean), na.rm = T)", html = TRUE, class = c("html", 
    "character")), correct = FALSE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
"tutorial_quiz_answer")), structure(list(id = "lnr_ans_c44fce8", 
    option = "across(.cols = contains('date'), .fns = list('mean' = mean, 'sd' = sd), na.rm = T)", 
    value = "across(.cols = contains('date'), .fns = list('mean' = mean, 'sd' = sd), na.rm = T)", 
    label = structure("across(.cols = contains(&#39;date&#39;), .fns = list(&#39;mean&#39; = mean, &#39;sd&#39; = sd), na.rm = T)", html = TRUE, class = c("html", 
    "character")), correct = TRUE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
"tutorial_quiz_answer")), structure(list(id = "lnr_ans_45d4ee5", 
    option = "across(.cols = matches('date'), .fns = c('mean' = mean, 'sd' = sd))", 
    value = "across(.cols = matches('date'), .fns = c('mean' = mean, 'sd' = sd))", 
    label = structure("across(.cols = matches(&#39;date&#39;), .fns = c(&#39;mean&#39; = mean, &#39;sd&#39; = sd))", html = TRUE, class = c("html", 
    "character")), correct = FALSE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
"tutorial_quiz_answer"))), button_labels = list(submit = structure("<span data-i18n=\"button.questionsubmit\">Submit Answer<\u002fspan>", html = TRUE, class = c("html", 
"character")), try_again = structure("<span data-i18n=\"button.questiontryagain\">Try Again<\u002fspan>", html = TRUE, class = c("html", 
"character"))), messages = list(correct = structure("Correct!", html = TRUE, class = c("html", 
"character")), try_again = structure("Incorrect", html = TRUE, class = c("html", 
"character")), incorrect = structure("Incorrect", html = TRUE, class = c("html", 
"character")), message = NULL, post_message = NULL), ids = list(
    answer = "quiz12-2-answer", question = "quiz12-2"), loading = structure("<strong>Loading:<\u002fstrong> \nWhich of these would select all column names that contain &#39;date&#39; and get the standard deviation and max value?\n<br/><br/><br/>", html = TRUE, class = c("html", 
"character")), random_answer_order = FALSE, allow_retry = FALSE, 
    seed = 404077607.311837, options = list()), class = c("learnr_radio", 
"tutorial_question")), session = session)
</script>


<script type="application/shiny-prerendered" data-context="server">
learnr:::question_prerendered_chunk(structure(list(type = "learnr_checkbox", label = "quiz12-3", 
    question = structure("Which of these would select all column names that contain &#39;years&#39; and get the min value?", html = TRUE, class = c("html", 
    "character")), answers = list(structure(list(id = "lnr_ans_39cb871", 
        option = "across(.cols = contains('years'), .fns = list('min' = min), na.rm = T)", 
        value = "across(.cols = contains('years'), .fns = list('min' = min), na.rm = T)", 
        label = structure("across(.cols = contains(&#39;years&#39;), .fns = list(&#39;min&#39; = min), na.rm = T)", html = TRUE, class = c("html", 
        "character")), correct = TRUE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_fdd4a4", 
        option = "across(.cols = matches('years'), .fns = list('min' = min), na.rm = T)", 
        value = "across(.cols = matches('years'), .fns = list('min' = min), na.rm = T)", 
        label = structure("across(.cols = matches(&#39;years&#39;), .fns = list(&#39;min&#39; = min), na.rm = T)", html = TRUE, class = c("html", 
        "character")), correct = TRUE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_f559f5", 
        option = "across(.cols = any_of('years'), .fns = list('min' = min), na.rm = T)", 
        value = "across(.cols = any_of('years'), .fns = list('min' = min), na.rm = T)", 
        label = structure("across(.cols = any_of(&#39;years&#39;), .fns = list(&#39;min&#39; = min), na.rm = T)", html = TRUE, class = c("html", 
        "character")), correct = FALSE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer"))), button_labels = list(submit = structure("<span data-i18n=\"button.questionsubmit\">Submit Answer<\u002fspan>", html = TRUE, class = c("html", 
    "character")), try_again = structure("<span data-i18n=\"button.questiontryagain\">Try Again<\u002fspan>", html = TRUE, class = c("html", 
    "character"))), messages = list(correct = structure("Correct!", html = TRUE, class = c("html", 
    "character")), try_again = structure("Incorrect", html = TRUE, class = c("html", 
    "character")), incorrect = structure("Incorrect", html = TRUE, class = c("html", 
    "character")), message = NULL, post_message = NULL), ids = list(
        answer = "quiz12-3-answer", question = "quiz12-3"), loading = structure("<strong>Loading:<\u002fstrong> \nWhich of these would select all column names that contain &#39;years&#39; and get the min value?\n<br/><br/><br/>", html = TRUE, class = c("html", 
    "character")), random_answer_order = FALSE, allow_retry = FALSE, 
    seed = 318162308.851844, options = list()), class = c("learnr_checkbox", 
"tutorial_question")), session = session)
</script>
 
<script type="application/shiny-prerendered" data-context="server">
`tutorial-exercise-linelist_adorn-result` <- learnr:::setup_exercise_handler(reactive(req(input$`tutorial-exercise-linelist_adorn-code-editor`)), session)
output$`tutorial-exercise-linelist_adorn-output` <- renderUI({
  `tutorial-exercise-linelist_adorn-result`()
})
</script>


<script type="application/shiny-prerendered" data-context="server">
learnr:::store_exercise_cache(structure(list(global_setup = structure(c("knitr::opts_chunk$set(warning = FALSE, message = FALSE) ", 
"# load packages ----------------------------------------------------------------", 
"library(learnr)", "library(gradethis)", "library(tidyverse)", 
"library(here)", "library(janitor)", "library(rio)", "#library(basket) # not sure if we need this", 
"#library(etude) # helper functions for gradethis", "library(epikit)", 
"#library(linelist)", "library(lubridate)", "library(fastLink)", 
"library(gtsummary)", "library(rstatix)", "library(corrr)", "", 
"# set options for exercises and checking ---------------------------------------", 
"gradethis_setup()", "", "learnr::tutorial_options(exercise.timelimit = 60) ", 
"  #exercise.checker = gradethis::grade_learnr) ", "    # alternatively, submitr::null_code_checker", 
"", "", "# event recorder ---------------------------------------------------------------", 
"# see https://github.com/dtkaplan/submitr/blob/master/R/make_a_recorder.R", 
"# tutorial_options(exercise.eval = FALSE)  # pre-evaluate exercises", 
"# ", "# vfun <- submitr::make_basic_validator(NULL, \"hello\") #basket::check_valid", 
"# ", "# new_recorder <- function(tutorial_id, tutorial_version, user_id, event, data) {", 
"#     cat(", "#       tutorial_id, ", "#       \" (v\", tutorial_version, \"); \",", 
"#       format(Sys.time(), \"%Y-%M%-%D %H:%M:%S %Z\"), \"; \",", 
"#       user_id, \"; \",", "#       event, \"; \",", "#       data$label, \"; \",", 
"#       data$answers, \"; \",", "#       data$code, \"; \",", 
"#       data$correct, \"\\n\", sep = \"\",", "#       ", "#       file = here::here(\"event_records\", \"learnr_basics.txt\"),", 
"#       append = TRUE)", "# }", "# ", "# options(tutorial.event_recorder = new_recorder)", 
"", "", "# hide non-exercise code chunks ------------------------------------------------", 
"knitr::opts_chunk$set(echo = FALSE)", "", "", "# data prep --------------------------------------------------------------------", 
"linelist_raw <- rio::import(here::here(\"data\", \"linelist_raw.xlsx\"))", 
"linelist <- rio::import(here::here(\"data\", \"linelist_cleaned.rds\"))", 
"malaria_counts <- rio::import(here::here(\"data\", \"malaria_facility_count_data.rds\"))", 
"", "#Incorrectly assign class so we can clean later", "linelist_raw$age <- as.character(linelist_raw$age)", 
"linelist_raw$`date onset` <- as.character(linelist_raw$`date onset`)", 
"", "#Going to randomly convert some temperatures to Fahrenheit instead of celcius for an exercise later", 
"set.seed(1)", "take_these <- sample(1:nrow(linelist_raw), 500)", 
"", "linelist_raw$temp[take_these] <- (linelist_raw$temp[take_these] * 9/5) + 32", 
"", "#Create some dummy df's for pivoting exercises", "df <- data.frame(id = c(\"A\", \"B\", \"C\"),", 
"           obs1_date = c(\"2021-04-23\", \"2021-04-23\", \"2021-04-23\"),", 
"           obs1_status = c(\"Healthy\", \"Healthy\", \"Missing\"),", 
"           obs2_date = c(\"2021-04-24\", \"2021-04-24\", \"2021-04-24\"),", 
"           obs2_status = c(\"Healthy\", \"Healthy\", \"Healthy\"),", 
"           obs3_date = c(\"2021-04-25\", \"2021-04-25\", \"2021-04-25\"),", 
"           obs3_status = c(\"Unwell\", \"Healthy\", \"Healthy\"))", 
"", "fever_followup <- data.frame(patient = 1:10,", "                             observation1_date = Sys.Date() - 21,", 
"                        observation2_date = Sys.Date() - 14,", 
"                        observation3_date = Sys.Date() - 7,", 
"                        observation1_temp = sample(seq(35, 45, by = 0.1), 10, replace = T),", 
"                        observation2_temp = sample(seq(35, 45, by = 0.1), 10, replace = T),", 
"                        observation3_temp = sample(seq(35, 45, by = 0.1), 10, replace = T))", 
"", "fever_followup$observation1_fever <- ifelse(fever_followup$observation1_date < 38, \"No fever\",", 
"                              ifelse(fever_followup$observation1_date >= 38 & fever_followup$observation1_date< 39.4, \"Mild fever\",", 
"                                     ifelse(fever_followup$observation1_date >= 39.4, \"High fever\", NA)))", 
"fever_followup$observation2_fever <- ifelse(fever_followup$observation2_date < 38, \"No fever\",", 
"                              ifelse(fever_followup$observation2_date >= 38 & fever_followup$observation2_date< 39.4, \"Mild fever\",", 
"                                     ifelse(fever_followup$observation2_date >= 39.4, \"High fever\", NA)))", 
"fever_followup$observation3_fever <- ifelse(fever_followup$observation3_date < 38, \"No fever\",", 
"                              ifelse(fever_followup$observation3_date >= 38 & fever_followup$observation3_date< 39.4, \"Mild fever\",", 
"                                     ifelse(fever_followup$observation3_date >= 39.4, \"High fever\", NA)))", 
"", "", "fill_table_1 <- ", "  tibble::tribble(", "       ~Measurement, ~Facility, ~Cases,", 
"                  1,  \"Hosp 1\",     66,", "                  2,  \"Hosp 1\",     26,", 
"                  3,  \"Hosp 1\",      8,", "                  1,  \"Hosp 2\",     71,", 
"                  2,  \"Hosp 2\",     62,", "                  3,  \"Hosp 2\",     70,", 
"                  1,  \"Hosp 3\",     47,", "                  2,  \"Hosp 3\",     70,", 
"                  3,  \"Hosp 3\",     38,", "       )", "", 
"fill_table_2 <- ", "  tibble::tribble(", "    ~Year, ~Measurement, ~Facility, ~Cases,", 
"     2000,            1,  \"Hosp 4\",     82,", "     2001,            2,  \"Hosp 4\",     87,", 
"     2002,            3,  \"Hosp 4\",     46", "  )", "", "linelist_mini <- linelist %>%                 # start with original linelist", 
"  select(case_id, date_onset, hospital) %>%   # select columns", 
"  head(10)     ", "", "# Make the hospital information dataframe", 
"hosp_info = data.frame(", "  hosp_name     = c(\"central hospital\", \"military\", \"military\", \"port\", \"St. Mark's\", \"ignace\", \"sisters\"),", 
"  catchment_pop = c(1950280, 40500, 10000, 50280, 12000, 5000, 4200),", 
"  level         = c(\"Tertiary\", \"Secondary\", \"Primary\", \"Secondary\", \"Secondary\", \"Primary\", \"Primary\")", 
")", "", "#Make some ID's and dataframes to join for exercises", 
"patient_ID <- apply(sapply(1:10, function(x) sample(c(LETTERS, 0:9), 10, replace = T)), 2, paste0, collapse = \"\")", 
"", "", "patient_symptoms <- data.frame(patient_id = sample(patient_ID, 10),", 
"                linelist %>%", "    select(fever:vomit) %>%", 
"    filter(row_number() %in% 1:10))", "", "patient_dates <- data.frame(id = patient_ID,", 
"                linelist %>%", "    select(contains(\"date\")) %>%", 
"    filter(row_number() %in% c(sample(which(is.na(linelist$date_onset)), 5),", 
"  sample(which(!is.na(linelist$date_onset)), 5))))", "", "#Probablistic matching", 
"", "# make datasets", "", "cases <- tribble(", "  ~gender, ~first,      ~middle,     ~last,        ~yr,   ~mon, ~day, ~district,", 
"  \"M\",     \"Amir\",      NA,          \"Khan\",       1989,  11,   22,   \"River\",", 
"  \"M\",     \"Anthony\",   \"B.\",        \"Smith\",      1970, 09, 19,      \"River\", ", 
"  \"F\",     \"Marialisa\", \"Contreras\", \"Rodrigues\",  1972, 04, 15,      \"River\",", 
"  \"F\",     \"Elizabeth\", \"Casteel\",   \"Chase\",      1954, 03, 03,      \"City\",", 
"  \"M\",     \"Jose\",      \"Sanchez\",   \"Lopez\",      1996, 01, 06,      \"City\",", 
"  \"F\",     \"Cassidy\",   \"Jones\",      \"Davis\",     1980, 07, 20,      \"City\",", 
"  \"M\",     \"Michael\",   \"Murphy\",     \"O'Calaghan\",1969, 04, 12,      \"Rural\", ", 
"  \"M\",     \"Oliver\",    \"Laurent\",    \"De Bordow\" , 1971, 02, 04,     \"River\",", 
"  \"F\",      \"Blessing\",  NA,          \"Adebayo\",   1955,  02, 14,     \"Rural\"", 
")", "", "results <- tribble(", "  ~gender,  ~first,     ~middle,     ~last,          ~yr, ~mon, ~day, ~district, ~result,", 
"  \"M\",      \"Amir\",     NA,          \"Khan\",         1989, 11,   22,  \"River\", \"positive\",", 
"  \"M\",      \"Tony\",   \"B\",         \"Smith\",          1970, 09,   19,  \"River\", \"positive\",", 
"  \"F\",      \"Maria\",    \"Contreras\", \"Rodriguez\",    1972, 04,   15,  \"Cty\",   \"negative\",", 
"  \"F\",      \"Betty\",    \"Castel\",   \"Chase\",        1954,  03,   30,  \"City\",  \"positive\",", 
"  \"F\",      \"Andrea\",   NA,          \"Kumaraswamy\",  2001, 01,   05,  \"Rural\", \"positive\",      ", 
"  \"F\",      \"Caroline\", NA,          \"Wang\",         1988, 12,   11,  \"Rural\", \"negative\",", 
"  \"F\",      \"Trang\",    NA,          \"Nguyen\",       1981, 06,   10,  \"Rural\", \"positive\",", 
"  \"M\",      \"Olivier\" , \"Laurent\",   \"De Bordeaux\",  NA,   NA,   NA,  \"River\", \"positive\",", 
"  \"M\",      \"Mike\",     \"Murphy\",    \"O'Callaghan\",  1969, 04,   12,  \"Rural\", \"negative\",", 
"  \"F\",      \"Cassidy\",  \"Jones\",     \"Davis\",        1980, 07,   02,  \"City\",  \"positive\",", 
"  \"M\",      \"Mohammad\", NA,          \"Ali\",          1942, 01,   17,  \"City\",  \"negative\",", 
"  NA,       \"Jose\",     \"Sanchez\",   \"Lopez\",        1995, 01,   06,  \"City\",  \"negative\",", 
"  \"M\",      \"Abubakar\", NA,          \"Abullahi\",     1960, 01,   01,  \"River\", \"positive\",", 
"  \"F\",      \"Maria\",    \"Salinas\",   \"Contreras\",    1955, 03,   03,  \"River\", \"positive\"", 
"  )", "", "", "cases_dup <- rbind(cases,", "                   data.frame(", 
"                     gender = c(\"M\", \"F\"),", "           first = c(\"Tony\", \"Maria\"),", 
"           middle = c(\"B.\", \"Contreras\"),", "           last = c(\"Smith\", \"Rodriguez\"),", 
"           yr = c(1970, 1972),", "           mon = c(9, 4),", 
"           day = c(19, 15),", "           district = c(\"River\", \"River\"))", 
"           )", "", "#Create a  factor column", "linelist$source[is.na(linelist$source)] <- \"missing\"", 
"linelist$source <- factor(linelist$source)", ""), chunk_opts = list(
    label = "setup", include = FALSE)), setup = NULL, chunks = list(
    list(label = "linelist_adorn", code = "linelist %>%\n  ", 
        opts = list(label = "\"linelist_adorn\"", exercise = "TRUE"), 
        engine = "r")), code_check = NULL, error_check = NULL, 
    check = structure(c("  grade_this({", "    # Automatically pass if .result equal to .solution", 
    "    pass_if_equal()", "    # Default to failing grade with feedback", 
    "    fail()", "  })"), chunk_opts = list(label = "linelist_adorn-check")), 
    solution = structure(c("linelist %>% ", "  group_by(gender) %>%", 
    "  summarise(", "    n_death  = sum(outcome == \"Death\", na.rm = T),", 
    "    n_recover = sum(outcome == \"Recover\", na.rm = T),", 
    "  ) %>% ", "  adorn_totals() %>% ", "  adorn_percentages(\"col\") %>% ", 
    "  adorn_pct_formatting()", "  "), chunk_opts = list(label = "linelist_adorn-solution")), 
    test_cases = NULL, options = list(eval = FALSE, echo = TRUE, 
        results = "markup", tidy = FALSE, tidy.opts = NULL, collapse = FALSE, 
        prompt = FALSE, comment = NA, highlight = FALSE, size = "normalsize", 
        background = "#F7F7F7", strip.white = TRUE, cache = 0, 
        cache.path = "4_data_cleaning_descriptive_tables_and_statistical_tests_cache/html/", 
        cache.vars = NULL, cache.lazy = TRUE, dependson = NULL, 
        autodep = FALSE, cache.rebuild = FALSE, fig.keep = "high", 
        fig.show = "asis", fig.align = "default", fig.path = "4_data_cleaning_descriptive_tables_and_statistical_tests_files/figure-html/", 
        dev = "png", dev.args = NULL, dpi = 192, fig.ext = "png", 
        fig.width = 6.5, fig.height = 4, fig.env = "figure", 
        fig.cap = NULL, fig.scap = NULL, fig.lp = "fig:", fig.subcap = NULL, 
        fig.pos = "", out.width = 624, out.height = NULL, out.extra = NULL, 
        fig.retina = 2, external = TRUE, sanitize = FALSE, interval = 1, 
        aniopts = "controls,loop", warning = FALSE, error = FALSE, 
        message = FALSE, render = NULL, ref.label = NULL, child = NULL, 
        engine = "r", split = FALSE, include = TRUE, purl = TRUE, 
        max.print = 1000, exercise.timelimit = 60, exercise.checker = "function (label = NULL, solution_code = NULL, user_code = NULL, \n    check_code = NULL, envir_result = NULL, evaluate_result = NULL, \n    envir_prep = NULL, last_value = NULL, stage = NULL, ...) \n{\n    (utils::getFromNamespace(\"check_exercise\", \"gradethis\"))(label = label, \n        solution_code = solution_code, user_code = user_code, \n        check_code = check_code, envir_result = envir_result, \n        evaluate_result = evaluate_result, envir_prep = envir_prep, \n        last_value = last_value, stage = stage, ...)\n}", 
        exercise.error.check.code = "gradethis_error_checker()", 
        label = "linelist_adorn", exercise = TRUE, code = c("linelist %>%", 
        "  "), out.width.px = 624, out.height.px = 384, params.src = "linelist_adorn, exercise = TRUE", 
        fig.num = 0, exercise.df_print = "paged"), engine = "r"), class = "tutorial_exercise"))
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::question_prerendered_chunk(structure(list(type = "learnr_text", label = "rhetorical2", question = structure("How often do produce summary tables, and how long does it usually take? Could R help automate and reduce your workload?", html = TRUE, class = c("html", 
"character")), answers = list(structure(list(id = "lnr_ans_f88bb1c", 
    option = "function (value) \n{\n    if (grepl(paste(letters, collapse = \"|\"), value)) {\n        correct(\"\")\n    }\n}", 
    value = "function (value) \n{\n    if (grepl(paste(letters, collapse = \"|\"), value)) {\n        correct(\"\")\n    }\n}", 
    label = NULL, correct = NULL, message = NULL, type = "function"), class = c("tutorial_question_answer", 
"tutorial_quiz_answer"))), button_labels = list(submit = structure("<span data-i18n=\"button.questionsubmit\">Submit Answer<\u002fspan>", html = TRUE, class = c("html", 
"character")), try_again = structure("<span data-i18n=\"button.questiontryagain\">Try Again<\u002fspan>", html = TRUE, class = c("html", 
"character"))), messages = list(correct = structure("Correct!", html = TRUE, class = c("html", 
"character")), try_again = structure("Incorrect", html = TRUE, class = c("html", 
"character")), incorrect = structure("Incorrect", html = TRUE, class = c("html", 
"character")), message = NULL, post_message = NULL), ids = list(
    answer = "rhetorical2-answer", question = "rhetorical2"), 
    loading = structure("<strong>Loading:<\u002fstrong> \nHow often do produce summary tables, and how long does it usually take? Could R help automate and reduce your workload?\n<br/><br/><br/>", html = TRUE, class = c("html", 
    "character")), random_answer_order = FALSE, allow_retry = FALSE, 
    seed = 2114885417.01518, options = list(placeholder = "Enter answer here...", 
        trim = TRUE)), class = c("learnr_text", "tutorial_question"
)), session = session)
</script>


<script type="application/shiny-prerendered" data-context="server">
`tutorial-exercise-adjust_age_gender_outcome-result` <- learnr:::setup_exercise_handler(reactive(req(input$`tutorial-exercise-adjust_age_gender_outcome-code-editor`)), session)
output$`tutorial-exercise-adjust_age_gender_outcome-output` <- renderUI({
  `tutorial-exercise-adjust_age_gender_outcome-result`()
})
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::store_exercise_cache(structure(list(global_setup = structure(c("knitr::opts_chunk$set(warning = FALSE, message = FALSE) ", 
"# load packages ----------------------------------------------------------------", 
"library(learnr)", "library(gradethis)", "library(tidyverse)", 
"library(here)", "library(janitor)", "library(rio)", "#library(basket) # not sure if we need this", 
"#library(etude) # helper functions for gradethis", "library(epikit)", 
"#library(linelist)", "library(lubridate)", "library(fastLink)", 
"library(gtsummary)", "library(rstatix)", "library(corrr)", "", 
"# set options for exercises and checking ---------------------------------------", 
"gradethis_setup()", "", "learnr::tutorial_options(exercise.timelimit = 60) ", 
"  #exercise.checker = gradethis::grade_learnr) ", "    # alternatively, submitr::null_code_checker", 
"", "", "# event recorder ---------------------------------------------------------------", 
"# see https://github.com/dtkaplan/submitr/blob/master/R/make_a_recorder.R", 
"# tutorial_options(exercise.eval = FALSE)  # pre-evaluate exercises", 
"# ", "# vfun <- submitr::make_basic_validator(NULL, \"hello\") #basket::check_valid", 
"# ", "# new_recorder <- function(tutorial_id, tutorial_version, user_id, event, data) {", 
"#     cat(", "#       tutorial_id, ", "#       \" (v\", tutorial_version, \"); \",", 
"#       format(Sys.time(), \"%Y-%M%-%D %H:%M:%S %Z\"), \"; \",", 
"#       user_id, \"; \",", "#       event, \"; \",", "#       data$label, \"; \",", 
"#       data$answers, \"; \",", "#       data$code, \"; \",", 
"#       data$correct, \"\\n\", sep = \"\",", "#       ", "#       file = here::here(\"event_records\", \"learnr_basics.txt\"),", 
"#       append = TRUE)", "# }", "# ", "# options(tutorial.event_recorder = new_recorder)", 
"", "", "# hide non-exercise code chunks ------------------------------------------------", 
"knitr::opts_chunk$set(echo = FALSE)", "", "", "# data prep --------------------------------------------------------------------", 
"linelist_raw <- rio::import(here::here(\"data\", \"linelist_raw.xlsx\"))", 
"linelist <- rio::import(here::here(\"data\", \"linelist_cleaned.rds\"))", 
"malaria_counts <- rio::import(here::here(\"data\", \"malaria_facility_count_data.rds\"))", 
"", "#Incorrectly assign class so we can clean later", "linelist_raw$age <- as.character(linelist_raw$age)", 
"linelist_raw$`date onset` <- as.character(linelist_raw$`date onset`)", 
"", "#Going to randomly convert some temperatures to Fahrenheit instead of celcius for an exercise later", 
"set.seed(1)", "take_these <- sample(1:nrow(linelist_raw), 500)", 
"", "linelist_raw$temp[take_these] <- (linelist_raw$temp[take_these] * 9/5) + 32", 
"", "#Create some dummy df's for pivoting exercises", "df <- data.frame(id = c(\"A\", \"B\", \"C\"),", 
"           obs1_date = c(\"2021-04-23\", \"2021-04-23\", \"2021-04-23\"),", 
"           obs1_status = c(\"Healthy\", \"Healthy\", \"Missing\"),", 
"           obs2_date = c(\"2021-04-24\", \"2021-04-24\", \"2021-04-24\"),", 
"           obs2_status = c(\"Healthy\", \"Healthy\", \"Healthy\"),", 
"           obs3_date = c(\"2021-04-25\", \"2021-04-25\", \"2021-04-25\"),", 
"           obs3_status = c(\"Unwell\", \"Healthy\", \"Healthy\"))", 
"", "fever_followup <- data.frame(patient = 1:10,", "                             observation1_date = Sys.Date() - 21,", 
"                        observation2_date = Sys.Date() - 14,", 
"                        observation3_date = Sys.Date() - 7,", 
"                        observation1_temp = sample(seq(35, 45, by = 0.1), 10, replace = T),", 
"                        observation2_temp = sample(seq(35, 45, by = 0.1), 10, replace = T),", 
"                        observation3_temp = sample(seq(35, 45, by = 0.1), 10, replace = T))", 
"", "fever_followup$observation1_fever <- ifelse(fever_followup$observation1_date < 38, \"No fever\",", 
"                              ifelse(fever_followup$observation1_date >= 38 & fever_followup$observation1_date< 39.4, \"Mild fever\",", 
"                                     ifelse(fever_followup$observation1_date >= 39.4, \"High fever\", NA)))", 
"fever_followup$observation2_fever <- ifelse(fever_followup$observation2_date < 38, \"No fever\",", 
"                              ifelse(fever_followup$observation2_date >= 38 & fever_followup$observation2_date< 39.4, \"Mild fever\",", 
"                                     ifelse(fever_followup$observation2_date >= 39.4, \"High fever\", NA)))", 
"fever_followup$observation3_fever <- ifelse(fever_followup$observation3_date < 38, \"No fever\",", 
"                              ifelse(fever_followup$observation3_date >= 38 & fever_followup$observation3_date< 39.4, \"Mild fever\",", 
"                                     ifelse(fever_followup$observation3_date >= 39.4, \"High fever\", NA)))", 
"", "", "fill_table_1 <- ", "  tibble::tribble(", "       ~Measurement, ~Facility, ~Cases,", 
"                  1,  \"Hosp 1\",     66,", "                  2,  \"Hosp 1\",     26,", 
"                  3,  \"Hosp 1\",      8,", "                  1,  \"Hosp 2\",     71,", 
"                  2,  \"Hosp 2\",     62,", "                  3,  \"Hosp 2\",     70,", 
"                  1,  \"Hosp 3\",     47,", "                  2,  \"Hosp 3\",     70,", 
"                  3,  \"Hosp 3\",     38,", "       )", "", 
"fill_table_2 <- ", "  tibble::tribble(", "    ~Year, ~Measurement, ~Facility, ~Cases,", 
"     2000,            1,  \"Hosp 4\",     82,", "     2001,            2,  \"Hosp 4\",     87,", 
"     2002,            3,  \"Hosp 4\",     46", "  )", "", "linelist_mini <- linelist %>%                 # start with original linelist", 
"  select(case_id, date_onset, hospital) %>%   # select columns", 
"  head(10)     ", "", "# Make the hospital information dataframe", 
"hosp_info = data.frame(", "  hosp_name     = c(\"central hospital\", \"military\", \"military\", \"port\", \"St. Mark's\", \"ignace\", \"sisters\"),", 
"  catchment_pop = c(1950280, 40500, 10000, 50280, 12000, 5000, 4200),", 
"  level         = c(\"Tertiary\", \"Secondary\", \"Primary\", \"Secondary\", \"Secondary\", \"Primary\", \"Primary\")", 
")", "", "#Make some ID's and dataframes to join for exercises", 
"patient_ID <- apply(sapply(1:10, function(x) sample(c(LETTERS, 0:9), 10, replace = T)), 2, paste0, collapse = \"\")", 
"", "", "patient_symptoms <- data.frame(patient_id = sample(patient_ID, 10),", 
"                linelist %>%", "    select(fever:vomit) %>%", 
"    filter(row_number() %in% 1:10))", "", "patient_dates <- data.frame(id = patient_ID,", 
"                linelist %>%", "    select(contains(\"date\")) %>%", 
"    filter(row_number() %in% c(sample(which(is.na(linelist$date_onset)), 5),", 
"  sample(which(!is.na(linelist$date_onset)), 5))))", "", "#Probablistic matching", 
"", "# make datasets", "", "cases <- tribble(", "  ~gender, ~first,      ~middle,     ~last,        ~yr,   ~mon, ~day, ~district,", 
"  \"M\",     \"Amir\",      NA,          \"Khan\",       1989,  11,   22,   \"River\",", 
"  \"M\",     \"Anthony\",   \"B.\",        \"Smith\",      1970, 09, 19,      \"River\", ", 
"  \"F\",     \"Marialisa\", \"Contreras\", \"Rodrigues\",  1972, 04, 15,      \"River\",", 
"  \"F\",     \"Elizabeth\", \"Casteel\",   \"Chase\",      1954, 03, 03,      \"City\",", 
"  \"M\",     \"Jose\",      \"Sanchez\",   \"Lopez\",      1996, 01, 06,      \"City\",", 
"  \"F\",     \"Cassidy\",   \"Jones\",      \"Davis\",     1980, 07, 20,      \"City\",", 
"  \"M\",     \"Michael\",   \"Murphy\",     \"O'Calaghan\",1969, 04, 12,      \"Rural\", ", 
"  \"M\",     \"Oliver\",    \"Laurent\",    \"De Bordow\" , 1971, 02, 04,     \"River\",", 
"  \"F\",      \"Blessing\",  NA,          \"Adebayo\",   1955,  02, 14,     \"Rural\"", 
")", "", "results <- tribble(", "  ~gender,  ~first,     ~middle,     ~last,          ~yr, ~mon, ~day, ~district, ~result,", 
"  \"M\",      \"Amir\",     NA,          \"Khan\",         1989, 11,   22,  \"River\", \"positive\",", 
"  \"M\",      \"Tony\",   \"B\",         \"Smith\",          1970, 09,   19,  \"River\", \"positive\",", 
"  \"F\",      \"Maria\",    \"Contreras\", \"Rodriguez\",    1972, 04,   15,  \"Cty\",   \"negative\",", 
"  \"F\",      \"Betty\",    \"Castel\",   \"Chase\",        1954,  03,   30,  \"City\",  \"positive\",", 
"  \"F\",      \"Andrea\",   NA,          \"Kumaraswamy\",  2001, 01,   05,  \"Rural\", \"positive\",      ", 
"  \"F\",      \"Caroline\", NA,          \"Wang\",         1988, 12,   11,  \"Rural\", \"negative\",", 
"  \"F\",      \"Trang\",    NA,          \"Nguyen\",       1981, 06,   10,  \"Rural\", \"positive\",", 
"  \"M\",      \"Olivier\" , \"Laurent\",   \"De Bordeaux\",  NA,   NA,   NA,  \"River\", \"positive\",", 
"  \"M\",      \"Mike\",     \"Murphy\",    \"O'Callaghan\",  1969, 04,   12,  \"Rural\", \"negative\",", 
"  \"F\",      \"Cassidy\",  \"Jones\",     \"Davis\",        1980, 07,   02,  \"City\",  \"positive\",", 
"  \"M\",      \"Mohammad\", NA,          \"Ali\",          1942, 01,   17,  \"City\",  \"negative\",", 
"  NA,       \"Jose\",     \"Sanchez\",   \"Lopez\",        1995, 01,   06,  \"City\",  \"negative\",", 
"  \"M\",      \"Abubakar\", NA,          \"Abullahi\",     1960, 01,   01,  \"River\", \"positive\",", 
"  \"F\",      \"Maria\",    \"Salinas\",   \"Contreras\",    1955, 03,   03,  \"River\", \"positive\"", 
"  )", "", "", "cases_dup <- rbind(cases,", "                   data.frame(", 
"                     gender = c(\"M\", \"F\"),", "           first = c(\"Tony\", \"Maria\"),", 
"           middle = c(\"B.\", \"Contreras\"),", "           last = c(\"Smith\", \"Rodriguez\"),", 
"           yr = c(1970, 1972),", "           mon = c(9, 4),", 
"           day = c(19, 15),", "           district = c(\"River\", \"River\"))", 
"           )", "", "#Create a  factor column", "linelist$source[is.na(linelist$source)] <- \"missing\"", 
"linelist$source <- factor(linelist$source)", ""), chunk_opts = list(
    label = "setup", include = FALSE)), setup = NULL, chunks = list(
    list(label = "adjust_age_gender_outcome", code = "  ", opts = list(
        label = "\"adjust_age_gender_outcome\"", exercise = "TRUE"), 
        engine = "r")), code_check = NULL, error_check = NULL, 
    check = structure(c("  grade_this({", "    # Automatically pass if .result equal to .solution", 
    "    pass_if_equal()", "    # Default to failing grade with feedback", 
    "    fail()", "  })"), chunk_opts = list(label = "adjust_age_gender_outcome-check")), 
    solution = structure(c("linelist %>% ", "    select(age_years, gender, outcome) %>%", 
    "    tbl_summary(by = gender,", "                statistic = list(all_continuous() ~ \"{median} ({min} - {max})\"),", 
    "                label = list(", "                  outcome ~ \"Outcome\",", 
    "                  age_years ~ \"Age\",", "                  gender ~ \"Gender\"", 
    "                ),", "                missing_text = \"Not found\")"
    ), chunk_opts = list(label = "adjust_age_gender_outcome-solution")), 
    test_cases = NULL, options = list(eval = FALSE, echo = TRUE, 
        results = "markup", tidy = FALSE, tidy.opts = NULL, collapse = FALSE, 
        prompt = FALSE, comment = NA, highlight = FALSE, size = "normalsize", 
        background = "#F7F7F7", strip.white = TRUE, cache = 0, 
        cache.path = "4_data_cleaning_descriptive_tables_and_statistical_tests_cache/html/", 
        cache.vars = NULL, cache.lazy = TRUE, dependson = NULL, 
        autodep = FALSE, cache.rebuild = FALSE, fig.keep = "high", 
        fig.show = "asis", fig.align = "default", fig.path = "4_data_cleaning_descriptive_tables_and_statistical_tests_files/figure-html/", 
        dev = "png", dev.args = NULL, dpi = 192, fig.ext = "png", 
        fig.width = 6.5, fig.height = 4, fig.env = "figure", 
        fig.cap = NULL, fig.scap = NULL, fig.lp = "fig:", fig.subcap = NULL, 
        fig.pos = "", out.width = 624, out.height = NULL, out.extra = NULL, 
        fig.retina = 2, external = TRUE, sanitize = FALSE, interval = 1, 
        aniopts = "controls,loop", warning = FALSE, error = FALSE, 
        message = FALSE, render = NULL, ref.label = NULL, child = NULL, 
        engine = "r", split = FALSE, include = TRUE, purl = TRUE, 
        max.print = 1000, exercise.timelimit = 60, exercise.checker = "function (label = NULL, solution_code = NULL, user_code = NULL, \n    check_code = NULL, envir_result = NULL, evaluate_result = NULL, \n    envir_prep = NULL, last_value = NULL, stage = NULL, ...) \n{\n    (utils::getFromNamespace(\"check_exercise\", \"gradethis\"))(label = label, \n        solution_code = solution_code, user_code = user_code, \n        check_code = check_code, envir_result = envir_result, \n        evaluate_result = evaluate_result, envir_prep = envir_prep, \n        last_value = last_value, stage = stage, ...)\n}", 
        exercise.error.check.code = "gradethis_error_checker()", 
        label = "adjust_age_gender_outcome", exercise = TRUE, 
        code = "  ", out.width.px = 624, out.height.px = 384, 
        params.src = "adjust_age_gender_outcome, exercise = TRUE", 
        fig.num = 0L, exercise.df_print = "paged"), engine = "r"), class = "tutorial_exercise"))
</script>


<script type="application/shiny-prerendered" data-context="server">
`tutorial-exercise-gtsummary_first-result` <- learnr:::setup_exercise_handler(reactive(req(input$`tutorial-exercise-gtsummary_first-code-editor`)), session)
output$`tutorial-exercise-gtsummary_first-output` <- renderUI({
  `tutorial-exercise-gtsummary_first-result`()
})
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::store_exercise_cache(structure(list(global_setup = structure(c("knitr::opts_chunk$set(warning = FALSE, message = FALSE) ", 
"# load packages ----------------------------------------------------------------", 
"library(learnr)", "library(gradethis)", "library(tidyverse)", 
"library(here)", "library(janitor)", "library(rio)", "#library(basket) # not sure if we need this", 
"#library(etude) # helper functions for gradethis", "library(epikit)", 
"#library(linelist)", "library(lubridate)", "library(fastLink)", 
"library(gtsummary)", "library(rstatix)", "library(corrr)", "", 
"# set options for exercises and checking ---------------------------------------", 
"gradethis_setup()", "", "learnr::tutorial_options(exercise.timelimit = 60) ", 
"  #exercise.checker = gradethis::grade_learnr) ", "    # alternatively, submitr::null_code_checker", 
"", "", "# event recorder ---------------------------------------------------------------", 
"# see https://github.com/dtkaplan/submitr/blob/master/R/make_a_recorder.R", 
"# tutorial_options(exercise.eval = FALSE)  # pre-evaluate exercises", 
"# ", "# vfun <- submitr::make_basic_validator(NULL, \"hello\") #basket::check_valid", 
"# ", "# new_recorder <- function(tutorial_id, tutorial_version, user_id, event, data) {", 
"#     cat(", "#       tutorial_id, ", "#       \" (v\", tutorial_version, \"); \",", 
"#       format(Sys.time(), \"%Y-%M%-%D %H:%M:%S %Z\"), \"; \",", 
"#       user_id, \"; \",", "#       event, \"; \",", "#       data$label, \"; \",", 
"#       data$answers, \"; \",", "#       data$code, \"; \",", 
"#       data$correct, \"\\n\", sep = \"\",", "#       ", "#       file = here::here(\"event_records\", \"learnr_basics.txt\"),", 
"#       append = TRUE)", "# }", "# ", "# options(tutorial.event_recorder = new_recorder)", 
"", "", "# hide non-exercise code chunks ------------------------------------------------", 
"knitr::opts_chunk$set(echo = FALSE)", "", "", "# data prep --------------------------------------------------------------------", 
"linelist_raw <- rio::import(here::here(\"data\", \"linelist_raw.xlsx\"))", 
"linelist <- rio::import(here::here(\"data\", \"linelist_cleaned.rds\"))", 
"malaria_counts <- rio::import(here::here(\"data\", \"malaria_facility_count_data.rds\"))", 
"", "#Incorrectly assign class so we can clean later", "linelist_raw$age <- as.character(linelist_raw$age)", 
"linelist_raw$`date onset` <- as.character(linelist_raw$`date onset`)", 
"", "#Going to randomly convert some temperatures to Fahrenheit instead of celcius for an exercise later", 
"set.seed(1)", "take_these <- sample(1:nrow(linelist_raw), 500)", 
"", "linelist_raw$temp[take_these] <- (linelist_raw$temp[take_these] * 9/5) + 32", 
"", "#Create some dummy df's for pivoting exercises", "df <- data.frame(id = c(\"A\", \"B\", \"C\"),", 
"           obs1_date = c(\"2021-04-23\", \"2021-04-23\", \"2021-04-23\"),", 
"           obs1_status = c(\"Healthy\", \"Healthy\", \"Missing\"),", 
"           obs2_date = c(\"2021-04-24\", \"2021-04-24\", \"2021-04-24\"),", 
"           obs2_status = c(\"Healthy\", \"Healthy\", \"Healthy\"),", 
"           obs3_date = c(\"2021-04-25\", \"2021-04-25\", \"2021-04-25\"),", 
"           obs3_status = c(\"Unwell\", \"Healthy\", \"Healthy\"))", 
"", "fever_followup <- data.frame(patient = 1:10,", "                             observation1_date = Sys.Date() - 21,", 
"                        observation2_date = Sys.Date() - 14,", 
"                        observation3_date = Sys.Date() - 7,", 
"                        observation1_temp = sample(seq(35, 45, by = 0.1), 10, replace = T),", 
"                        observation2_temp = sample(seq(35, 45, by = 0.1), 10, replace = T),", 
"                        observation3_temp = sample(seq(35, 45, by = 0.1), 10, replace = T))", 
"", "fever_followup$observation1_fever <- ifelse(fever_followup$observation1_date < 38, \"No fever\",", 
"                              ifelse(fever_followup$observation1_date >= 38 & fever_followup$observation1_date< 39.4, \"Mild fever\",", 
"                                     ifelse(fever_followup$observation1_date >= 39.4, \"High fever\", NA)))", 
"fever_followup$observation2_fever <- ifelse(fever_followup$observation2_date < 38, \"No fever\",", 
"                              ifelse(fever_followup$observation2_date >= 38 & fever_followup$observation2_date< 39.4, \"Mild fever\",", 
"                                     ifelse(fever_followup$observation2_date >= 39.4, \"High fever\", NA)))", 
"fever_followup$observation3_fever <- ifelse(fever_followup$observation3_date < 38, \"No fever\",", 
"                              ifelse(fever_followup$observation3_date >= 38 & fever_followup$observation3_date< 39.4, \"Mild fever\",", 
"                                     ifelse(fever_followup$observation3_date >= 39.4, \"High fever\", NA)))", 
"", "", "fill_table_1 <- ", "  tibble::tribble(", "       ~Measurement, ~Facility, ~Cases,", 
"                  1,  \"Hosp 1\",     66,", "                  2,  \"Hosp 1\",     26,", 
"                  3,  \"Hosp 1\",      8,", "                  1,  \"Hosp 2\",     71,", 
"                  2,  \"Hosp 2\",     62,", "                  3,  \"Hosp 2\",     70,", 
"                  1,  \"Hosp 3\",     47,", "                  2,  \"Hosp 3\",     70,", 
"                  3,  \"Hosp 3\",     38,", "       )", "", 
"fill_table_2 <- ", "  tibble::tribble(", "    ~Year, ~Measurement, ~Facility, ~Cases,", 
"     2000,            1,  \"Hosp 4\",     82,", "     2001,            2,  \"Hosp 4\",     87,", 
"     2002,            3,  \"Hosp 4\",     46", "  )", "", "linelist_mini <- linelist %>%                 # start with original linelist", 
"  select(case_id, date_onset, hospital) %>%   # select columns", 
"  head(10)     ", "", "# Make the hospital information dataframe", 
"hosp_info = data.frame(", "  hosp_name     = c(\"central hospital\", \"military\", \"military\", \"port\", \"St. Mark's\", \"ignace\", \"sisters\"),", 
"  catchment_pop = c(1950280, 40500, 10000, 50280, 12000, 5000, 4200),", 
"  level         = c(\"Tertiary\", \"Secondary\", \"Primary\", \"Secondary\", \"Secondary\", \"Primary\", \"Primary\")", 
")", "", "#Make some ID's and dataframes to join for exercises", 
"patient_ID <- apply(sapply(1:10, function(x) sample(c(LETTERS, 0:9), 10, replace = T)), 2, paste0, collapse = \"\")", 
"", "", "patient_symptoms <- data.frame(patient_id = sample(patient_ID, 10),", 
"                linelist %>%", "    select(fever:vomit) %>%", 
"    filter(row_number() %in% 1:10))", "", "patient_dates <- data.frame(id = patient_ID,", 
"                linelist %>%", "    select(contains(\"date\")) %>%", 
"    filter(row_number() %in% c(sample(which(is.na(linelist$date_onset)), 5),", 
"  sample(which(!is.na(linelist$date_onset)), 5))))", "", "#Probablistic matching", 
"", "# make datasets", "", "cases <- tribble(", "  ~gender, ~first,      ~middle,     ~last,        ~yr,   ~mon, ~day, ~district,", 
"  \"M\",     \"Amir\",      NA,          \"Khan\",       1989,  11,   22,   \"River\",", 
"  \"M\",     \"Anthony\",   \"B.\",        \"Smith\",      1970, 09, 19,      \"River\", ", 
"  \"F\",     \"Marialisa\", \"Contreras\", \"Rodrigues\",  1972, 04, 15,      \"River\",", 
"  \"F\",     \"Elizabeth\", \"Casteel\",   \"Chase\",      1954, 03, 03,      \"City\",", 
"  \"M\",     \"Jose\",      \"Sanchez\",   \"Lopez\",      1996, 01, 06,      \"City\",", 
"  \"F\",     \"Cassidy\",   \"Jones\",      \"Davis\",     1980, 07, 20,      \"City\",", 
"  \"M\",     \"Michael\",   \"Murphy\",     \"O'Calaghan\",1969, 04, 12,      \"Rural\", ", 
"  \"M\",     \"Oliver\",    \"Laurent\",    \"De Bordow\" , 1971, 02, 04,     \"River\",", 
"  \"F\",      \"Blessing\",  NA,          \"Adebayo\",   1955,  02, 14,     \"Rural\"", 
")", "", "results <- tribble(", "  ~gender,  ~first,     ~middle,     ~last,          ~yr, ~mon, ~day, ~district, ~result,", 
"  \"M\",      \"Amir\",     NA,          \"Khan\",         1989, 11,   22,  \"River\", \"positive\",", 
"  \"M\",      \"Tony\",   \"B\",         \"Smith\",          1970, 09,   19,  \"River\", \"positive\",", 
"  \"F\",      \"Maria\",    \"Contreras\", \"Rodriguez\",    1972, 04,   15,  \"Cty\",   \"negative\",", 
"  \"F\",      \"Betty\",    \"Castel\",   \"Chase\",        1954,  03,   30,  \"City\",  \"positive\",", 
"  \"F\",      \"Andrea\",   NA,          \"Kumaraswamy\",  2001, 01,   05,  \"Rural\", \"positive\",      ", 
"  \"F\",      \"Caroline\", NA,          \"Wang\",         1988, 12,   11,  \"Rural\", \"negative\",", 
"  \"F\",      \"Trang\",    NA,          \"Nguyen\",       1981, 06,   10,  \"Rural\", \"positive\",", 
"  \"M\",      \"Olivier\" , \"Laurent\",   \"De Bordeaux\",  NA,   NA,   NA,  \"River\", \"positive\",", 
"  \"M\",      \"Mike\",     \"Murphy\",    \"O'Callaghan\",  1969, 04,   12,  \"Rural\", \"negative\",", 
"  \"F\",      \"Cassidy\",  \"Jones\",     \"Davis\",        1980, 07,   02,  \"City\",  \"positive\",", 
"  \"M\",      \"Mohammad\", NA,          \"Ali\",          1942, 01,   17,  \"City\",  \"negative\",", 
"  NA,       \"Jose\",     \"Sanchez\",   \"Lopez\",        1995, 01,   06,  \"City\",  \"negative\",", 
"  \"M\",      \"Abubakar\", NA,          \"Abullahi\",     1960, 01,   01,  \"River\", \"positive\",", 
"  \"F\",      \"Maria\",    \"Salinas\",   \"Contreras\",    1955, 03,   03,  \"River\", \"positive\"", 
"  )", "", "", "cases_dup <- rbind(cases,", "                   data.frame(", 
"                     gender = c(\"M\", \"F\"),", "           first = c(\"Tony\", \"Maria\"),", 
"           middle = c(\"B.\", \"Contreras\"),", "           last = c(\"Smith\", \"Rodriguez\"),", 
"           yr = c(1970, 1972),", "           mon = c(9, 4),", 
"           day = c(19, 15),", "           district = c(\"River\", \"River\"))", 
"           )", "", "#Create a  factor column", "linelist$source[is.na(linelist$source)] <- \"missing\"", 
"linelist$source <- factor(linelist$source)", ""), chunk_opts = list(
    label = "setup", include = FALSE)), setup = NULL, chunks = list(
    list(label = "gtsummary_first", code = "linelist %>%\n  ", 
        opts = list(label = "\"gtsummary_first\"", exercise = "TRUE"), 
        engine = "r")), code_check = NULL, error_check = NULL, 
    check = structure(c("  grade_this({", "    # Automatically pass if .result equal to .solution", 
    "    pass_if_equal()", "    # Default to failing grade with feedback", 
    "    fail()", "  })"), chunk_opts = list(label = "gtsummary_first-check")), 
    solution = structure(c("linelist %>%", "  select(gender, outcome, age_cat, temp, wt_kg) %>%", 
    "  tbl_summary(by = gender,", "              statistic = list(all_continuous() ~ \"{median} ({min} - {max})\",", 
    "                               all_categorical() ~ \"{n} / {N} ({p}%)\"))", 
    "  "), chunk_opts = list(label = "gtsummary_first-solution")), 
    test_cases = NULL, options = list(eval = FALSE, echo = TRUE, 
        results = "markup", tidy = FALSE, tidy.opts = NULL, collapse = FALSE, 
        prompt = FALSE, comment = NA, highlight = FALSE, size = "normalsize", 
        background = "#F7F7F7", strip.white = TRUE, cache = 0, 
        cache.path = "4_data_cleaning_descriptive_tables_and_statistical_tests_cache/html/", 
        cache.vars = NULL, cache.lazy = TRUE, dependson = NULL, 
        autodep = FALSE, cache.rebuild = FALSE, fig.keep = "high", 
        fig.show = "asis", fig.align = "default", fig.path = "4_data_cleaning_descriptive_tables_and_statistical_tests_files/figure-html/", 
        dev = "png", dev.args = NULL, dpi = 192, fig.ext = "png", 
        fig.width = 6.5, fig.height = 4, fig.env = "figure", 
        fig.cap = NULL, fig.scap = NULL, fig.lp = "fig:", fig.subcap = NULL, 
        fig.pos = "", out.width = 624, out.height = NULL, out.extra = NULL, 
        fig.retina = 2, external = TRUE, sanitize = FALSE, interval = 1, 
        aniopts = "controls,loop", warning = FALSE, error = FALSE, 
        message = FALSE, render = NULL, ref.label = NULL, child = NULL, 
        engine = "r", split = FALSE, include = TRUE, purl = TRUE, 
        max.print = 1000, exercise.timelimit = 60, exercise.checker = "function (label = NULL, solution_code = NULL, user_code = NULL, \n    check_code = NULL, envir_result = NULL, evaluate_result = NULL, \n    envir_prep = NULL, last_value = NULL, stage = NULL, ...) \n{\n    (utils::getFromNamespace(\"check_exercise\", \"gradethis\"))(label = label, \n        solution_code = solution_code, user_code = user_code, \n        check_code = check_code, envir_result = envir_result, \n        evaluate_result = evaluate_result, envir_prep = envir_prep, \n        last_value = last_value, stage = stage, ...)\n}", 
        exercise.error.check.code = "gradethis_error_checker()", 
        label = "gtsummary_first", exercise = TRUE, code = c("linelist %>%", 
        "  "), out.width.px = 624, out.height.px = 384, params.src = "gtsummary_first, exercise = TRUE", 
        fig.num = 0, exercise.df_print = "paged"), engine = "r"), class = "tutorial_exercise"))
</script>


<script type="application/shiny-prerendered" data-context="server">
learnr:::question_prerendered_chunk(structure(list(type = "learnr_text", label = "rhetorical3", question = structure("How often do you use statistical tests in your work?", html = TRUE, class = c("html", 
"character")), answers = list(structure(list(id = "lnr_ans_283987", 
    option = "function (value) \n{\n    if (grepl(paste(letters, collapse = \"|\"), value)) {\n        correct(\"\")\n    }\n}", 
    value = "function (value) \n{\n    if (grepl(paste(letters, collapse = \"|\"), value)) {\n        correct(\"\")\n    }\n}", 
    label = NULL, correct = NULL, message = NULL, type = "function"), class = c("tutorial_question_answer", 
"tutorial_quiz_answer"))), button_labels = list(submit = structure("<span data-i18n=\"button.questionsubmit\">Submit Answer<\u002fspan>", html = TRUE, class = c("html", 
"character")), try_again = structure("<span data-i18n=\"button.questiontryagain\">Try Again<\u002fspan>", html = TRUE, class = c("html", 
"character"))), messages = list(correct = structure("Correct!", html = TRUE, class = c("html", 
"character")), try_again = structure("Incorrect", html = TRUE, class = c("html", 
"character")), incorrect = structure("Incorrect", html = TRUE, class = c("html", 
"character")), message = NULL, post_message = NULL), ids = list(
    answer = "rhetorical3-answer", question = "rhetorical3"), 
    loading = structure("<strong>Loading:<\u002fstrong> \nHow often do you use statistical tests in your work?\n<br/><br/><br/>", html = TRUE, class = c("html", 
    "character")), random_answer_order = FALSE, allow_retry = FALSE, 
    seed = 774026213.639566, options = list(placeholder = "Enter answer here...", 
        trim = TRUE)), class = c("learnr_text", "tutorial_question"
)), session = session)
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::question_prerendered_chunk(structure(list(type = "learnr_radio", label = "quiz13-1", question = structure("Which of these would you use to test if the data is normally distributed?", html = TRUE, class = c("html", 
"character")), answers = list(structure(list(id = "lnr_ans_7131823", 
    option = "T-test", value = "T-test", label = structure("T-test", html = TRUE, class = c("html", 
    "character")), correct = FALSE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
"tutorial_quiz_answer")), structure(list(id = "lnr_ans_202fca5", 
    option = "Wilcoxon rank sum test", value = "Wilcoxon rank sum test", 
    label = structure("Wilcoxon rank sum test", html = TRUE, class = c("html", 
    "character")), correct = FALSE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
"tutorial_quiz_answer")), structure(list(id = "lnr_ans_9fd65ae", 
    option = "Shapiro-Wilk test", value = "Shapiro-Wilk test", 
    label = structure("Shapiro-Wilk test", html = TRUE, class = c("html", 
    "character")), correct = TRUE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
"tutorial_quiz_answer")), structure(list(id = "lnr_ans_4d6c23d", 
    option = "Chi-squared test", value = "Chi-squared test", 
    label = structure("Chi-squared test", html = TRUE, class = c("html", 
    "character")), correct = FALSE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
"tutorial_quiz_answer")), structure(list(id = "lnr_ans_3d58dd9", 
    option = "Kruskal-Wallis test", value = "Kruskal-Wallis test", 
    label = structure("Kruskal-Wallis test", html = TRUE, class = c("html", 
    "character")), correct = FALSE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
"tutorial_quiz_answer"))), button_labels = list(submit = structure("<span data-i18n=\"button.questionsubmit\">Submit Answer<\u002fspan>", html = TRUE, class = c("html", 
"character")), try_again = structure("<span data-i18n=\"button.questiontryagain\">Try Again<\u002fspan>", html = TRUE, class = c("html", 
"character"))), messages = list(correct = structure("Correct!", html = TRUE, class = c("html", 
"character")), try_again = structure("Incorrect", html = TRUE, class = c("html", 
"character")), incorrect = structure("Incorrect", html = TRUE, class = c("html", 
"character")), message = NULL, post_message = NULL), ids = list(
    answer = "quiz13-1-answer", question = "quiz13-1"), loading = structure("<strong>Loading:<\u002fstrong> \nWhich of these would you use to test if the data is normally distributed?\n<br/><br/><br/>", html = TRUE, class = c("html", 
"character")), random_answer_order = FALSE, allow_retry = FALSE, 
    seed = 770151552.64137, options = list()), class = c("learnr_radio", 
"tutorial_question")), session = session)
</script>


<script type="application/shiny-prerendered" data-context="server">
learnr:::question_prerendered_chunk(structure(list(type = "learnr_radio", label = "quiz13-2", question = structure("Which of these would you use to test if there is a significant difference in means between two groups?", html = TRUE, class = c("html", 
"character")), answers = list(structure(list(id = "lnr_ans_e495c6d", 
    option = "T-test", value = "T-test", label = structure("T-test", html = TRUE, class = c("html", 
    "character")), correct = TRUE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
"tutorial_quiz_answer")), structure(list(id = "lnr_ans_fd99bf9", 
    option = "Wilcoxon rank sum test", value = "Wilcoxon rank sum test", 
    label = structure("Wilcoxon rank sum test", html = TRUE, class = c("html", 
    "character")), correct = FALSE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
"tutorial_quiz_answer")), structure(list(id = "lnr_ans_bb7ff4a", 
    option = "Shapiro-Wilk test", value = "Shapiro-Wilk test", 
    label = structure("Shapiro-Wilk test", html = TRUE, class = c("html", 
    "character")), correct = FALSE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
"tutorial_quiz_answer")), structure(list(id = "lnr_ans_fe275c3", 
    option = "Chi-squared test", value = "Chi-squared test", 
    label = structure("Chi-squared test", html = TRUE, class = c("html", 
    "character")), correct = FALSE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
"tutorial_quiz_answer")), structure(list(id = "lnr_ans_8a2fa2c", 
    option = "Kruskal-Wallis test", value = "Kruskal-Wallis test", 
    label = structure("Kruskal-Wallis test", html = TRUE, class = c("html", 
    "character")), correct = FALSE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
"tutorial_quiz_answer"))), button_labels = list(submit = structure("<span data-i18n=\"button.questionsubmit\">Submit Answer<\u002fspan>", html = TRUE, class = c("html", 
"character")), try_again = structure("<span data-i18n=\"button.questiontryagain\">Try Again<\u002fspan>", html = TRUE, class = c("html", 
"character"))), messages = list(correct = structure("Correct!", html = TRUE, class = c("html", 
"character")), try_again = structure("Incorrect", html = TRUE, class = c("html", 
"character")), incorrect = structure("Incorrect", html = TRUE, class = c("html", 
"character")), message = NULL, post_message = NULL), ids = list(
    answer = "quiz13-2-answer", question = "quiz13-2"), loading = structure("<strong>Loading:<\u002fstrong> \nWhich of these would you use to test if there is a significant difference in means between two groups?\n<br/><br/><br/>", html = TRUE, class = c("html", 
"character")), random_answer_order = FALSE, allow_retry = FALSE, 
    seed = 931582189.566198, options = list()), class = c("learnr_radio", 
"tutorial_question")), session = session)
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::question_prerendered_chunk(structure(list(type = "learnr_radio", label = "quiz13-3", question = structure("Which of these would you use to test if there is a significant difference between two groups?", html = TRUE, class = c("html", 
"character")), answers = list(structure(list(id = "lnr_ans_f6f4da9", 
    option = "T-test", value = "T-test", label = structure("T-test", html = TRUE, class = c("html", 
    "character")), correct = FALSE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
"tutorial_quiz_answer")), structure(list(id = "lnr_ans_25f846b", 
    option = "Wilcoxon rank sum test", value = "Wilcoxon rank sum test", 
    label = structure("Wilcoxon rank sum test", html = TRUE, class = c("html", 
    "character")), correct = FALSE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
"tutorial_quiz_answer")), structure(list(id = "lnr_ans_1105b06", 
    option = "Shapiro-Wilk test", value = "Shapiro-Wilk test", 
    label = structure("Shapiro-Wilk test", html = TRUE, class = c("html", 
    "character")), correct = FALSE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
"tutorial_quiz_answer")), structure(list(id = "lnr_ans_635588", 
    option = "Chi-squared test", value = "Chi-squared test", 
    label = structure("Chi-squared test", html = TRUE, class = c("html", 
    "character")), correct = TRUE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
"tutorial_quiz_answer")), structure(list(id = "lnr_ans_9cc7c50", 
    option = "Kruskal-Wallis test", value = "Kruskal-Wallis test", 
    label = structure("Kruskal-Wallis test", html = TRUE, class = c("html", 
    "character")), correct = FALSE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
"tutorial_quiz_answer"))), button_labels = list(submit = structure("<span data-i18n=\"button.questionsubmit\">Submit Answer<\u002fspan>", html = TRUE, class = c("html", 
"character")), try_again = structure("<span data-i18n=\"button.questiontryagain\">Try Again<\u002fspan>", html = TRUE, class = c("html", 
"character"))), messages = list(correct = structure("Correct!", html = TRUE, class = c("html", 
"character")), try_again = structure("Incorrect", html = TRUE, class = c("html", 
"character")), incorrect = structure("Incorrect", html = TRUE, class = c("html", 
"character")), message = NULL, post_message = NULL), ids = list(
    answer = "quiz13-3-answer", question = "quiz13-3"), loading = structure("<strong>Loading:<\u002fstrong> \nWhich of these would you use to test if there is a significant difference between two groups?\n<br/><br/><br/>", html = TRUE, class = c("html", 
"character")), random_answer_order = FALSE, allow_retry = FALSE, 
    seed = 1495955894.80339, options = list()), class = c("learnr_radio", 
"tutorial_question")), session = session)
</script>


<script type="application/shiny-prerendered" data-context="server">
learnr:::question_prerendered_chunk(structure(list(type = "learnr_checkbox", label = "quiz13-4", 
    question = structure("Which of these could you use to test if two numeric samples from non-normal distributions are from the same distribution?", html = TRUE, class = c("html", 
    "character")), answers = list(structure(list(id = "lnr_ans_cd17a28", 
        option = "T-test", value = "T-test", label = structure("T-test", html = TRUE, class = c("html", 
        "character")), correct = FALSE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_23424ac", 
        option = "Wilcoxon rank sum test", value = "Wilcoxon rank sum test", 
        label = structure("Wilcoxon rank sum test", html = TRUE, class = c("html", 
        "character")), correct = TRUE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_28e7a88", 
        option = "Shapiro-Wilk test", value = "Shapiro-Wilk test", 
        label = structure("Shapiro-Wilk test", html = TRUE, class = c("html", 
        "character")), correct = FALSE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_fd2432c", 
        option = "Mann-Whitney U test", value = "Mann-Whitney U test", 
        label = structure("Mann-Whitney U test", html = TRUE, class = c("html", 
        "character")), correct = FALSE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_660da4f", 
        option = "Kruskal-Wallis test", value = "Kruskal-Wallis test", 
        label = structure("Kruskal-Wallis test", html = TRUE, class = c("html", 
        "character")), correct = TRUE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer"))), button_labels = list(submit = structure("<span data-i18n=\"button.questionsubmit\">Submit Answer<\u002fspan>", html = TRUE, class = c("html", 
    "character")), try_again = structure("<span data-i18n=\"button.questiontryagain\">Try Again<\u002fspan>", html = TRUE, class = c("html", 
    "character"))), messages = list(correct = structure("Correct!", html = TRUE, class = c("html", 
    "character")), try_again = structure("Incorrect", html = TRUE, class = c("html", 
    "character")), incorrect = structure("Incorrect", html = TRUE, class = c("html", 
    "character")), message = NULL, post_message = NULL), ids = list(
        answer = "quiz13-4-answer", question = "quiz13-4"), loading = structure("<strong>Loading:<\u002fstrong> \nWhich of these could you use to test if two numeric samples from non-normal distributions are from the same distribution?\n<br/><br/><br/>", html = TRUE, class = c("html", 
    "character")), random_answer_order = FALSE, allow_retry = FALSE, 
    seed = 403537552.312088, options = list()), class = c("learnr_checkbox", 
"tutorial_question")), session = session)
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::question_prerendered_chunk(structure(list(type = "learnr_text", label = "rhetorical4", question = structure("How does the rstatix package compare to base R, is there a situation you would use one over the other?", html = TRUE, class = c("html", 
"character")), answers = list(structure(list(id = "lnr_ans_7a4c65e", 
    option = "function (value) \n{\n    if (grepl(paste(letters, collapse = \"|\"), value)) {\n        correct(\"\")\n    }\n}", 
    value = "function (value) \n{\n    if (grepl(paste(letters, collapse = \"|\"), value)) {\n        correct(\"\")\n    }\n}", 
    label = NULL, correct = NULL, message = NULL, type = "function"), class = c("tutorial_question_answer", 
"tutorial_quiz_answer"))), button_labels = list(submit = structure("<span data-i18n=\"button.questionsubmit\">Submit Answer<\u002fspan>", html = TRUE, class = c("html", 
"character")), try_again = structure("<span data-i18n=\"button.questiontryagain\">Try Again<\u002fspan>", html = TRUE, class = c("html", 
"character"))), messages = list(correct = structure("Correct!", html = TRUE, class = c("html", 
"character")), try_again = structure("Incorrect", html = TRUE, class = c("html", 
"character")), incorrect = structure("Incorrect", html = TRUE, class = c("html", 
"character")), message = NULL, post_message = NULL), ids = list(
    answer = "rhetorical4-answer", question = "rhetorical4"), 
    loading = structure("<strong>Loading:<\u002fstrong> \nHow does the rstatix package compare to base R, is there a situation you would use one over the other?\n<br/><br/><br/>", html = TRUE, class = c("html", 
    "character")), random_answer_order = FALSE, allow_retry = FALSE, 
    seed = 1168733663.95577, options = list(placeholder = "Enter answer here...", 
        trim = TRUE)), class = c("learnr_text", "tutorial_question"
)), session = session)
</script>


<script type="application/shiny-prerendered" data-context="server">
`tutorial-exercise-gtsummary_test_chisq-result` <- learnr:::setup_exercise_handler(reactive(req(input$`tutorial-exercise-gtsummary_test_chisq-code-editor`)), session)
output$`tutorial-exercise-gtsummary_test_chisq-output` <- renderUI({
  `tutorial-exercise-gtsummary_test_chisq-result`()
})
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::store_exercise_cache(structure(list(global_setup = structure(c("knitr::opts_chunk$set(warning = FALSE, message = FALSE) ", 
"# load packages ----------------------------------------------------------------", 
"library(learnr)", "library(gradethis)", "library(tidyverse)", 
"library(here)", "library(janitor)", "library(rio)", "#library(basket) # not sure if we need this", 
"#library(etude) # helper functions for gradethis", "library(epikit)", 
"#library(linelist)", "library(lubridate)", "library(fastLink)", 
"library(gtsummary)", "library(rstatix)", "library(corrr)", "", 
"# set options for exercises and checking ---------------------------------------", 
"gradethis_setup()", "", "learnr::tutorial_options(exercise.timelimit = 60) ", 
"  #exercise.checker = gradethis::grade_learnr) ", "    # alternatively, submitr::null_code_checker", 
"", "", "# event recorder ---------------------------------------------------------------", 
"# see https://github.com/dtkaplan/submitr/blob/master/R/make_a_recorder.R", 
"# tutorial_options(exercise.eval = FALSE)  # pre-evaluate exercises", 
"# ", "# vfun <- submitr::make_basic_validator(NULL, \"hello\") #basket::check_valid", 
"# ", "# new_recorder <- function(tutorial_id, tutorial_version, user_id, event, data) {", 
"#     cat(", "#       tutorial_id, ", "#       \" (v\", tutorial_version, \"); \",", 
"#       format(Sys.time(), \"%Y-%M%-%D %H:%M:%S %Z\"), \"; \",", 
"#       user_id, \"; \",", "#       event, \"; \",", "#       data$label, \"; \",", 
"#       data$answers, \"; \",", "#       data$code, \"; \",", 
"#       data$correct, \"\\n\", sep = \"\",", "#       ", "#       file = here::here(\"event_records\", \"learnr_basics.txt\"),", 
"#       append = TRUE)", "# }", "# ", "# options(tutorial.event_recorder = new_recorder)", 
"", "", "# hide non-exercise code chunks ------------------------------------------------", 
"knitr::opts_chunk$set(echo = FALSE)", "", "", "# data prep --------------------------------------------------------------------", 
"linelist_raw <- rio::import(here::here(\"data\", \"linelist_raw.xlsx\"))", 
"linelist <- rio::import(here::here(\"data\", \"linelist_cleaned.rds\"))", 
"malaria_counts <- rio::import(here::here(\"data\", \"malaria_facility_count_data.rds\"))", 
"", "#Incorrectly assign class so we can clean later", "linelist_raw$age <- as.character(linelist_raw$age)", 
"linelist_raw$`date onset` <- as.character(linelist_raw$`date onset`)", 
"", "#Going to randomly convert some temperatures to Fahrenheit instead of celcius for an exercise later", 
"set.seed(1)", "take_these <- sample(1:nrow(linelist_raw), 500)", 
"", "linelist_raw$temp[take_these] <- (linelist_raw$temp[take_these] * 9/5) + 32", 
"", "#Create some dummy df's for pivoting exercises", "df <- data.frame(id = c(\"A\", \"B\", \"C\"),", 
"           obs1_date = c(\"2021-04-23\", \"2021-04-23\", \"2021-04-23\"),", 
"           obs1_status = c(\"Healthy\", \"Healthy\", \"Missing\"),", 
"           obs2_date = c(\"2021-04-24\", \"2021-04-24\", \"2021-04-24\"),", 
"           obs2_status = c(\"Healthy\", \"Healthy\", \"Healthy\"),", 
"           obs3_date = c(\"2021-04-25\", \"2021-04-25\", \"2021-04-25\"),", 
"           obs3_status = c(\"Unwell\", \"Healthy\", \"Healthy\"))", 
"", "fever_followup <- data.frame(patient = 1:10,", "                             observation1_date = Sys.Date() - 21,", 
"                        observation2_date = Sys.Date() - 14,", 
"                        observation3_date = Sys.Date() - 7,", 
"                        observation1_temp = sample(seq(35, 45, by = 0.1), 10, replace = T),", 
"                        observation2_temp = sample(seq(35, 45, by = 0.1), 10, replace = T),", 
"                        observation3_temp = sample(seq(35, 45, by = 0.1), 10, replace = T))", 
"", "fever_followup$observation1_fever <- ifelse(fever_followup$observation1_date < 38, \"No fever\",", 
"                              ifelse(fever_followup$observation1_date >= 38 & fever_followup$observation1_date< 39.4, \"Mild fever\",", 
"                                     ifelse(fever_followup$observation1_date >= 39.4, \"High fever\", NA)))", 
"fever_followup$observation2_fever <- ifelse(fever_followup$observation2_date < 38, \"No fever\",", 
"                              ifelse(fever_followup$observation2_date >= 38 & fever_followup$observation2_date< 39.4, \"Mild fever\",", 
"                                     ifelse(fever_followup$observation2_date >= 39.4, \"High fever\", NA)))", 
"fever_followup$observation3_fever <- ifelse(fever_followup$observation3_date < 38, \"No fever\",", 
"                              ifelse(fever_followup$observation3_date >= 38 & fever_followup$observation3_date< 39.4, \"Mild fever\",", 
"                                     ifelse(fever_followup$observation3_date >= 39.4, \"High fever\", NA)))", 
"", "", "fill_table_1 <- ", "  tibble::tribble(", "       ~Measurement, ~Facility, ~Cases,", 
"                  1,  \"Hosp 1\",     66,", "                  2,  \"Hosp 1\",     26,", 
"                  3,  \"Hosp 1\",      8,", "                  1,  \"Hosp 2\",     71,", 
"                  2,  \"Hosp 2\",     62,", "                  3,  \"Hosp 2\",     70,", 
"                  1,  \"Hosp 3\",     47,", "                  2,  \"Hosp 3\",     70,", 
"                  3,  \"Hosp 3\",     38,", "       )", "", 
"fill_table_2 <- ", "  tibble::tribble(", "    ~Year, ~Measurement, ~Facility, ~Cases,", 
"     2000,            1,  \"Hosp 4\",     82,", "     2001,            2,  \"Hosp 4\",     87,", 
"     2002,            3,  \"Hosp 4\",     46", "  )", "", "linelist_mini <- linelist %>%                 # start with original linelist", 
"  select(case_id, date_onset, hospital) %>%   # select columns", 
"  head(10)     ", "", "# Make the hospital information dataframe", 
"hosp_info = data.frame(", "  hosp_name     = c(\"central hospital\", \"military\", \"military\", \"port\", \"St. Mark's\", \"ignace\", \"sisters\"),", 
"  catchment_pop = c(1950280, 40500, 10000, 50280, 12000, 5000, 4200),", 
"  level         = c(\"Tertiary\", \"Secondary\", \"Primary\", \"Secondary\", \"Secondary\", \"Primary\", \"Primary\")", 
")", "", "#Make some ID's and dataframes to join for exercises", 
"patient_ID <- apply(sapply(1:10, function(x) sample(c(LETTERS, 0:9), 10, replace = T)), 2, paste0, collapse = \"\")", 
"", "", "patient_symptoms <- data.frame(patient_id = sample(patient_ID, 10),", 
"                linelist %>%", "    select(fever:vomit) %>%", 
"    filter(row_number() %in% 1:10))", "", "patient_dates <- data.frame(id = patient_ID,", 
"                linelist %>%", "    select(contains(\"date\")) %>%", 
"    filter(row_number() %in% c(sample(which(is.na(linelist$date_onset)), 5),", 
"  sample(which(!is.na(linelist$date_onset)), 5))))", "", "#Probablistic matching", 
"", "# make datasets", "", "cases <- tribble(", "  ~gender, ~first,      ~middle,     ~last,        ~yr,   ~mon, ~day, ~district,", 
"  \"M\",     \"Amir\",      NA,          \"Khan\",       1989,  11,   22,   \"River\",", 
"  \"M\",     \"Anthony\",   \"B.\",        \"Smith\",      1970, 09, 19,      \"River\", ", 
"  \"F\",     \"Marialisa\", \"Contreras\", \"Rodrigues\",  1972, 04, 15,      \"River\",", 
"  \"F\",     \"Elizabeth\", \"Casteel\",   \"Chase\",      1954, 03, 03,      \"City\",", 
"  \"M\",     \"Jose\",      \"Sanchez\",   \"Lopez\",      1996, 01, 06,      \"City\",", 
"  \"F\",     \"Cassidy\",   \"Jones\",      \"Davis\",     1980, 07, 20,      \"City\",", 
"  \"M\",     \"Michael\",   \"Murphy\",     \"O'Calaghan\",1969, 04, 12,      \"Rural\", ", 
"  \"M\",     \"Oliver\",    \"Laurent\",    \"De Bordow\" , 1971, 02, 04,     \"River\",", 
"  \"F\",      \"Blessing\",  NA,          \"Adebayo\",   1955,  02, 14,     \"Rural\"", 
")", "", "results <- tribble(", "  ~gender,  ~first,     ~middle,     ~last,          ~yr, ~mon, ~day, ~district, ~result,", 
"  \"M\",      \"Amir\",     NA,          \"Khan\",         1989, 11,   22,  \"River\", \"positive\",", 
"  \"M\",      \"Tony\",   \"B\",         \"Smith\",          1970, 09,   19,  \"River\", \"positive\",", 
"  \"F\",      \"Maria\",    \"Contreras\", \"Rodriguez\",    1972, 04,   15,  \"Cty\",   \"negative\",", 
"  \"F\",      \"Betty\",    \"Castel\",   \"Chase\",        1954,  03,   30,  \"City\",  \"positive\",", 
"  \"F\",      \"Andrea\",   NA,          \"Kumaraswamy\",  2001, 01,   05,  \"Rural\", \"positive\",      ", 
"  \"F\",      \"Caroline\", NA,          \"Wang\",         1988, 12,   11,  \"Rural\", \"negative\",", 
"  \"F\",      \"Trang\",    NA,          \"Nguyen\",       1981, 06,   10,  \"Rural\", \"positive\",", 
"  \"M\",      \"Olivier\" , \"Laurent\",   \"De Bordeaux\",  NA,   NA,   NA,  \"River\", \"positive\",", 
"  \"M\",      \"Mike\",     \"Murphy\",    \"O'Callaghan\",  1969, 04,   12,  \"Rural\", \"negative\",", 
"  \"F\",      \"Cassidy\",  \"Jones\",     \"Davis\",        1980, 07,   02,  \"City\",  \"positive\",", 
"  \"M\",      \"Mohammad\", NA,          \"Ali\",          1942, 01,   17,  \"City\",  \"negative\",", 
"  NA,       \"Jose\",     \"Sanchez\",   \"Lopez\",        1995, 01,   06,  \"City\",  \"negative\",", 
"  \"M\",      \"Abubakar\", NA,          \"Abullahi\",     1960, 01,   01,  \"River\", \"positive\",", 
"  \"F\",      \"Maria\",    \"Salinas\",   \"Contreras\",    1955, 03,   03,  \"River\", \"positive\"", 
"  )", "", "", "cases_dup <- rbind(cases,", "                   data.frame(", 
"                     gender = c(\"M\", \"F\"),", "           first = c(\"Tony\", \"Maria\"),", 
"           middle = c(\"B.\", \"Contreras\"),", "           last = c(\"Smith\", \"Rodriguez\"),", 
"           yr = c(1970, 1972),", "           mon = c(9, 4),", 
"           day = c(19, 15),", "           district = c(\"River\", \"River\"))", 
"           )", "", "#Create a  factor column", "linelist$source[is.na(linelist$source)] <- \"missing\"", 
"linelist$source <- factor(linelist$source)", ""), chunk_opts = list(
    label = "setup", include = FALSE)), setup = NULL, chunks = list(
    list(label = "gtsummary_test_chisq", code = "linelist %>%\n  ", 
        opts = list(label = "\"gtsummary_test_chisq\"", exercise = "TRUE"), 
        engine = "r")), code_check = NULL, error_check = NULL, 
    check = structure(c("  grade_this({", "    # Automatically pass if .result equal to .solution", 
    "    pass_if_equal()", "    # Default to failing grade with feedback", 
    "    fail()", "  })"), chunk_opts = list(label = "gtsummary_test_chisq-check")), 
    solution = structure(c("linelist %>% ", "  select(hospital, outcome) %>%    # keep variables of interest", 
    "  tbl_summary(by = outcome) %>%  # produce summary table and specify grouping variable", 
    "  add_p()", "  "), chunk_opts = list(label = "gtsummary_test_chisq-solution")), 
    test_cases = NULL, options = list(eval = FALSE, echo = TRUE, 
        results = "markup", tidy = FALSE, tidy.opts = NULL, collapse = FALSE, 
        prompt = FALSE, comment = NA, highlight = FALSE, size = "normalsize", 
        background = "#F7F7F7", strip.white = TRUE, cache = 0, 
        cache.path = "4_data_cleaning_descriptive_tables_and_statistical_tests_cache/html/", 
        cache.vars = NULL, cache.lazy = TRUE, dependson = NULL, 
        autodep = FALSE, cache.rebuild = FALSE, fig.keep = "high", 
        fig.show = "asis", fig.align = "default", fig.path = "4_data_cleaning_descriptive_tables_and_statistical_tests_files/figure-html/", 
        dev = "png", dev.args = NULL, dpi = 192, fig.ext = "png", 
        fig.width = 6.5, fig.height = 4, fig.env = "figure", 
        fig.cap = NULL, fig.scap = NULL, fig.lp = "fig:", fig.subcap = NULL, 
        fig.pos = "", out.width = 624, out.height = NULL, out.extra = NULL, 
        fig.retina = 2, external = TRUE, sanitize = FALSE, interval = 1, 
        aniopts = "controls,loop", warning = FALSE, error = FALSE, 
        message = FALSE, render = NULL, ref.label = NULL, child = NULL, 
        engine = "r", split = FALSE, include = TRUE, purl = TRUE, 
        max.print = 1000, exercise.timelimit = 60, exercise.checker = "function (label = NULL, solution_code = NULL, user_code = NULL, \n    check_code = NULL, envir_result = NULL, evaluate_result = NULL, \n    envir_prep = NULL, last_value = NULL, stage = NULL, ...) \n{\n    (utils::getFromNamespace(\"check_exercise\", \"gradethis\"))(label = label, \n        solution_code = solution_code, user_code = user_code, \n        check_code = check_code, envir_result = envir_result, \n        evaluate_result = evaluate_result, envir_prep = envir_prep, \n        last_value = last_value, stage = stage, ...)\n}", 
        exercise.error.check.code = "gradethis_error_checker()", 
        label = "gtsummary_test_chisq", exercise = TRUE, code = c("linelist %>%", 
        "  "), out.width.px = 624, out.height.px = 384, params.src = "gtsummary_test_chisq, exercise = TRUE", 
        fig.num = 0, exercise.df_print = "paged"), engine = "r"), class = "tutorial_exercise"))
</script>


<script type="application/shiny-prerendered" data-context="server">
learnr:::question_prerendered_chunk(structure(list(type = "learnr_text", label = "rhetorical5", question = structure("The gtsummary package allows us to make publication ready tables with (relatively) little effort. Can you think of a situation where you would NOT use these functions, and instead use either base R or rstatix functions?", html = TRUE, class = c("html", 
"character")), answers = list(structure(list(id = "lnr_ans_9d45d5f", 
    option = "function (value) \n{\n    if (grepl(paste(letters, collapse = \"|\"), value)) {\n        correct(\"\")\n    }\n}", 
    value = "function (value) \n{\n    if (grepl(paste(letters, collapse = \"|\"), value)) {\n        correct(\"\")\n    }\n}", 
    label = NULL, correct = NULL, message = NULL, type = "function"), class = c("tutorial_question_answer", 
"tutorial_quiz_answer"))), button_labels = list(submit = structure("<span data-i18n=\"button.questionsubmit\">Submit Answer<\u002fspan>", html = TRUE, class = c("html", 
"character")), try_again = structure("<span data-i18n=\"button.questiontryagain\">Try Again<\u002fspan>", html = TRUE, class = c("html", 
"character"))), messages = list(correct = structure("Correct!", html = TRUE, class = c("html", 
"character")), try_again = structure("Incorrect", html = TRUE, class = c("html", 
"character")), incorrect = structure("Incorrect", html = TRUE, class = c("html", 
"character")), message = NULL, post_message = NULL), ids = list(
    answer = "rhetorical5-answer", question = "rhetorical5"), 
    loading = structure("<strong>Loading:<\u002fstrong> \nThe gtsummary package allows us to make publication ready tables with (relatively) little effort. Can you think of a situation where you would NOT use these functions, and instead use either base R or rstatix functions?\n<br/><br/><br/>", html = TRUE, class = c("html", 
    "character")), random_answer_order = FALSE, allow_retry = FALSE, 
    seed = 1077256059.99836, options = list(placeholder = "Enter answer here...", 
        trim = TRUE)), class = c("learnr_text", "tutorial_question"
)), session = session)
</script>
 <!--html_preserve-->
<script type="application/shiny-prerendered" data-context="dependencies">
{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["header-attrs"]},{"type":"character","attributes":{},"value":["2.13"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/pandoc"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["header-attrs.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.13"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["jquery"]},{"type":"character","attributes":{},"value":["3.6.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/3.6.0"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["jquery-3.6.0.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["jquerylib"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.1.4"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["bootstrap"]},{"type":"character","attributes":{},"value":["3.3.5"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/bootstrap"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["viewport"]}},"value":[{"type":"character","attributes":{},"value":["width=device-width, initial-scale=1"]}]},{"type":"character","attributes":{},"value":["js/bootstrap.min.js","shim/html5shiv.min.js","shim/respond.min.js"]},{"type":"character","attributes":{},"value":["css/cerulean.min.css"]},{"type":"character","attributes":{},"value":["<style>h1 {font-size: 34px;}\n       h1.title {font-size: 38px;}\n       h2 {font-size: 30px;}\n       h3 {font-size: 24px;}\n       h4 {font-size: 18px;}\n       h5 {font-size: 16px;}\n       h6 {font-size: 12px;}\n       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}\n       pre:not([class]) { background-color: white }<\/style>"]},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.13"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["pagedtable"]},{"type":"character","attributes":{},"value":["1.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/pagedtable-1.1"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["js/pagedtable.js"]},{"type":"character","attributes":{},"value":["css/pagedtable.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.13"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["highlightjs"]},{"type":"character","attributes":{},"value":["9.12.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/highlightjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["highlight.js"]},{"type":"character","attributes":{},"value":["textmate.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.13"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tutorial"]},{"type":"character","attributes":{},"value":["0.10.1.9020"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/tutorial"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tutorial.js"]},{"type":"character","attributes":{},"value":["tutorial.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9020"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["i18n"]},{"type":"character","attributes":{},"value":["1.2.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/i18n"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["i18next.min.js","tutorial-i18n-init.js"]},{"type":"NULL"},{"type":"character","attributes":{},"value":["<script id=\"i18n-cstm-trns\" type=\"application/json\">{\"language\":\"en\",\"resources\":{\"en\":{\"translation\":{\"button\":{\"runcode\":\"Run Code\",\"runcodetitle\":\"$t(button.runcode) ({{kbd}})\",\"hint\":\"Hint\",\"hint_plural\":\"Hints\",\"hinttitle\":\"$t(button.hint)\",\"hintnext\":\"Next Hint\",\"hintprev\":\"Previous Hint\",\"solution\":\"Solution\",\"solutiontitle\":\"$t(button.solution)\",\"copyclipboard\":\"Copy to Clipboard\",\"startover\":\"Start Over\",\"startovertitle\":\"$t(button.startover)\",\"continue\":\"Continue\",\"submitanswer\":\"Submit Answer\",\"submitanswertitle\":\"$t(button.submitanswer)\",\"previoustopic\":\"Previous Topic\",\"nexttopic\":\"Next Topic\",\"questionsubmit\":\"$t(button.submitanswer)\",\"questiontryagain\":\"Try Again\"},\"text\":{\"startover\":\"Start Over\",\"areyousure\":\"Are you sure you want to start over? (all exercise progress will be reset)\",\"youmustcomplete\":\"You must complete the\",\"exercise\":\"exercise\",\"exercise_plural\":\"exercises\",\"inthissection\":\"in this section before continuing.\",\"code\":\"Code\",\"enginecap\":\"{{engine}} $t(text.code)\",\"quiz\":\"Quiz\",\"blank\":\"blank\",\"blank_plural\":\"blanks\",\"exercisecontainsblank\":\"This exercise contains {{count}} $t(text.blank).\",\"pleasereplaceblank\":\"Please replace {{blank}} with valid code.\",\"unparsable\":\"It looks like this might not be valid R code. R cannot determine how to turn your text into a complete command. You may have forgotten to fill in a blank, to remove an underscore, to include a comma between arguments, or to close an opening <code>&quot;<\\/code>, <code>'<\\/code>, <code>(<\\/code> or <code>{<\\/code> with a matching <code>&quot;<\\/code>, <code>'<\\/code>, <code>)<\\/code> or <code>}<\\/code>.\\n\",\"unparsablequotes\":\"<p>It looks like your R code contains specially formatted quotation marks or &quot;curly&quot; quotes (<code>{{character}}<\\/code>) around character strings, making your code invalid. R requires character values to be contained in straight quotation marks (<code>&quot;<\\/code> or <code>'<\\/code>).<\\/p> {{code}} <p>Don't worry, this is a common source of errors when you copy code from another app that applies its own formatting to text. You can try replacing the code on that line with the following. There may be other places that need to be fixed, too.<\\/p> {{suggestion}}\\n\",\"unparsableunicode\":\"<p>It looks like your R code contains an unexpected special character (<code>{{character}}<\\/code>) that makes your code invalid.<\\/p> {{code}} <p>Sometimes your code may contain a special character that looks like a regular character, especially if you copy and paste the code from another app. Try deleting the special character from your code and retyping it manually.<\\/p>\\n\",\"unparsableunicodesuggestion\":\"<p>It looks like your R code contains an unexpected special character (<code>{{character}}<\\/code>) that makes your code invalid.<\\/p> {{code}} <p>Sometimes your code may contain a special character that looks like a regular character, especially if you copy and paste the code from another app. You can try replacing the code on that line with the following. There may be other places that need to be fixed, too.<\\/p> {{suggestion}}\\n\",\"and\":\"and\",\"or\":\"or\",\"listcomma\":\", \",\"oxfordcomma\":\",\"}}},\"fr\":{\"translation\":{\"button\":{\"runcode\":\"Lancer le Code\",\"runcodetitle\":\"$t(button.runcode) ({{kbd}})\",\"hint\":\"Indication\",\"hint_plural\":\"Indications\",\"hinttitle\":\"$t(button.hint)\",\"hintnext\":\"Indication Suivante\",\"hintprev\":\"Indication Précédente\",\"solution\":\"Solution\",\"solutiontitle\":\"$t(button.solution)\",\"copyclipboard\":\"Copier dans le Presse-papier\",\"startover\":\"Recommencer\",\"startovertitle\":\"$t(button.startover)\",\"continue\":\"Continuer\",\"submitanswer\":\"Soumettre\",\"submitanswertitle\":\"$t(button.submitanswer)\",\"previoustopic\":\"Chapitre Précédent\",\"nexttopic\":\"Chapitre Suivant\",\"questionsubmit\":\"$t(button.submitanswer)\",\"questiontryagain\":\"Réessayer\"},\"text\":{\"startover\":\"Recommencer\",\"areyousure\":\"Êtes-vous certains de vouloir recommencer? (La progression sera remise à zéro)\",\"youmustcomplete\":\"Vous devez d'abord compléter\",\"exercise\":\"l'exercice\",\"exercise_plural\":\"des exercices\",\"inthissection\":\"de cette section avec de continuer.\",\"code\":\"Code\",\"enginecap\":\"$t(text.code) {{engine}}\",\"quiz\":\"Quiz\",\"and\":\"et\",\"or\":\"ou\",\"oxfordcomma\":\"\"}}},\"es\":{\"translation\":{\"button\":{\"runcode\":\"Ejecutar código\",\"runcodetitle\":\"$t(button.runcode) ({{kbd}})\",\"hint\":\"Pista\",\"hint_plural\":\"Pistas\",\"hinttitle\":\"$t(button.hint)\",\"hintnext\":\"Siguiente pista\",\"hintprev\":\"Pista anterior\",\"solution\":\"Solución\",\"solutiontitle\":\"$t(button.solution)\",\"copyclipboard\":\"Copiar al portapapeles\",\"startover\":\"Reiniciar\",\"startovertitle\":\"$t(button.startover)\",\"continue\":\"Continuar\",\"submitanswer\":\"Enviar respuesta\",\"submitanswertitle\":\"$t(button.submitanswer)\",\"previoustopic\":\"Tema anterior\",\"nexttopic\":\"Tema siguiente\",\"questionsubmit\":\"$t(button.submitanswer)\",\"questiontryagain\":\"Volver a intentar\"},\"text\":{\"startover\":\"Reiniciar\",\"areyousure\":\"¿De verdad quieres empezar de nuevo? (todo el progreso del ejercicio se perderá)\",\"youmustcomplete\":\"Debes completar\",\"exercise\":\"el ejercicio\",\"exercise_plural\":\"los ejercicios\",\"inthissection\":\"en esta sección antes de continuar.\",\"code\":\"Código\",\"enginecap\":\"$t(text.code) {{engine}}\",\"quiz\":\"Cuestionario\",\"and\":\"y\",\"or\":\"o\",\"oxfordcomma\":\"\"}}},\"pt\":{\"translation\":{\"button\":{\"runcode\":\"Executar código\",\"runcodetitle\":\"$t(button.runcode) ({{kbd}})\",\"hint\":\"Dica\",\"hint_plural\":\"Dicas\",\"hinttitle\":\"$t(button.hint)\",\"hintnext\":\"Próxima dica\",\"hintprev\":\"Dica anterior\",\"solution\":\"Solução\",\"solutiontitle\":\"$t(button.solution)\",\"copyclipboard\":\"Copiar para a área de transferência\",\"startover\":\"Reiniciar\",\"startovertitle\":\"$t(button.startover)\",\"continue\":\"Continuar\",\"submitanswer\":\"Enviar resposta\",\"submitanswertitle\":\"$t(button.submitanswer)\",\"previoustopic\":\"Tópico anterior\",\"nexttopic\":\"Próximo tópico\",\"questionsubmit\":\"$t(button.submitanswer)\",\"questiontryagain\":\"Tentar novamente\"},\"text\":{\"startover\":\"Reiniciar\",\"areyousure\":\"Tem certeza que deseja começar novamente? (todo o progresso feito será perdido)\",\"youmustcomplete\":\"Você deve completar\",\"exercise\":\"o exercício\",\"exercise_plural\":\"os exercícios\",\"inthissection\":\"nesta seção antes de continuar.\",\"code\":\"Código\",\"enginecap\":\"$t(text.code) {{engine}}\",\"quiz\":\"Quiz\",\"and\":\"e\",\"or\":\"ou\",\"oxfordcomma\":\"\"}}},\"tr\":{\"translation\":{\"button\":{\"runcode\":\"Çalistirma Kodu\",\"runcodetitle\":\"$t(button.runcode) ({{kbd}})\",\"hint\":\"Ipucu\",\"hint_plural\":\"Ipuçlari\",\"hinttitle\":\"$t(button.hint)\",\"hintnext\":\"Sonraki Ipucu\",\"hintprev\":\"Önceki Ipucu\",\"solution\":\"Çözüm\",\"solutiontitle\":\"$t(button.solution)\",\"copyclipboard\":\"Pano'ya Kopyala\",\"startover\":\"Bastan Baslamak\",\"startovertitle\":\"$t(button.startover)\",\"continue\":\"Devam et\",\"submitanswer\":\"Cevabi onayla\",\"submitanswertitle\":\"$t(button.submitanswer)\",\"previoustopic\":\"Önceki Konu\",\"nexttopic\":\"Sonraki Konu\",\"questionsubmit\":\"$t(button.submitanswer)\",\"questiontryagain\":\"Tekrar Deneyin\"},\"text\":{\"startover\":\"Bastan Baslamak\",\"areyousure\":\"Bastan baslamak istediginizden emin misiniz? (tüm egzersiz ilerlemesi kaybolacak)\",\"youmustcomplete\":\"Tamamlamalisin\",\"exercise\":\"egzersiz\",\"exercise_plural\":\"egzersizler\",\"inthissection\":\"devam etmeden önce bu bölümde\",\"code\":\"Kod\",\"enginecap\":\"$t(text.code) {{engine}}\",\"quiz\":\"Sinav\",\"oxfordcomma\":\"\"}}},\"emo\":{\"translation\":{\"button\":{\"runcode\":\"<U+0001F3C3>\",\"runcodetitle\":\"$t(button.runcode) ({{kbd}})\",\"hint\":\"<U+0001F4A1>\",\"hint_plural\":\"$t(button.hint)\",\"hinttitle\":\"$t(button.hint)\",\"solution\":\"<U+0001F3AF>\",\"solutiontitle\":\"$t(button.solution)\",\"copyclipboard\":\"<U+0001F4CB>\",\"startover\":\"<U+23EE>\",\"startovertitle\":\"Start Over\",\"continue\":\"<U+2705>\",\"submitanswer\":\"<U+0001F197>\",\"submitanswertitle\":\"Submit Answer\",\"previoustopic\":\"<U+2B05>\",\"nexttopic\":\"<U+27A1>\",\"questionsubmit\":\"$t(button.submitanswer)\",\"questiontryagain\":\"<U+0001F501>\"},\"text\":{\"startover\":\"<U+23EE>\",\"areyousure\":\"<U+0001F914>\",\"youmustcomplete\":\"<U+26A0><U+FE0F> <U+0001F449> <U+0001F9D1><U+200D><U+0001F4BB>\",\"exercise\":\"\",\"exercise_plural\":\"\",\"inthissection\":\"\",\"code\":\"<U+0001F4BB>\",\"enginecap\":\"$t(text.code) {{engine}}\",\"oxfordcomma\":\"\"}}},\"eu\":{\"translation\":{\"button\":{\"runcode\":\"Kodea egikaritu\",\"runcodetitle\":\"$t(button.runcode) ({{kbd}})\",\"hint\":\"Laguntza\",\"hint_plural\":\"Laguntza\",\"hinttitle\":\"$t(button.hint)\",\"hintnext\":\"Aurreko laguntza\",\"hintprev\":\"Hurrengo laguntza\",\"solution\":\"Ebazpena\",\"solutiontitle\":\"$t(button.solution)\",\"copyclipboard\":\"Arbelean kopiatu\",\"startover\":\"Berrabiarazi\",\"startovertitle\":\"$t(button.startover)\",\"continue\":\"Jarraitu\",\"submitanswer\":\"Erantzuna bidali\",\"submitanswertitle\":\"$t(button.submitanswer)\",\"previoustopic\":\"Aurreko atala\",\"nexttopic\":\"Hurrengo atala\",\"questionsubmit\":\"$t(button.submitanswer)\",\"questiontryagain\":\"Berriro saiatu\"},\"text\":{\"startover\":\"Berrabiarazi\",\"areyousure\":\"Berriro hasi nahi duzu? (egindako lana galdu egingo da)\",\"youmustcomplete\":\"Aurrera egin baino lehen atal honetako\",\"exercise\":\"ariketa egin behar duzu.\",\"exercise_plural\":\"ariketak egin behar dituzu.\",\"inthissection\":\"\",\"code\":\"Kodea\",\"enginecap\":\"$t(text.code) {{engine}}\",\"quiz\":\"Galdetegia\",\"oxfordcomma\":\"\"}}},\"de\":{\"translation\":{\"button\":{\"runcode\":\"Code ausführen\",\"runcodetitle\":\"$t(button.runcode) ({{kbd}})\",\"hint\":\"Tipp\",\"hint_plural\":\"Tipps\",\"hinttitle\":\"$t(button.hint)\",\"hintnext\":\"Nächster Tipp\",\"hintprev\":\"Vorheriger Tipp\",\"solution\":\"Lösung\",\"solutiontitle\":\"$t(button.solution)\",\"copyclipboard\":\"In die Zwischenablage kopieren\",\"startover\":\"Neustart\",\"startovertitle\":\"$t(button.startover)\",\"continue\":\"Weiter\",\"submitanswer\":\"Antwort einreichen\",\"submitanswertitle\":\"$t(button.submitanswer)\",\"previoustopic\":\"Vorheriges Kapitel\",\"nexttopic\":\"Nächstes Kapitel\",\"questionsubmit\":\"$t(button.submitanswer)\",\"questiontryagain\":\"Nochmal versuchen\"},\"text\":{\"startover\":\"Neustart\",\"areyousure\":\"Bist du sicher, dass du neustarten willst? (der gesamte Lernfortschritt wird gelöscht)\",\"youmustcomplete\":\"Vervollstädinge\",\"exercise\":\"die Übung\",\"exercise_plural\":\"die Übungen\",\"inthissection\":\"in diesem Kapitel, bevor du fortfährst.\",\"code\":\"Code\",\"enginecap\":\"$t(text.code) {{engine}}\",\"quiz\":\"Quiz\",\"blank\":\"Lücke\",\"blank_plural\":\"Lücken\",\"pleasereplaceblank\":\"Bitte ersetze {{blank}} mit gültigem Code.\",\"unparsable\":\"Dies scheint kein gültiger R Code zu sein. R kann deinen Text nicht in einen gültigen Befehl übersetzen. Du hast vielleicht vergessen, die Lücke zu füllen, einen Unterstrich zu entfernen, ein Komma zwischen Argumente zu setzen oder ein eröffnendes <code>&quot;<\\/code>, <code>'<\\/code>, <code>(<\\/code> oder <code>{<\\/code> mit einem zugehörigen <code>&quot;<\\/code>, <code>'<\\/code>, <code>)<\\/code> oder <code>}<\\/code> zu schließen.\\n\",\"and\":\"und\",\"or\":\"oder\",\"listcomma\":\", \",\"oxfordcomma\":\",\"}}},\"ko\":{\"translation\":{\"button\":{\"runcode\":\"<U+CF54><U+B4DC> <U+C2E4><U+D589>\",\"runcodetitle\":\"$t(button.runcode) ({{kbd}})\",\"hint\":\"<U+D78C><U+D2B8>\",\"hint_plural\":\"<U+D78C><U+D2B8><U+B4E4>\",\"hinttitle\":\"$t(button.hint)\",\"hintnext\":\"<U+B2E4><U+C74C> <U+D78C><U+D2B8>\",\"hintprev\":\"<U+C774><U+C804> <U+D78C><U+D2B8>\",\"solution\":\"<U+C194><U+B8E8><U+C158>\",\"solutiontitle\":\"$t(button.solution)\",\"copyclipboard\":\"<U+D074><U+B9BD><U+BCF4><U+B4DC><U+C5D0> <U+BCF5><U+C0AC>\",\"startover\":\"<U+C7AC><U+D559><U+C2B5>\",\"startovertitle\":\"$t(button.startover)\",\"continue\":\"<U+B2E4><U+C74C> <U+D559><U+C2B5><U+C73C><U+B85C>\",\"submitanswer\":\"<U+C815><U+B2F5> <U+C81C><U+CD9C>\",\"submitanswertitle\":\"$t(button.submitanswer)\",\"previoustopic\":\"<U+C774><U+C804> <U+D1A0><U+D53D>\",\"nexttopic\":\"<U+B2E4><U+C74C> <U+D1A0><U+D53D>\",\"questionsubmit\":\"$t(button.submitanswer)\",\"questiontryagain\":\"<U+C7AC><U+C2DC><U+B3C4>\"},\"text\":{\"startover\":\"<U+C7AC><U+D559><U+C2B5>\",\"areyousure\":\"<U+B2E4><U+C2DC> <U+C2DC><U+C791> <U+D558><U+C2DC><U+ACA0><U+C2B5><U+B2C8><U+AE4C>? (<U+BAA8><U+B4E0> <U+C608><U+C81C><U+C758> <U+C9C4><U+D589> <U+C815><U+BCF4><U+AC00> <U+C7AC><U+C124><U+C815><U+B429><U+B2C8><U+B2E4>)\",\"youmustcomplete\":\"<U+B2F9><U+C2E0><U+C740> <U+C644><U+B8CC><U+D574><U+C57C> <U+D569><U+B2C8><U+B2E4>\",\"exercise\":\"<U+C5F0><U+C2B5><U+BB38><U+C81C>\",\"exercise_plural\":\"<U+C5F0><U+C2B5><U+BB38><U+C81C><U+B4E4>\",\"inthissection\":\"<U+C774> <U+C139><U+C158><U+C744> <U+C2E4><U+D589><U+D558><U+AE30> <U+C804><U+C5D0>\",\"code\":\"<U+CF54><U+B4DC>\",\"enginecap\":\"$t(text.code) {{engine}}\",\"quiz\":\"<U+D034><U+C988>\",\"blank\":\"<U+ACF5><U+BC31>\",\"blank_plural\":\"<U+ACF5><U+BC31><U+B4E4>\",\"exercisecontainsblank\":\"<U+C774> <U+C5F0><U+C2B5><U+BB38><U+C81C><U+C5D0><U+B294> {{count}}<U+AC1C><U+C758> $t(text.blank)<U+C774> <U+D3EC><U+D568><U+B418><U+C5B4> <U+C788><U+C2B5><U+B2C8><U+B2E4>.\",\"pleasereplaceblank\":\"{{blank}}<U+B97C> <U+C720><U+D6A8><U+D55C> <U+CF54><U+B4DC><U+B85C> <U+BC14><U+AFB8><U+C2ED><U+C2DC><U+C624>.\",\"unparsable\":\"<U+C774><U+AC83><U+C740> <U+C720><U+D6A8><U+D55C> R <U+CF54><U+B4DC><U+AC00> <U+C544><U+B2D0> <U+C218> <U+C788><U+C2B5><U+B2C8><U+B2E4>. R<U+C740> <U+D14D><U+C2A4><U+D2B8><U+B97C> <U+C644><U+C804><U+D55C> <U+BA85><U+B839><U+C73C><U+B85C> <U+BCC0><U+D658><U+D558><U+B294> <U+BC29><U+BC95><U+C744> <U+ACB0><U+C815><U+D560> <U+C218> <U+C5C6><U+C2B5><U+B2C8><U+B2E4>. <U+B2F9><U+C2E0><U+C740> <U+ACF5><U+BC31><U+C774><U+B098> <U+BC11><U+C904><U+C744> <U+B300><U+CCB4><U+D558><U+C5EC> <U+CC44><U+C6B0><U+AE30>, <U+C778><U+C218><U+B97C> <U+CEF4><U+B9C8><U+B85C> <U+AD6C><U+BD84><U+D558><U+AE30>, <U+B610><U+B294> <code>&quot;<\\/code>, <code>'<\\/code>, <code>(<\\/code> , <code>{<\\/code><U+B85C> <U+C2DC><U+C791><U+D558><U+B294> <U+AD6C><U+BB38><U+C744> <U+B2EB><U+B294> <code>&quot;<\\/code>, <code>'<\\/code>, <code>)<\\/code>, <code>}<\\/code><U+C744> <U+C78A><U+C5C8><U+C744> <U+C218><U+B3C4> <U+C788><U+C2B5><U+B2C8><U+B2E4>.\\n\",\"and\":\"<U+ADF8><U+B9AC><U+ACE0>\",\"or\":\"<U+D639><U+C740>\",\"listcomma\":\", \",\"oxfordcomma\":\"\"}}}}}<\/script>"]},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9020"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tutorial-format"]},{"type":"character","attributes":{},"value":["0.10.1.9020"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmarkdown/templates/tutorial/resources"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tutorial-format.js"]},{"type":"character","attributes":{},"value":["tutorial-format.css","rstudio-theme.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9020"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["jquery"]},{"type":"character","attributes":{},"value":["3.6.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/3.6.0"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["jquery-3.6.0.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["jquerylib"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.1.4"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["navigation"]},{"type":"character","attributes":{},"value":["1.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/navigation-1.1"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tabsets.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.13"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["highlightjs"]},{"type":"character","attributes":{},"value":["9.12.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/highlightjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["highlight.js"]},{"type":"character","attributes":{},"value":["default.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.13"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["jquery"]},{"type":"character","attributes":{},"value":["3.6.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/3.6.0"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["jquery-3.6.0.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["jquerylib"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.1.4"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["font-awesome"]},{"type":"character","attributes":{},"value":["5.1.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/fontawesome"]}]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["css/all.css","css/v4-shims.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.13"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["bootbox"]},{"type":"character","attributes":{},"value":["4.4.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/bootbox"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["bootbox.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9020"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["idb-keyvalue"]},{"type":"character","attributes":{},"value":["3.2.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/idb-keyval"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["idb-keyval-iife-compat.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[false]},{"type":"character","attributes":{},"value":["0.10.1.9020"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tutorial"]},{"type":"character","attributes":{},"value":["0.10.1.9020"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/tutorial"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tutorial.js"]},{"type":"character","attributes":{},"value":["tutorial.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9020"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ace"]},{"type":"character","attributes":{},"value":["1.2.6"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/ace"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["ace.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9020"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["clipboardjs"]},{"type":"character","attributes":{},"value":["1.5.15"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/clipboardjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["clipboard.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9020"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ace"]},{"type":"character","attributes":{},"value":["1.2.6"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/ace"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["ace.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9020"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["clipboardjs"]},{"type":"character","attributes":{},"value":["1.5.15"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/clipboardjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["clipboard.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9020"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ace"]},{"type":"character","attributes":{},"value":["1.2.6"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/ace"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["ace.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9020"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["clipboardjs"]},{"type":"character","attributes":{},"value":["1.5.15"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/clipboardjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["clipboard.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9020"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tabwid"]},{"type":"character","attributes":{},"value":["1.0.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["web_1.0.0"]}]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["tabwid.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["flextable"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.7.0"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ace"]},{"type":"character","attributes":{},"value":["1.2.6"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/ace"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["ace.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9020"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["clipboardjs"]},{"type":"character","attributes":{},"value":["1.5.15"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/clipboardjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["clipboard.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9020"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ace"]},{"type":"character","attributes":{},"value":["1.2.6"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/ace"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["ace.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9020"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["clipboardjs"]},{"type":"character","attributes":{},"value":["1.5.15"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/clipboardjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["clipboard.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9020"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ace"]},{"type":"character","attributes":{},"value":["1.2.6"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/ace"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["ace.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9020"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["clipboardjs"]},{"type":"character","attributes":{},"value":["1.5.15"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/clipboardjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["clipboard.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9020"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ace"]},{"type":"character","attributes":{},"value":["1.2.6"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/ace"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["ace.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9020"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["clipboardjs"]},{"type":"character","attributes":{},"value":["1.5.15"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/clipboardjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["clipboard.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9020"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ace"]},{"type":"character","attributes":{},"value":["1.2.6"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/ace"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["ace.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9020"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["clipboardjs"]},{"type":"character","attributes":{},"value":["1.5.15"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/clipboardjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["clipboard.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9020"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ace"]},{"type":"character","attributes":{},"value":["1.2.6"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/ace"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["ace.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9020"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["clipboardjs"]},{"type":"character","attributes":{},"value":["1.5.15"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/clipboardjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["clipboard.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9020"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ace"]},{"type":"character","attributes":{},"value":["1.2.6"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/ace"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["ace.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9020"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["clipboardjs"]},{"type":"character","attributes":{},"value":["1.5.15"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/clipboardjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["clipboard.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9020"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ace"]},{"type":"character","attributes":{},"value":["1.2.6"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/ace"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["ace.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9020"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["clipboardjs"]},{"type":"character","attributes":{},"value":["1.5.15"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/clipboardjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["clipboard.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9020"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ace"]},{"type":"character","attributes":{},"value":["1.2.6"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/ace"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["ace.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9020"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["clipboardjs"]},{"type":"character","attributes":{},"value":["1.5.15"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/clipboardjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["clipboard.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9020"]}]}]}
</script>
<!--/html_preserve-->
<!--html_preserve-->
<script type="application/shiny-prerendered" data-context="execution_dependencies">
{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["packages"]}},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["packages","version"]},"class":{"type":"character","attributes":{},"value":["data.frame"]},"row.names":{"type":"integer","attributes":{},"value":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130]}},"value":[{"type":"character","attributes":{},"value":["abind","adagio","ade4","assertthat","backports","base","base64enc","broom","broom.helpers","bslib","car","carData","cellranger","checkmate","cli","codetools","colorspace","commonmark","compiler","corrr","crayon","curl","data.table","datasets","DBI","dbplyr","digest","doParallel","dplyr","ellipsis","epikit","evaluate","FactoClass","fansi","farver","fastLink","fastmap","flextable","forcats","foreach","foreign","fs","gdtools","generics","ggplot2","ggrepel","glue","gradethis","graphics","grDevices","grid","gt","gtable","gtools","gtsummary","haven","here","highr","hms","htmltools","htmlwidgets","httpuv","httr","iterators","janitor","jquerylib","jsonlite","KernSmooth","knitr","labeling","later","lattice","learnr","lifecycle","lpSolve","lubridate","magrittr","markdown","MASS","Matrix","methods","mime","modelr","munsell","officer","openxlsx","parallel","pillar","pkgconfig","plotrix","promises","purrr","R6","Rcpp","readr","readxl","reprex","rio","rlang","rmarkdown","rprojroot","rstatix","rstudioapi","rvest","sass","scales","scatterplot3d","shiny","snakecase","stats","stringdist","stringi","stringr","systemfonts","tibble","tidyr","tidyselect","tidyverse","tools","tzdb","utf8","utils","uuid","vctrs","withr","xfun","xml2","xtable","yaml","zip"]},{"type":"character","attributes":{},"value":["1.4-5","0.8.4","1.7-18","0.2.1","1.4.1","4.1.3","0.1-3","0.7.12","1.6.0","0.3.1","3.0-12","3.0-5","1.1.0","2.0.0","3.2.0","0.2-18","2.0-3","1.8.0","4.1.3","0.4.3","1.5.1","4.3.2","1.14.2","4.1.3","1.1.2","2.1.1","0.6.29","1.0.17","1.0.8","0.3.2","0.1.2","0.15","1.2.7","1.0.3","2.1.0","0.6.0","1.1.0","0.7.0","0.5.1","1.5.2","0.8-82","1.5.2","0.2.4","0.1.2","3.3.5","0.9.1","1.6.2","0.2.7.9000","4.1.3","4.1.3","4.1.3","0.4.0","0.3.0","3.9.2","1.5.2","2.4.3","1.0.1","0.9","1.1.1","0.5.2","1.5.4","1.6.5","1.4.2","1.0.14","2.1.0","0.1.4","1.8.0","2.23-20","1.38","0.4.2","1.3.0","0.20-45","0.10.1.9020","1.0.1","5.6.15","1.8.0","2.0.3","1.1","7.3-55","1.4-0","4.1.3","0.12","0.1.8","0.5.0","0.4.2","4.2.5","4.1.3","1.7.0","2.0.3","3.8-2","1.2.0.1","0.3.4","2.5.1","1.0.8.3","2.1.2","1.4.0","2.0.1","0.5.29","1.0.2","2.13","2.0.3","0.7.0","0.13","1.0.2","0.4.1","1.1.1","0.3-41","1.7.1","0.11.0","4.1.3","0.9.8","1.7.6","1.4.0","1.0.4","3.1.6","1.2.0","1.1.2","1.3.1","4.1.3","0.3.0","1.2.2","4.1.3","1.0-4","0.4.0","2.5.0","0.30","1.3.3","1.8-4","2.3.5","2.2.0"]}]}]}
</script>
<!--/html_preserve-->
</div>

</div> <!-- topics -->

<div class="topicsContainer">
<div class="topicsPositioner">
<div class="band">
<div class="bandContent topicsListContainer">

<!-- begin doc-metadata -->
<div id="doc-metadata">
<h2 class="title toc-ignore" style="display:none;">Data cleaning</h2>
</div>
<!-- end doc-metadata -->

</div> <!-- bandContent.topicsListContainer -->
</div> <!-- band -->
</div> <!-- topicsPositioner -->
</div> <!-- topicsContainer -->


</div> <!-- bandContent page -->
</div> <!-- pageContent band -->



<!-- Build Tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("section-TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<script>
// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});
</script>


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>


</body>

</html>
