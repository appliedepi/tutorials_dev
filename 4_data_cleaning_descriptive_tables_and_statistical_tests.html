<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />



<meta name="progressive" content="true" />
<meta name="allow-skip" content="true" />
<meta name="learnr-version-prerender" content="0.10.1.9018" />

<title>Data cleaning</title>

<!-- header-includes START -->
<!-- header-includes END -->
<!-- HEAD_CONTENT -->

<!-- highlightjs -->
<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>


<!-- taken from https://github.com/rstudio/rmarkdown/blob/de8a9c38618903627ca509f5401d50a0876079f7/inst/rmd/h/default.html#L293-L343 -->
<!-- tabsets -->
<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>
<!-- end tabsets -->


</head>

<body>



<div class="pageContent band">
<div class="bandContent page">

<div class="topics">

<!-- Add JavaScript code for making the exercise code larger -->
<script language="JavaScript" src="js/exercise-font-size.js"></script>
<table>
<tr>
<td colspan="3">
<span id="login_message" class="shiny-text-output">
</td>
</tr>
<tr>
<td>
ID:
</td>
<td>
<input id="userID" type="text" class="form-control" value=""/>
</td>
<td>
     Password:
</td>
<td>
<input id="password" type="password" class="form-control" value="" />
</td>
<td>
     <button id="flush" type="button" class="btn btn-default action-button">Submit your work</button>
</td>
<td>
</td>
</tr>
<tr>
<td>
</td>
<td>
<div id="download" class="shiny-html-output">
<div>
</td>
</tr>
</table>
<div id="section-introduction-to-r-for-applied-epidemiology-and-public-health" class="section level2">
<h2>Introduction to R for Applied Epidemiology and Public Health</h2>
<div id="section-data-cleaning-and-core-functions" class="section level3">
<h3>Data cleaning and core functions</h3>
<p><img src="images/moz-banner.png" width="100%" /></p>
</div>
<div id="section-welcome" class="section level3">
<h3>Welcome</h3>
<p>Welcome to the course “Introduction to R for applied epidemiologists”, offered for free by <a href="www.appliedepi.org">Applied Epi</a> - a non-profit organisation that offers open-source tools, training, and support to frontline public health practitioners.</p>
<p>This interactive tutorial focuses on <strong>cleaning of datasets often encountered by applied epidemiologists and public health practitioners</strong>, such as outbreak linelists, surveillance, and laboratory data.</p>
<div id="section-target-audience" class="section level4">
<h4>Target Audience</h4>
<p>This course is designed with the following objectives:</p>
<ul>
<li>To be friendly to people who have never used a programming language before</li>
<li>To teach R emphasizing examples, datasets, and challenges commonly faced by applied epidemiologists</li>
<li>To be modular - so that you can skip to section most relevant to you</li>
</ul>
<p>If this is your first introduction to R programming, please consider first completing our [R Setup and Data Import tutorial], which introduces R, RStudio, R projects, R code syntax, and explains how to import a dataset into R.</p>
</div>
<div id="section-other-languages" class="section level4">
<h4>Other languages</h4>
<p>This course is available…</p>
</div>
<div id="section-offline-online" class="section level4">
<h4>Offline / Online</h4>
<p>You can access this tutorial offline by downloading our R package … If viewing offline, you can view the videos by doing …</p>
</div>
<div id="section-learning-goals" class="section level4">
<h4>Learning goals</h4>
<p>In this tutorial you will learn and practice:</p>
<ul>
<li>Using the pipe operator (<code>%&gt;%</code>) to pass the dataset from one cleaning function to another</li>
<li>The core <strong>tidyverse</strong> R functions used to reduce, clean, and modify dataframes<br />
</li>
<li>How to manipulate dates in order to clean and translate between units of time (days/months/years) with the <strong>lubridate</strong> package</li>
<li>The use of descriptive analysis and summary statistics with the <strong>janitor</strong> package in order to summarize your data</li>
</ul>
<p>This tutorial adapts the <a href="https://epirhandbook.com/en/cleaning-data-and-core-functions.html">Data cleaning and core functions</a> section of our free <a href="https://epirhandbook.com/en/">Epidemiologist R Handbook</a>, which is available for use offline as well.</p>
</div>
<div id="section-data-consent" class="section level4">
<h4>Data consent</h4>
<p>We continually improve these tutorials by collecting your entries and submitted answers to the quiz questions. By continuing, you consent to this collection and use.</p>
<p>To continue anonymously… do XYZ.</p>
</div>
<div id="section-who-made-this-course" class="section level4">
<h4>Who made this course</h4>
<p>This course is designed by epidemiologists with decades of ground-level experience in outbreak response and local public health work.</p>
<p><img src="images/hex-sidebyside.png" width="50%" /></p>
</div>
</div>
</div>
<div id="section-data-used-and-directory-structure" class="section level2">
<h2>Data used and directory structure</h2>
<p>In this tutorial we will use the following datasets. Please take a few minutes to review the structure and content of each dataset before continuing.</p>
<p>Use the arrows on the right to scroll through hidden columns. Note that these are “raw” (messy) datasets that mimic problems commonly found in real-life epidemiological datasets.</p>
<div id="section-a-linelist-of-cases-in-a-fictional-not-real-ebola-outbreak" class="section level3">
<h3><strong>A “linelist” of cases in a fictional (not real) Ebola outbreak</strong></h3>
<p>A “linelist” is a term used in applied epidemiology to refer to a table that contains key information about each case or suspect case in an outbreak. Each row represents one case, and the columns contain variables such as age, sex, date of symptom onset, outcomes, etc.</p>
<p>This dataset contains 6611 rows and 28 columns. Below are the first 5 rows:</p>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["case_id"],"name":[1],"type":["chr"],"align":["left"]},{"label":["generation"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["infection date"],"name":[3],"type":["dttm"],"align":["right"]},{"label":["date onset"],"name":[4],"type":["chr"],"align":["left"]},{"label":["hosp date"],"name":[5],"type":["dttm"],"align":["right"]},{"label":["date_of_outcome"],"name":[6],"type":["dttm"],"align":["right"]},{"label":["outcome"],"name":[7],"type":["chr"],"align":["left"]},{"label":["gender"],"name":[8],"type":["chr"],"align":["left"]},{"label":["hospital"],"name":[9],"type":["chr"],"align":["left"]},{"label":["lon"],"name":[10],"type":["dbl"],"align":["right"]},{"label":["lat"],"name":[11],"type":["dbl"],"align":["right"]},{"label":["infector"],"name":[12],"type":["chr"],"align":["left"]},{"label":["source"],"name":[13],"type":["chr"],"align":["left"]},{"label":["age"],"name":[14],"type":["chr"],"align":["left"]},{"label":["age_unit"],"name":[15],"type":["chr"],"align":["left"]},{"label":["row_num"],"name":[16],"type":["dbl"],"align":["right"]},{"label":["wt_kg"],"name":[17],"type":["dbl"],"align":["right"]},{"label":["ht_cm"],"name":[18],"type":["dbl"],"align":["right"]},{"label":["ct_blood"],"name":[19],"type":["dbl"],"align":["right"]},{"label":["fever"],"name":[20],"type":["chr"],"align":["left"]},{"label":["chills"],"name":[21],"type":["chr"],"align":["left"]},{"label":["cough"],"name":[22],"type":["chr"],"align":["left"]},{"label":["aches"],"name":[23],"type":["chr"],"align":["left"]},{"label":["vomit"],"name":[24],"type":["chr"],"align":["left"]},{"label":["temp"],"name":[25],"type":["dbl"],"align":["right"]},{"label":["time_admission"],"name":[26],"type":["chr"],"align":["left"]},{"label":["merged_header"],"name":[27],"type":["chr"],"align":["left"]},{"label":["...28"],"name":[28],"type":["chr"],"align":["left"]}],"data":[{"1":"5fe599","2":"4","3":"2014-05-08","4":"2014-05-13","5":"2014-05-15","6":"<NA>","7":"NA","8":"m","9":"Other","10":"-13.21574","11":"8.468973","12":"f547d6","13":"other","14":"2","15":"years","16":"1","17":"27","18":"48","19":"22","20":"no","21":"no","22":"yes","23":"no","24":"yes","25":"36.8","26":"NA","27":"a","28":"b","_rn_":"1"},{"1":"8689b7","2":"4","3":"<NA>","4":"2014-05-13","5":"2014-05-14","6":"2014-05-18","7":"Recover","8":"f","9":"NA","10":"-13.21523","11":"8.451719","12":"NA","13":"NA","14":"3","15":"years","16":"2","17":"25","18":"59","19":"22","20":"NA","21":"NA","22":"NA","23":"NA","24":"NA","25":"36.9","26":"09:36","27":"a","28":"b","_rn_":"2"},{"1":"11f8ea","2":"2","3":"<NA>","4":"2014-05-16","5":"2014-05-18","6":"2014-05-30","7":"Recover","8":"m","9":"St. Mark's Maternity Hospital (SMMH)","10":"-13.21291","11":"8.464817","12":"NA","13":"NA","14":"56","15":"years","16":"3","17":"91","18":"238","19":"21","20":"NA","21":"NA","22":"NA","23":"NA","24":"NA","25":"36.9","26":"16:48","27":"a","28":"b","_rn_":"3"},{"1":"b8812a","2":"3","3":"2014-05-04","4":"2014-05-18","5":"2014-05-20","6":"<NA>","7":"NA","8":"f","9":"Port Hospital","10":"-13.23637","11":"8.475476","12":"f90f5f","13":"other","14":"18","15":"years","16":"4","17":"41","18":"135","19":"23","20":"no","21":"no","22":"no","23":"no","24":"no","25":"36.8","26":"11:22","27":"a","28":"b","_rn_":"4"},{"1":"893f25","2":"3","3":"2014-05-18","4":"2014-05-21","5":"2014-05-22","6":"2014-05-29","7":"Recover","8":"m","9":"Military Hospital","10":"-13.22286","11":"8.460824","12":"11f8ea","13":"other","14":"3","15":"years","16":"5","17":"36","18":"71","19":"23","20":"no","21":"no","22":"yes","23":"no","24":"yes","25":"36.9","26":"12:60","27":"a","28":"b","_rn_":"5"},{"1":"be99c8","2":"3","3":"2014-05-03","4":"2014-05-22","5":"2014-05-23","6":"2014-05-24","7":"Recover","8":"f","9":"Port Hospital","10":"-13.22263","11":"8.461831","12":"aec8ec","13":"other","14":"16","15":"years","16":"6","17":"56","18":"116","19":"21","20":"no","21":"no","22":"yes","23":"no","24":"yes","25":"37.6","26":"14:13","27":"a","28":"b","_rn_":"6"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>Click to <a href="https://github.com/appliedepi/epirhandbook_eng/raw/master/data/case_linelists/linelist_raw.xlsx">download the <strong>raw</strong> dataset</a> for your own practice.</p>
<p>Click to <a href="https://github.com/appliedepi/epirhandbook_eng/raw/master/data/case_linelists/linelist_cleaned.rds">download the <strong>clean</strong> dataset as an <strong>.rds file</strong></a> for your own practice. A <em>.rds file</em> is an R-specific file type that preserves column classes. This ensures you will have only minimal cleaning to do after importing the data into R.</p>
</div>
<div id="section-aggregated-data-from-malaria-surveillance-in-a-fictional-country" class="section level3">
<h3><strong>Aggregated data from malaria surveillance in a fictional country</strong></h3>
<p>Aggregated data in epidemiology usually means a table of counts for each facility, or district, etc. Sometimes, the counts can also be per day, week, or month.</p>
<p>In this fictional dataset, each facility reported <em>daily</em> case counts of rapid-test (RDT)-confirmed malaria. Thus, each row represents the number of cases for a specific facility on a specific day.</p>
<p>This dataset contains 3038 rows and 10 columns. Below are the first 5 rows:</p>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["location_name"],"name":[1],"type":["chr"],"align":["left"]},{"label":["data_date"],"name":[2],"type":["date"],"align":["right"]},{"label":["submitted_date"],"name":[3],"type":["date"],"align":["right"]},{"label":["Province"],"name":[4],"type":["chr"],"align":["left"]},{"label":["District"],"name":[5],"type":["chr"],"align":["left"]},{"label":["malaria_rdt_0-4"],"name":[6],"type":["int"],"align":["right"]},{"label":["malaria_rdt_5-14"],"name":[7],"type":["int"],"align":["right"]},{"label":["malaria_rdt_15"],"name":[8],"type":["int"],"align":["right"]},{"label":["malaria_tot"],"name":[9],"type":["int"],"align":["right"]},{"label":["newid"],"name":[10],"type":["int"],"align":["right"]}],"data":[{"1":"Facility 1","2":"2020-08-11","3":"2020-08-12","4":"North","5":"Spring","6":"11","7":"12","8":"23","9":"46","10":"1"},{"1":"Facility 2","2":"2020-08-11","3":"2020-08-12","4":"North","5":"Bolo","6":"11","7":"10","8":"5","9":"26","10":"2"},{"1":"Facility 3","2":"2020-08-11","3":"2020-08-12","4":"North","5":"Dingo","6":"8","7":"5","8":"5","9":"18","10":"3"},{"1":"Facility 4","2":"2020-08-11","3":"2020-08-12","4":"North","5":"Bolo","6":"16","7":"16","8":"17","9":"49","10":"4"},{"1":"Facility 5","2":"2020-08-11","3":"2020-08-12","4":"North","5":"Bolo","6":"9","7":"2","8":"6","9":"17","10":"5"},{"1":"Facility 6","2":"2020-08-11","3":"2020-08-12","4":"North","5":"Dingo","6":"3","7":"1","8":"4","9":"8","10":"6"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>Click to <a href="https://github.com/appliedepi/epirhandbook_eng/raw/master/data/malaria_facility_count_data.rds">download the <strong>clean</strong> malaria counts dataset as an <strong>.rds file</strong></a> for your own practice. A <em>.rds file</em> is an R-specific file type that preserves column classes. This ensures you will have only minimal cleaning to do after importing the data into R.</p>
</div>
<div id="section-directory-structure" class="section level3">
<h3>Directory structure</h3>
<p>Photo or GIF of directory structure</p>
</div>
<div id="section-accessing-example-data" class="section level3">
<h3>Accessing example data</h3>
<p>Here is how to access the example data</p>
</div>
<div id="section-tidy-data" class="section level3">
<h3>Tidy Data</h3>
<p>We highly recommend doing our tutorial on Tidy Data in Applied Epidemiology. Collecting, formatting, and preparing your dataset <em>before</em> importing it into R is a critical step! LINK VIDEO TEASER</p>
</div>
</div>
<div id="section-packages" class="section level2">
<h2>Install and Load R packages</h2>
<p>To use basic functions with public health data, the tidyverse metapackage is very useful. Tidyverse loads the dplyr, ggplot2, and other packages that are useful in epi data analysis.</p>
<p>We’ve preloaded the below packages for now. Installation and loading of these packages is described on the EpiRHandbook <a href="https://epirhandbook.com/en/suggested-packages-1.html"><em>Suggested Packages</em></a> page.</p>
<p>In this assignment we’ll work with X R packages, let’s load them!</p>
<div class="tutorial-exercise" data-label="load-package" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>pacman::p_load(___)</code></pre>
<script type="application/json" data-ui-opts="1">{"engine":"r","has_checker":true,"caption":"<span data-i18n=\"text.enginecap\" data-i18n-opts=\"{&quot;engine&quot;:&quot;R&quot;}\">R Code<\/span>"}</script>
</div>
<div class="tutorial-exercise-support" data-label="load-package-hint" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>pacman::p_load(rio, here, janitor, tidyverse)</code></pre>
</div>
<div id="section-recommended-r-packages-for-public-health" class="section level3">
<h3>Recommended R packages for public health</h3>
<p>See this Epi R Handbook LINK for our recommended packages.</p>
</div>
</div>
<div id="section-import" class="section level2">
<h2>Import data</h2>
<p><a href="https://www.epirhandbook.com/en/import-and-export.html" class="uri">https://www.epirhandbook.com/en/import-and-export.html</a> Import that data and save it as “raw” file</p>
<p>To import data from a sub-folder, the <code>import()</code> command should be modified so that it correctly tells R where to search for this file. This is done using the here() function.</p>
<pre class="r"><code>linelist_raw &lt;- import(here(&quot;data&quot;, &quot;linelist_raw.xlsx&quot;))   # import data and save as named object</code></pre>
</div>
<div id="section-descriptive-tables" class="section level2">
<h2>Descriptive tables</h2>
<p>Once you have a clean dataset, you may want to conduct some basic statistical analysis and summaries in order to better understand your data.</p>
<p>There are a number of different packages that can be used to do this such as <strong>janitor</strong>, <strong>dplyr</strong>, <strong>gtsummary</strong>, <strong>rstatix</strong> and <strong>base</strong> R in order to summarize and create tables with descriptive statistics.</p>
<p>Each of these have their own advantages and disadvantages, and the tool you use will depend on factors such as code simplicity, customizeability and the desired output (printed to R console or a figure for a report/publication). Consider the points below:</p>
<ul>
<li>Use <code>tably()</code> from <strong>janitor</strong> to produce and “adorn” tabulations and cross-tabulations</li>
<li>Use <code>get_summary_stats()</code> from <strong>rstatix</strong> to easily generate dataframes of numerical summary statistics from multiple columns or groups</li>
<li>Use <code>summarize()</code> and <code>count()</code> from <strong>dplyr</strong> for more complex statistics, tidy dataframe outputs or preparing data for <code>ggplot()</code></li>
<li>Use <code>tbl_summary()</code> from <strong>gtsummary</strong> to produce detailed publication-ready tables</li>
<li>Use <code>table()</code> from <strong>base</strong> R if you do not have access to the above packages</li>
</ul>
<div id="section-janitor" class="section level3">
<h3><strong>janitor</strong></h3>
<p>The <strong>janitor</strong> package offers the <code>tabyl()</code> function to produce tabulations and cross-tabulations, which can be “adorned” or modified with helper functions to display percentages, proportions, counts, etc.</p>
<p>Below we summarize the column <code>age_cat</code>:</p>
<pre class="r"><code>linelist %&gt;%
  tabyl(age_cat)</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["age_cat"],"name":[1],"type":["fct"],"align":["left"]},{"label":["n"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["percent"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["valid_percent"],"name":[4],"type":["dbl"],"align":["right"]}],"data":[{"1":"0-4","2":"1095","3":"0.185971467","4":"0.188728025","_rn_":"1"},{"1":"5-9","2":"1095","3":"0.185971467","4":"0.188728025","_rn_":"2"},{"1":"10-14","2":"941","3":"0.159816576","4":"0.162185453","_rn_":"3"},{"1":"15-19","2":"743","3":"0.126188859","4":"0.128059290","_rn_":"4"},{"1":"20-29","2":"1073","3":"0.182235054","4":"0.184936229","_rn_":"5"},{"1":"30-49","2":"754","3":"0.128057065","4":"0.129955188","_rn_":"6"},{"1":"50-69","2":"95","3":"0.016134511","4":"0.016373664","_rn_":"7"},{"1":"70+","2":"6","3":"0.001019022","4":"0.001034126","_rn_":"8"},{"1":"NA","2":"86","3":"0.014605978","4":"NA","_rn_":"9"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>You can adjust the number of decimals with <code>adorn_round()</code>, and if you want to ignore <code>NA</code> values you can suppress them by including <code>show_na = FALSE</code>.</p>
<pre class="r"><code>linelist %&gt;%
  tabyl(age_cat, show_na = FALSE) %&gt;%
  adorn_rounding(digits = 3) #Specify the number of digits with the digits = argument</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["age_cat"],"name":[1],"type":["fct"],"align":["left"]},{"label":["n"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["percent"],"name":[3],"type":["dbl"],"align":["right"]}],"data":[{"1":"0-4","2":"1095","3":"0.189"},{"1":"5-9","2":"1095","3":"0.189"},{"1":"10-14","2":"941","3":"0.162"},{"1":"15-19","2":"743","3":"0.128"},{"1":"20-29","2":"1073","3":"0.185"},{"1":"30-49","2":"754","3":"0.130"},{"1":"50-69","2":"95","3":"0.016"},{"1":"70+","2":"6","3":"0.001"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>If the column is class Factor and only certain levels are present in your data, all levels will still appear in the table. You can suppress this feature by specifying <code>show_missing_levels = FALSE</code>:</p>
<pre class="r"><code>linelist %&gt;%
  filter(source != &quot;other&quot;) %&gt;%
  tabyl(source)</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["source"],"name":[1],"type":["fct"],"align":["left"]},{"label":["n"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["percent"],"name":[3],"type":["dbl"],"align":["right"]}],"data":[{"1":"funeral","2":"572","3":"0.2150376"},{"1":"missing","2":"2088","3":"0.7849624"},{"1":"other","2":"0","3":"0.0000000"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<pre class="r"><code>linelist %&gt;%
  filter(source != &quot;other&quot;) %&gt;%
  tabyl(source, show_missing_levels = FALSE)</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["source"],"name":[1],"type":["fct"],"align":["left"]},{"label":["n"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["percent"],"name":[3],"type":["dbl"],"align":["right"]}],"data":[{"1":"funeral","2":"572","3":"0.2150376"},{"1":"missing","2":"2088","3":"0.7849624"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<div id="section-cross-tabulation" class="section level2">
<h2>Cross-tabulation</h2>
<p>Cross-tabulation counts are achieved by adding one or more additional columns within 1. Note that now only counts are returned - proportions and percents can be added with additional steps shown below.</p>
<pre class="r"><code>linelist %&gt;% 
  tabyl(age_cat, gender)</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["age_cat"],"name":[1],"type":["fct"],"align":["left"]},{"label":["f"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["m"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["NA_"],"name":[4],"type":["dbl"],"align":["right"]}],"data":[{"1":"0-4","2":"640","3":"416","4":"39"},{"1":"5-9","2":"641","3":"412","4":"42"},{"1":"10-14","2":"518","3":"383","4":"40"},{"1":"15-19","2":"359","3":"364","4":"20"},{"1":"20-29","2":"468","3":"575","4":"30"},{"1":"30-49","2":"179","3":"557","4":"18"},{"1":"50-69","2":"2","3":"91","4":"2"},{"1":"70+","2":"0","3":"5","4":"1"},{"1":"NA","2":"0","3":"0","4":"86"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<div id="section-adoring-the-tabyl" class="section level3">
<h3>Adoring the tabyl</h3>
<p>Use <strong>janitor</strong>’s “adorn” functions to add totals or convert to proportions, percents, or otherwise adjust the display. Often, you will pipe the tabyl through several of these functions.</p>
<table>
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead>
<tr class="header">
<th><strong>Function</strong></th>
<th><strong>Outcome</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>adorn_totals()</code></td>
<td>Adds totals (<code>where =</code> “row”, “column”, “both”). Set <code>name =</code> for “Total”</td>
</tr>
<tr class="even">
<td><code>adorn_percentages()</code></td>
<td>Convert counts to proportions, with <code>denominator =</code> “row”, “col” or “all”</td>
</tr>
<tr class="odd">
<td><code>adorn_pct_formatting()</code></td>
<td>Converts proportions to percents. Specify <code>digits =</code>. Remove the “%” symbol with <code>affix_sign = FALSE</code></td>
</tr>
<tr class="even">
<td><code>adorn_rounding()</code></td>
<td>To round proportions to <code>digits =</code> places. To round percents use <code>adorn_pct_formatting()</code> with <code>digits =</code></td>
</tr>
<tr class="odd">
<td><code>adorn_ns()</code></td>
<td>Add counts to a table of proportions or percents. Indicate <code>position = “rear”</code> to show counts in parentheses, or “front” to put the percents in parentheses</td>
</tr>
<tr class="even">
<td><code>adorn_title()</code></td>
<td>Add counts to a table of proportions or percents. Indicate <code>position = “rear”</code> to show counts in parentheses, or “front” to put the percents in parentheses</td>
</tr>
</tbody>
</table>
<p>Can you summarize age categories in <code>linelist</code>, drop <code>NA</code> values, and “adorn” them to show the percentage to 2 decimal places?</p>
<div class="tutorial-exercise" data-label="crosstab_age" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<script type="application/json" data-ui-opts="1">{"engine":"r","has_checker":true,"caption":"<span data-i18n=\"text.enginecap\" data-i18n-opts=\"{&quot;engine&quot;:&quot;R&quot;}\">R Code<\/span>"}</script>
</div>
<div class="tutorial-exercise-support" data-label="crosstab_age-hint" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>Re-read the table above if you need help deciding which &quot;adorn&quot; function to use in order to display age categories as a percentage</code></pre>
</div>
<div class="tutorial-exercise-support" data-label="crosstab_age-solution" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>linelist %&gt;%
    tabyl(age_cat, show_na = FALSE) %&gt;%
    adorn_pct_formatting(digits = 2)</code></pre>
</div>
<p>Now we want to create a cross table of <code>age_cat</code> and <code>gender</code>, where we work out the percentage in each gender by row, and the overall percentage in each gender across all age categories. Can you use several “adorn” functions to do this?</p>
<div class="tutorial-exercise" data-label="crosstab_age_gender" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<script type="application/json" data-ui-opts="1">{"engine":"r","has_checker":true,"caption":"<span data-i18n=\"text.enginecap\" data-i18n-opts=\"{&quot;engine&quot;:&quot;R&quot;}\">R Code<\/span>"}</script>
</div>
<div class="tutorial-exercise-support" data-label="crosstab_age_gender-hint" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>You will need to use three &quot;adorn&quot; functions. Remember to specify &quot;where = &quot; for totals, and the &quot;denominator = &quot; correctly.</code></pre>
</div>
<div class="tutorial-exercise-support" data-label="crosstab_age_gender-solution" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>linelist %&gt;%                                  
  tabyl(age_cat, gender) %&gt;%
  adorn_totals(where = &quot;row&quot;) %&gt;%
  adorn_percentages(denominator = &quot;row&quot;) %&gt;%
  adorn_pct_formatting()</code></pre>
</div>
<p><div class="panel-heading tutorial-quiz-title"><span data-i18n="text.quiz">Quiz</span></div></p>
<div class="panel panel-default">
<div data-label="quiz11-1" class="tutorial-question panel-body">
<div id="quiz11-1-answer_container" class="shiny-html-output"></div>
<div id="quiz11-1-message_container" class="shiny-html-output"></div>
<div id="quiz11-1-action_button_container" class="shiny-html-output"></div>
<script>if (Tutorial.triggerMathJax) Tutorial.triggerMathJax()</script>
</div>
</div>
</div>
<div id="section-printing-the-tabyl" class="section level3">
<h3>Printing the tabyl</h3>
<p>By default, the tabyl will print raw to your R table.</p>
<p>Alternatively, you can pass the tabyl to <strong>flextable</strong> or similar package to print as a “pretty” image in the RStudio Viewer, which could be exported as .png, .jpeg, .html, etc. Note that if printing in this manner and using <code>adorn_titles()</code>, you must specify <code>placement = "combined"</code>.</p>
<pre class="r"><code>linelist %&gt;%
  tabyl(age_cat, gender) %&gt;% 
  adorn_totals(where = &quot;col&quot;) %&gt;% 
  adorn_percentages(denominator = &quot;col&quot;) %&gt;% 
  adorn_pct_formatting() %&gt;% 
  adorn_ns(position = &quot;front&quot;) %&gt;% 
  adorn_title(
    row_name = &quot;Age Category&quot;,
    col_name = &quot;Gender&quot;,
    placement = &quot;combined&quot;) %&gt;% # this is necessary to print as image
  flextable::flextable() %&gt;%    # convert to pretty image
  flextable::autofit()          # format to one line per row </code></pre>
<template id="9c0a4da3-9ac7-4e38-af36-b2ea52e464c4"><style>
.tabwid table{
  border-spacing:0px !important;
  border-collapse:collapse;
  line-height:1;
  margin-left:auto;
  margin-right:auto;
  border-width: 0;
  display: table;
  margin-top: 1.275em;
  margin-bottom: 1.275em;
  border-color: transparent;
}
.tabwid_left table{
  margin-left:0;
}
.tabwid_right table{
  margin-right:0;
}
.tabwid td {
    padding: 0;
}
.tabwid a {
  text-decoration: none;
}
.tabwid thead {
    background-color: transparent;
}
.tabwid tfoot {
    background-color: transparent;
}
.tabwid table tr {
background-color: transparent;
}
</style><div class="tabwid"><style>.cl-c28e617e{}.cl-c28702f8{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-c28729f4{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-c28750e6{width:86.6pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-c28750e7{width:74.3pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-c28750e8{width:127.5pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-c28750e9{width:80.5pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-c28750ea{width:86.6pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-c28750eb{width:80.5pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-c28750ec{width:74.3pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-c28750ed{width:127.5pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-c28750ee{width:127.5pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 2pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-c28750ef{width:80.5pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 2pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-c28750f0{width:74.3pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 2pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-c28777d8{width:86.6pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 2pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table class='cl-c28e617e'>
<thead><tr style="overflow-wrap:break-word;"><td class="cl-c28750ee"><p class="cl-c28729f4"><span class="cl-c28702f8">Age Category/Gender</span></p></td><td class="cl-c28750ef"><p class="cl-c28729f4"><span class="cl-c28702f8">f</span></p></td><td class="cl-c28750ef"><p class="cl-c28729f4"><span class="cl-c28702f8">m</span></p></td><td class="cl-c28750f0"><p class="cl-c28729f4"><span class="cl-c28702f8">NA_</span></p></td><td class="cl-c28777d8"><p class="cl-c28729f4"><span class="cl-c28702f8">Total</span></p></td></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-c28750e8"><p class="cl-c28729f4"><span class="cl-c28702f8">0-4</span></p></td><td class="cl-c28750e9"><p class="cl-c28729f4"><span class="cl-c28702f8">640 (22.8%)</span></p></td><td class="cl-c28750e9"><p class="cl-c28729f4"><span class="cl-c28702f8">416 (14.8%)</span></p></td><td class="cl-c28750e7"><p class="cl-c28729f4"><span class="cl-c28702f8">39 (14.0%)</span></p></td><td class="cl-c28750e6"><p class="cl-c28729f4"><span class="cl-c28702f8">1095 (18.6%)</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-c28750e8"><p class="cl-c28729f4"><span class="cl-c28702f8">5-9</span></p></td><td class="cl-c28750e9"><p class="cl-c28729f4"><span class="cl-c28702f8">641 (22.8%)</span></p></td><td class="cl-c28750e9"><p class="cl-c28729f4"><span class="cl-c28702f8">412 (14.7%)</span></p></td><td class="cl-c28750e7"><p class="cl-c28729f4"><span class="cl-c28702f8">42 (15.1%)</span></p></td><td class="cl-c28750e6"><p class="cl-c28729f4"><span class="cl-c28702f8">1095 (18.6%)</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-c28750e8"><p class="cl-c28729f4"><span class="cl-c28702f8">10-14</span></p></td><td class="cl-c28750e9"><p class="cl-c28729f4"><span class="cl-c28702f8">518 (18.5%)</span></p></td><td class="cl-c28750e9"><p class="cl-c28729f4"><span class="cl-c28702f8">383 (13.7%)</span></p></td><td class="cl-c28750e7"><p class="cl-c28729f4"><span class="cl-c28702f8">40 (14.4%)</span></p></td><td class="cl-c28750e6"><p class="cl-c28729f4"><span class="cl-c28702f8"> 941 (16.0%)</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-c28750e8"><p class="cl-c28729f4"><span class="cl-c28702f8">15-19</span></p></td><td class="cl-c28750e9"><p class="cl-c28729f4"><span class="cl-c28702f8">359 (12.8%)</span></p></td><td class="cl-c28750e9"><p class="cl-c28729f4"><span class="cl-c28702f8">364 (13.0%)</span></p></td><td class="cl-c28750e7"><p class="cl-c28729f4"><span class="cl-c28702f8">20  (7.2%)</span></p></td><td class="cl-c28750e6"><p class="cl-c28729f4"><span class="cl-c28702f8"> 743 (12.6%)</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-c28750e8"><p class="cl-c28729f4"><span class="cl-c28702f8">20-29</span></p></td><td class="cl-c28750e9"><p class="cl-c28729f4"><span class="cl-c28702f8">468 (16.7%)</span></p></td><td class="cl-c28750e9"><p class="cl-c28729f4"><span class="cl-c28702f8">575 (20.5%)</span></p></td><td class="cl-c28750e7"><p class="cl-c28729f4"><span class="cl-c28702f8">30 (10.8%)</span></p></td><td class="cl-c28750e6"><p class="cl-c28729f4"><span class="cl-c28702f8">1073 (18.2%)</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-c28750e8"><p class="cl-c28729f4"><span class="cl-c28702f8">30-49</span></p></td><td class="cl-c28750e9"><p class="cl-c28729f4"><span class="cl-c28702f8">179  (6.4%)</span></p></td><td class="cl-c28750e9"><p class="cl-c28729f4"><span class="cl-c28702f8">557 (19.9%)</span></p></td><td class="cl-c28750e7"><p class="cl-c28729f4"><span class="cl-c28702f8">18  (6.5%)</span></p></td><td class="cl-c28750e6"><p class="cl-c28729f4"><span class="cl-c28702f8"> 754 (12.8%)</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-c28750e8"><p class="cl-c28729f4"><span class="cl-c28702f8">50-69</span></p></td><td class="cl-c28750e9"><p class="cl-c28729f4"><span class="cl-c28702f8">  2  (0.1%)</span></p></td><td class="cl-c28750e9"><p class="cl-c28729f4"><span class="cl-c28702f8"> 91  (3.2%)</span></p></td><td class="cl-c28750e7"><p class="cl-c28729f4"><span class="cl-c28702f8"> 2  (0.7%)</span></p></td><td class="cl-c28750e6"><p class="cl-c28729f4"><span class="cl-c28702f8">  95  (1.6%)</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-c28750e8"><p class="cl-c28729f4"><span class="cl-c28702f8">70+</span></p></td><td class="cl-c28750e9"><p class="cl-c28729f4"><span class="cl-c28702f8">  0  (0.0%)</span></p></td><td class="cl-c28750e9"><p class="cl-c28729f4"><span class="cl-c28702f8">  5  (0.2%)</span></p></td><td class="cl-c28750e7"><p class="cl-c28729f4"><span class="cl-c28702f8"> 1  (0.4%)</span></p></td><td class="cl-c28750e6"><p class="cl-c28729f4"><span class="cl-c28702f8">   6  (0.1%)</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-c28750ed"><p class="cl-c28729f4"><span class="cl-c28702f8"></span></p></td><td class="cl-c28750eb"><p class="cl-c28729f4"><span class="cl-c28702f8">  0  (0.0%)</span></p></td><td class="cl-c28750eb"><p class="cl-c28729f4"><span class="cl-c28702f8">  0  (0.0%)</span></p></td><td class="cl-c28750ec"><p class="cl-c28729f4"><span class="cl-c28702f8">86 (30.9%)</span></p></td><td class="cl-c28750ea"><p class="cl-c28729f4"><span class="cl-c28702f8">  86  (1.5%)</span></p></td></tr></tbody></table></div></template>
<div class="flextable-shadow-host" id="82191181-3a22-42dc-abf4-5ff470748c82"></div>
<script>
var dest = document.getElementById("82191181-3a22-42dc-abf4-5ff470748c82");
var template = document.getElementById("9c0a4da3-9ac7-4e38-af36-b2ea52e464c4");
var caption = template.content.querySelector("caption");
if(caption) {
  caption.style.cssText = "display:block;text-align:center;";
  var newcapt = document.createElement("p");
  newcapt.appendChild(caption)
  dest.parentNode.insertBefore(newcapt, dest.previousSibling);
}
var fantome = dest.attachShadow({mode: 'open'});
var templateContent = template.content;
fantome.appendChild(templateContent);
</script>

<p><em>Use on other tables</em></p>
<p>You can use janitor’s adorn_*() functions on other tables, such as those created by summarise() and count() from dplyr, or table() from base R. Simply pipe the table to the desired janitor function. For example:</p>
<pre class="r"><code>linelist %&gt;% 
  count(hospital) %&gt;%   # dplyr function
  adorn_totals()        # janitor function</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["hospital"],"name":[1],"type":["chr"],"align":["left"]},{"label":["n"],"name":[2],"type":["int"],"align":["right"]}],"data":[{"1":"Central Hospital","2":"454","_rn_":"1"},{"1":"Military Hospital","2":"896","_rn_":"2"},{"1":"Missing","2":"1469","_rn_":"3"},{"1":"Other","2":"885","_rn_":"4"},{"1":"Port Hospital","2":"1762","_rn_":"5"},{"1":"St. Mark's Maternity Hospital (SMMH)","2":"422","_rn_":"6"},{"1":"Total","2":"5888","_rn_":"7"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
<div id="section-saving-the-tabyl" class="section level3">
<h3>Saving the tabyl</h3>
<p>If you convert the table to a “pretty” image with a package like <strong>flextable</strong>, you can save it with functions from that package - like <code>save_as_html()</code>, <code>save_as_word()</code>, <code>save_as_ppt()</code>, and <code>save_as_image()</code> from <strong>flextable</strong></p>
<pre class="r"><code>linelist %&gt;%
  tabyl(age_cat, gender) %&gt;% 
  adorn_totals(where = &quot;col&quot;) %&gt;% 
  adorn_percentages(denominator = &quot;col&quot;) %&gt;% 
  adorn_pct_formatting() %&gt;% 
  adorn_ns(position = &quot;front&quot;) %&gt;% 
  adorn_title(
    row_name = &quot;Age Category&quot;,
    col_name = &quot;Gender&quot;,
    placement = &quot;combined&quot;) %&gt;% 
  flextable::flextable() %&gt;%                     # convert to image
  flextable::autofit() %&gt;%                       # ensure only one line per row
  flextable::save_as_docx(path = &quot;tabyl.docx&quot;)   # save as Word document to filepath</code></pre>
</div>
<div id="section-statistics" class="section level3">
<h3>Statistics</h3>
<p>You can apply statistical tests on tabyls, like <code>chisq.test()</code> or <code>fisher.test()</code> from the <strong>stats</strong> package as shown below. Note missing values are not allowed so they are excluded from the tabyl with show_na = FALSE.</p>
<pre class="r"><code>age_by_outcome &lt;- linelist %&gt;% 
  tabyl(age_cat, outcome, show_na = FALSE) 

chisq.test(age_by_outcome)</code></pre>
<pre><code>## 
##  Pearson&#39;s Chi-squared test
## 
## data:  age_by_outcome
## X-squared = 6.4931, df = 7, p-value = 0.4835</code></pre>
</div>
</div>
<div id="section-dplyr-package" class="section level2">
<h2><strong>dplyr</strong> package</h2>
<p><strong>dplyr</strong> is part of the tidyverse packages and is an very common data management tool. Creating tables with <strong>dplyr</strong> functions <code>summarise()</code> and <code>count()</code> is a useful approach to calculating summary statistics, summarize by group, or pass tables to <code>ggplot()</code>.</p>
<p><code>summarise()</code> creates a new, summary data frame. If the data are ungrouped, it will return a one-row dataframe with the specified summary statistics of the entire data frame. If the data are grouped, the new data frame will have one row per group (see Grouping data page).</p>
<p>Within the <code>summarise()</code> parentheses, you provide the names of each new summary column followed by an equals sign and a statistical function to apply.</p>
<p><em>Get counts</em></p>
<p>The most simple function to apply within <code>summarise()</code> is <code>n()</code>. Leave the parentheses empty to count the number of rows.</p>
<pre class="r"><code>linelist %&gt;% 
  summarise(n_rows = n())   # return number of rows </code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["n_rows"],"name":[1],"type":["int"],"align":["right"]}],"data":[{"1":"5888"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>This gets more interesting if we have grouped the data beforehand.</p>
<pre class="r"><code>linelist %&gt;% 
  group_by(age_cat) %&gt;%     # group data by unique values in column age_cat
  summarise(n_rows = n())   # return number of rows *per group*</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["age_cat"],"name":[1],"type":["fct"],"align":["left"]},{"label":["n_rows"],"name":[2],"type":["int"],"align":["right"]}],"data":[{"1":"0-4","2":"1095"},{"1":"5-9","2":"1095"},{"1":"10-14","2":"941"},{"1":"15-19","2":"743"},{"1":"20-29","2":"1073"},{"1":"30-49","2":"754"},{"1":"50-69","2":"95"},{"1":"70+","2":"6"},{"1":"NA","2":"86"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>The above command can be shortened by using the count() function instead. count() does the following:</p>
<ol style="list-style-type: decimal">
<li>Groups the data by the columns provided</li>
<li>Summarises them with <code>n()</code>, creating the column <code>n</code></li>
<li>Un-groups the data</li>
</ol>
<pre class="r"><code>linelist %&gt;% 
  count(age_cat)</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["age_cat"],"name":[1],"type":["fct"],"align":["left"]},{"label":["n"],"name":[2],"type":["int"],"align":["right"]}],"data":[{"1":"0-4","2":"1095"},{"1":"5-9","2":"1095"},{"1":"10-14","2":"941"},{"1":"15-19","2":"743"},{"1":"20-29","2":"1073"},{"1":"30-49","2":"754"},{"1":"50-69","2":"95"},{"1":"70+","2":"6"},{"1":"NA","2":"86"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>You can change the name of the counts column from the default <code>n</code> to something else by specifying it to <code>name =</code>.</p>
<p>Tabulating counts of two or more grouping columns are still returned in “long” format, with the counts in the n column. See the page on Pivoting data to learn about “long” and “wide” data formats.</p>
<pre class="r"><code>linelist %&gt;% 
  count(age_cat, outcome)</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["age_cat"],"name":[1],"type":["fct"],"align":["left"]},{"label":["outcome"],"name":[2],"type":["chr"],"align":["left"]},{"label":["n"],"name":[3],"type":["int"],"align":["right"]}],"data":[{"1":"0-4","2":"Death","3":"471"},{"1":"0-4","2":"Recover","3":"364"},{"1":"0-4","2":"NA","3":"260"},{"1":"5-9","2":"Death","3":"476"},{"1":"5-9","2":"Recover","3":"391"},{"1":"5-9","2":"NA","3":"228"},{"1":"10-14","2":"Death","3":"438"},{"1":"10-14","2":"Recover","3":"303"},{"1":"10-14","2":"NA","3":"200"},{"1":"15-19","2":"Death","3":"323"},{"1":"15-19","2":"Recover","3":"251"},{"1":"15-19","2":"NA","3":"169"},{"1":"20-29","2":"Death","3":"477"},{"1":"20-29","2":"Recover","3":"367"},{"1":"20-29","2":"NA","3":"229"},{"1":"30-49","2":"Death","3":"329"},{"1":"30-49","2":"Recover","3":"238"},{"1":"30-49","2":"NA","3":"187"},{"1":"50-69","2":"Death","3":"33"},{"1":"50-69","2":"Recover","3":"38"},{"1":"50-69","2":"NA","3":"24"},{"1":"70+","2":"Death","3":"3"},{"1":"70+","2":"Recover","3":"3"},{"1":"NA","2":"Death","3":"32"},{"1":"NA","2":"Recover","3":"28"},{"1":"NA","2":"NA","3":"26"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>If you are tabling a column of class <em>factor</em> then you can ensure <em>all</em> levels are shown by adding <code>.drop = FALSE</code> into <code>summarise()</code> or <code>count()</code>.</p>
<div id="section-proportions" class="section level3">
<h3>Proportions</h3>
<p>Proportions can be added by piping the table to <code>mutate()</code> to create a new column. Define the new column as the counts column (n by default) divided by the <code>sum()</code> of the counts column (this will return a proportion).</p>
<p>Note that in this case, <code>sum()</code> in the <code>mutate()</code> command will return the sum of the whole column n for use as the proportion denominator. If <code>sum()</code> is used in grouped data (e.g. if the <code>mutate()</code> immediately followed a <code>group_by()</code> command), it will return sums by group. As stated just above, <code>count()</code> finishes its actions by ungrouping. Thus, in this scenario we get full column proportions.</p>
<p>To easily display percents, you can wrap the proportion in the function <code>percent()</code> from the package <strong>scales</strong> (note this convert to class character).</p>
<pre class="r"><code>age_summary &lt;- linelist %&gt;% 
  count(age_cat) %&gt;%                     # group and count by gender (produces &quot;n&quot; column)
  mutate(                                # create percent of column - note the denominator
    percent = scales::percent(n / sum(n))) 

# print
age_summary</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["age_cat"],"name":[1],"type":["fct"],"align":["left"]},{"label":["n"],"name":[2],"type":["int"],"align":["right"]},{"label":["percent"],"name":[3],"type":["chr"],"align":["left"]}],"data":[{"1":"0-4","2":"1095","3":"18.60%"},{"1":"5-9","2":"1095","3":"18.60%"},{"1":"10-14","2":"941","3":"15.98%"},{"1":"15-19","2":"743","3":"12.62%"},{"1":"20-29","2":"1073","3":"18.22%"},{"1":"30-49","2":"754","3":"12.81%"},{"1":"50-69","2":"95","3":"1.61%"},{"1":"70+","2":"6","3":"0.10%"},{"1":"NA","2":"86","3":"1.46%"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>If you wish to calculate proportions <em>within groups</em> then you need to additionally group the data using <code>group_by()</code>:</p>
<pre class="r"><code>age_by_outcome &lt;- linelist %&gt;%                  # begin with linelist
  group_by(outcome) %&gt;%                         # group by outcome 
  count(age_cat) %&gt;%                            # group and count by age_cat, and then remove age_cat grouping
  mutate(percent = scales::percent(n / sum(n))) # calculate percent - note the denominator is by outcome group</code></pre>
<p>Can you now drop the <code>NA</code> values from <code>gender</code> and <code>outcome</code> in <code>linelist</code>, then produce a cross-table of <code>gender</code> and <code>outcome</code> to count the number of rows in each cross-tabulation?</p>
<div class="tutorial-exercise" data-label="dplyr_crosstab" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>  linelist %&gt;%</code></pre>
<script type="application/json" data-ui-opts="1">{"engine":"r","has_checker":true,"caption":"<span data-i18n=\"text.enginecap\" data-i18n-opts=\"{&quot;engine&quot;:&quot;R&quot;}\">R Code<\/span>"}</script>
</div>
<div class="tutorial-exercise-support" data-label="dplyr_crosstab-hint" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>You can remove NA values using a number of different commands, but remember that we only care about the NA values in the columns &#39;gender&#39; and &#39;outcome&#39;. Additionally, remember how many columns we need to group by.</code></pre>
</div>
<div class="tutorial-exercise-support" data-label="dplyr_crosstab-solution" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>linelist %&gt;% 
    drop_na(gender, outcome) %&gt;%
    group_by(gender, outcome) %&gt;%
    count()</code></pre>
</div>
</div>
<div id="section-plotting" class="section level3">
<h3>Plotting</h3>
<p>One of the advantages of using <strong>dplyr</strong> is that the data is already in the format expected for plotting by <strong>ggplot</strong>, for example:</p>
<pre class="r"><code>linelist %&gt;%                      # begin with linelist
  count(age_cat, outcome) %&gt;%     # group and tabulate counts by two columns
  ggplot()+                       # pass new data frame to ggplot
    geom_col(                     # create bar plot
      mapping = aes(   
        x = outcome,              # map outcome to x-axis
        fill = age_cat,           # map age_cat to the fill
        y = n))                   # map the counts column `n` to the height</code></pre>
<p><img src="4_data_cleaning_descriptive_tables_and_statistical_tests_files/figure-html/unnamed-chunk-20-1.png" width="624" /></p>
</div>
<div id="section-summary-statistics" class="section level3">
<h3>Summary statistics</h3>
<p>Another advantage of using <strong>dplyr</strong> and <code>summarise()</code> is that you can return more advanced statistical summarises such as <code>median()</code>, <code>mean()</code>, <code>max()</code>, <code>min()</code>, <code>sd()</code> (standard deviation) and percentiles.</p>
<p>The syntax is the same - within the <code>summarise()</code> parentheses you provide the names of each new summary column followed by an equals sign and a statistical function to apply. Within the statistical function, give the column(s) to be operated on and any relevant arguments (e.g. <code>na.rm = TRUE</code> for most mathematical functions).</p>
<p>You can also use <code>sum()</code> to return the number of rows that meet a logical criteria. The expression within is counted if it evaluates to <code>TRUE</code>. For example:</p>
<ul>
<li><code>sum(age_years &lt; 18, na.rm = T)</code></li>
<li><code>sum(gender == "male", na.rm = T)</code></li>
<li><code>sum(response %in% c("Likely", "Very Likely"))</code></li>
</ul>
<p>Below, <code>linelist</code> data are summarised to describe the days delay from symptom onset to hospital admission (column <code>days_onset_hosp</code>), by hospital.</p>
<pre class="r"><code>summary_table &lt;- linelist %&gt;%                                        # begin with linelist, save out as new object
  group_by(hospital) %&gt;%                                             # group all calculations by hospital
  summarise(                                                         # only the below summary columns will be returned
    cases       = n(),                                                # number of rows per group
    delay_max   = max(days_onset_hosp, na.rm = T),                    # max delay
    delay_mean  = round(mean(days_onset_hosp, na.rm = T), digits = 1),  # mean delay, rounded
    delay_sd    = round(sd(days_onset_hosp, na.rm = T), digits = 1),  # standard deviation of delays, rounded
    delay_3     = sum(days_onset_hosp &gt;= 3, na.rm = T),               # number of rows with delay of 3 or more days
    pct_delay_3 = scales::percent(delay_3 / cases)                    # convert previously-defined delay column to percent 
  )

summary_table  # print</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["hospital"],"name":[1],"type":["chr"],"align":["left"]},{"label":["cases"],"name":[2],"type":["int"],"align":["right"]},{"label":["delay_max"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["delay_mean"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["delay_sd"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["delay_3"],"name":[6],"type":["int"],"align":["right"]},{"label":["pct_delay_3"],"name":[7],"type":["chr"],"align":["left"]}],"data":[{"1":"Central Hospital","2":"454","3":"12","4":"1.9","5":"1.9","6":"108","7":"24%"},{"1":"Military Hospital","2":"896","3":"15","4":"2.1","5":"2.4","6":"253","7":"28%"},{"1":"Missing","2":"1469","3":"22","4":"2.1","5":"2.3","6":"399","7":"27%"},{"1":"Other","2":"885","3":"18","4":"2.0","5":"2.2","6":"234","7":"26%"},{"1":"Port Hospital","2":"1762","3":"16","4":"2.1","5":"2.2","6":"470","7":"27%"},{"1":"St. Mark's Maternity Hospital (SMMH)","2":"422","3":"18","4":"2.1","5":"2.3","6":"116","7":"27%"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>Can you now summarise the median, min and max ages in <code>age</code> by <code>gender</code> in <code>linelist</code>? Remember to remove <code>NA</code> values!</p>
<div class="tutorial-exercise" data-label="dplyr_summarise" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>  linelist %&gt;%</code></pre>
<script type="application/json" data-ui-opts="1">{"engine":"r","has_checker":true,"caption":"<span data-i18n=\"text.enginecap\" data-i18n-opts=\"{&quot;engine&quot;:&quot;R&quot;}\">R Code<\/span>"}</script>
</div>
<div class="tutorial-exercise-support" data-label="dplyr_summarise-hint" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>Remember to drop NA values from &#39;gender&#39; and to ignore NA values in the age column.</code></pre>
</div>
<div class="tutorial-exercise-support" data-label="dplyr_summarise-solution" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>linelist %&gt;%
    group_by(gender) %&gt;%
    drop_na(gender) %&gt;%
    summarise(
    median_age = median(age, na.rm = T),
    min_age = min(age, na.rm = T),
    max_age = max(age, na.rm = T),
)</code></pre>
</div>
</div>
<div id="section-conditional-statistics" class="section level3">
<h3>Conditional statistics</h3>
<p>We may want to return <em>conditional statistics</em>, e.g. the maximum of rows that meet a certain criteria. This can be done by subsetting the column with a square bracket <code>[]</code>. The example below returns the maximum temperature for patients classified having or not having fever. Be aware however - it may be more appropriate to add another column to the <code>group_by()</code> command and <code>pivot_wider()</code>.</p>
<pre class="r"><code>linelist %&gt;% 
  group_by(hospital) %&gt;% 
  summarise(
    max_temp_fvr = max(temp[fever == &quot;yes&quot;], na.rm = T),
    max_temp_no = max(temp[fever == &quot;no&quot;], na.rm = T)
  )</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["hospital"],"name":[1],"type":["chr"],"align":["left"]},{"label":["max_temp_fvr"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["max_temp_no"],"name":[3],"type":["dbl"],"align":["right"]}],"data":[{"1":"Central Hospital","2":"40.4","3":"38.0"},{"1":"Military Hospital","2":"40.5","3":"38.0"},{"1":"Missing","2":"40.6","3":"38.0"},{"1":"Other","2":"40.8","3":"37.9"},{"1":"Port Hospital","2":"40.6","3":"38.0"},{"1":"St. Mark's Maternity Hospital (SMMH)","2":"40.6","3":"37.9"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>Can you now work out the proportion of people (in a column <code>prop_outcome_death</code>) who have the outcome of death by age category and gender?</p>
<div class="tutorial-exercise" data-label="dplyr_conditional_death" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>  linelist %&gt;%</code></pre>
<script type="application/json" data-ui-opts="1">{"engine":"r","has_checker":true,"caption":"<span data-i18n=\"text.enginecap\" data-i18n-opts=\"{&quot;engine&quot;:&quot;R&quot;}\">R Code<\/span>"}</script>
</div>
<div class="tutorial-exercise-support" data-label="dplyr_conditional_death-hint" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>You may have to use group_by() more than once, and count() as well as summarise()</code></pre>
</div>
<div class="tutorial-exercise-support" data-label="dplyr_conditional_death-solution" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>linelist %&gt;% 
  group_by(age_cat, outcome) %&gt;% 
  count(outcome) %&gt;%
  group_by(age_cat) %&gt;%
  summarise(prop_outcome_death = sum(n[outcome == &quot;Death&quot;], na.rm = T)/sum(n, na.rm = T))</code></pre>
</div>
</div>
<div id="section-glueing-together" class="section level3">
<h3>Glueing together</h3>
<p>The function <code>str_glue()</code> from <strong>stringr</strong> is useful to combine values from several columns into one new column. In this context this is typically used after the <code>summarise()</code> command.</p>
<p>In the Characters and strings page, various options for combining columns are discussed, including <code>unite()</code>, and <code>paste0()</code>. In this use case, we advocate for <code>str_glue()</code> because it is more flexible than <code>unite()</code> and has more simple syntax than <code>paste0()</code>.</p>
<p>Below, the <code>summary_table</code> data frame (created above) is mutated such that columns <code>delay_mean</code> and <code>delay_sd</code> are combined, parentheses formating is added to the new column, and their respective old columns are removed.</p>
<p>Then, to make the table more presentable, a total row is added with <code>adorn_totals()</code> from janitor (which ignores non-numeric columns). Lastly, we use <code>select()</code> from <strong>dplyr</strong> to both re-order and rename to nicer column names.</p>
<pre class="r"><code>summary_table %&gt;% 
  mutate(delay = str_glue(&quot;{delay_mean} ({delay_sd})&quot;)) %&gt;%  # combine and format other values
  select(-c(delay_mean, delay_sd)) %&gt;%                       # remove two old columns   
  adorn_totals(where = &quot;row&quot;) %&gt;%                            # add total row
  select(                                                    # order and rename cols
    &quot;Hospital Name&quot;   = hospital,
    &quot;Cases&quot;           = cases,
    &quot;Max delay&quot;       = delay_max,
    &quot;Mean (sd)&quot;       = delay,
    &quot;Delay 3+ days&quot;   = delay_3,
    &quot;% delay 3+ days&quot; = pct_delay_3
    )</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["Hospital Name"],"name":[1],"type":["chr"],"align":["left"]},{"label":["Cases"],"name":[2],"type":["int"],"align":["right"]},{"label":["Max delay"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["Mean (sd)"],"name":[4],"type":["chr"],"align":["left"]},{"label":["Delay 3+ days"],"name":[5],"type":["int"],"align":["right"]},{"label":["% delay 3+ days"],"name":[6],"type":["chr"],"align":["left"]}],"data":[{"1":"Central Hospital","2":"454","3":"12","4":"1.9 (1.9)","5":"108","6":"24%"},{"1":"Military Hospital","2":"896","3":"15","4":"2.1 (2.4)","5":"253","6":"28%"},{"1":"Missing","2":"1469","3":"22","4":"2.1 (2.3)","5":"399","6":"27%"},{"1":"Other","2":"885","3":"18","4":"2 (2.2)","5":"234","6":"26%"},{"1":"Port Hospital","2":"1762","3":"16","4":"2.1 (2.2)","5":"470","6":"27%"},{"1":"St. Mark's Maternity Hospital (SMMH)","2":"422","3":"18","4":"2.1 (2.3)","5":"116","6":"27%"},{"1":"Total","2":"5888","3":"101","4":"-","5":"1580","6":"-"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
<div id="section-percentiles" class="section level3">
<h3>Percentiles</h3>
<p>Percentiles and quantiles in <strong>dplyr</strong> deserve a special mention. To return quantiles, use <code>quantile()</code> with the defaults or specify the value(s) you would like with <code>probs =</code>.</p>
<pre class="r"><code># get default percentile values of age (0%, 25%, 50%, 75%, 100%)
linelist %&gt;% 
  summarise(age_percentiles = quantile(age_years, na.rm = TRUE))</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["age_percentiles"],"name":[1],"type":["dbl"],"align":["right"]}],"data":[{"1":"0","_row":"0%"},{"1":"6","_row":"25%"},{"1":"13","_row":"50%"},{"1":"23","_row":"75%"},{"1":"84","_row":"100%"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>and if we wanted to use manually specified percentiles, and show them by hospital</p>
<pre class="r"><code># get manually-specified percentile values of age (5%, 50%, 75%, 98%)
linelist %&gt;% 
  group_by(hospital) %&gt;% 
  summarise(
    p05 = quantile(age_years, probs = 0.05, na.rm=T),
    p50 = quantile(age_years, probs = 0.5, na.rm=T),
    p75 = quantile(age_years, probs = 0.75, na.rm=T),
    p98 = quantile(age_years, probs = 0.98, na.rm=T)
    )</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["hospital"],"name":[1],"type":["chr"],"align":["left"]},{"label":["p05"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["p50"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["p75"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["p98"],"name":[5],"type":["dbl"],"align":["right"]}],"data":[{"1":"Central Hospital","2":"1","3":"12","4":"21","5":"48.00"},{"1":"Military Hospital","2":"1","3":"13","4":"24","5":"45.00"},{"1":"Missing","2":"1","3":"13","4":"23","5":"48.20"},{"1":"Other","2":"1","3":"13","4":"23","5":"50.00"},{"1":"Port Hospital","2":"1","3":"14","4":"24","5":"49.00"},{"1":"St. Mark's Maternity Hospital (SMMH)","2":"2","3":"12","4":"22","5":"50.24"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
<div id="section-summarise-aggregated-data" class="section level3">
<h3>Summarise aggregated data</h3>

<script type="application/shiny-prerendered" data-context="server-start">
knitr::opts_chunk$set(warning = FALSE, message = FALSE) 
# load packages ----------------------------------------------------------------
library(learnr)
library(gradethis)
library(tidyverse)
library(here)
library(janitor)
library(rio)
library(basket) # not sure if we need this
library(etude) # helper functions for gradethis
library(epikit)
library(linelist)
library(lubridate)
library(fastLink)

# set options for exercises and checking ---------------------------------------
gradethis_setup()

learnr::tutorial_options(exercise.timelimit = 60) 
  #exercise.checker = gradethis::grade_learnr) 
    # alternatively, submitr::null_code_checker


# event recorder ---------------------------------------------------------------
# see https://github.com/dtkaplan/submitr/blob/master/R/make_a_recorder.R
tutorial_options(exercise.eval = FALSE)  # pre-evaluate exercises

vfun <- submitr::make_basic_validator(NULL, "hello") #basket::check_valid

new_recorder <- function(tutorial_id, tutorial_version, user_id, event, data) {
    cat(
      tutorial_id, 
      " (v", tutorial_version, "); ",
      format(Sys.time(), "%Y-%M%-%D %H:%M:%S %Z"), "; ",
      user_id, "; ",
      event, "; ",
      data$label, "; ",
      data$answers, "; ",
      data$code, "; ",
      data$correct, "\n", sep = "",
      
      file = here::here("event_records", "learnr_basics.txt"),
      append = TRUE)
}

options(tutorial.event_recorder = new_recorder)


# hide non-exercise code chunks ------------------------------------------------
knitr::opts_chunk$set(echo = FALSE)


# data prep --------------------------------------------------------------------
linelist_raw <- rio::import(here::here("data", "linelist_raw.xlsx"))
linelist <- rio::import(here::here("data", "linelist_cleaned.rds"))
malaria_counts <- rio::import(here::here("data", "malaria_facility_count_data.rds"))

#Incorrectly assign class so we can clean later
linelist_raw$age <- as.character(linelist_raw$age)
linelist_raw$`date onset` <- as.character(linelist_raw$`date onset`)

#Going to randomly convert some temperatures to Fahrenheit instead of celcius for an exercise later
set.seed(1)
take_these <- sample(1:nrow(linelist_raw), 500)

linelist_raw$temp[take_these] <- (linelist_raw$temp[take_these] * 9/5) + 32

#Create some dummy df's for pivoting exercises
df <- data.frame(id = c("A", "B", "C"),
           obs1_date = c("2021-04-23", "2021-04-23", "2021-04-23"),
           obs1_status = c("Healthy", "Healthy", "Missing"),
           obs2_date = c("2021-04-24", "2021-04-24", "2021-04-24"),
           obs2_status = c("Healthy", "Healthy", "Healthy"),
           obs3_date = c("2021-04-25", "2021-04-25", "2021-04-25"),
           obs3_status = c("Unwell", "Healthy", "Healthy"))

fever_followup <- data.frame(patient = 1:10,
                             observation1_date = Sys.Date() - 21,
                        observation2_date = Sys.Date() - 14,
                        observation3_date = Sys.Date() - 7,
                        observation1_temp = sample(seq(35, 45, by = 0.1), 10, replace = T),
                        observation2_temp = sample(seq(35, 45, by = 0.1), 10, replace = T),
                        observation3_temp = sample(seq(35, 45, by = 0.1), 10, replace = T))

fever_followup$observation1_fever <- ifelse(fever_followup$observation1_date < 38, "No fever",
                              ifelse(fever_followup$observation1_date >= 38 & fever_followup$observation1_date< 39.4, "Mild fever",
                                     ifelse(fever_followup$observation1_date >= 39.4, "High fever", NA)))
fever_followup$observation2_fever <- ifelse(fever_followup$observation2_date < 38, "No fever",
                              ifelse(fever_followup$observation2_date >= 38 & fever_followup$observation2_date< 39.4, "Mild fever",
                                     ifelse(fever_followup$observation2_date >= 39.4, "High fever", NA)))
fever_followup$observation3_fever <- ifelse(fever_followup$observation3_date < 38, "No fever",
                              ifelse(fever_followup$observation3_date >= 38 & fever_followup$observation3_date< 39.4, "Mild fever",
                                     ifelse(fever_followup$observation3_date >= 39.4, "High fever", NA)))


fill_table_1 <- 
  tibble::tribble(
       ~Measurement, ~Facility, ~Cases,
                  1,  "Hosp 1",     66,
                  2,  "Hosp 1",     26,
                  3,  "Hosp 1",      8,
                  1,  "Hosp 2",     71,
                  2,  "Hosp 2",     62,
                  3,  "Hosp 2",     70,
                  1,  "Hosp 3",     47,
                  2,  "Hosp 3",     70,
                  3,  "Hosp 3",     38,
       )

fill_table_2 <- 
  tibble::tribble(
    ~Year, ~Measurement, ~Facility, ~Cases,
     2000,            1,  "Hosp 4",     82,
     2001,            2,  "Hosp 4",     87,
     2002,            3,  "Hosp 4",     46
  )

linelist_mini <- linelist %>%                 # start with original linelist
  select(case_id, date_onset, hospital) %>%   # select columns
  head(10)     

# Make the hospital information dataframe
hosp_info = data.frame(
  hosp_name     = c("central hospital", "military", "military", "port", "St. Mark's", "ignace", "sisters"),
  catchment_pop = c(1950280, 40500, 10000, 50280, 12000, 5000, 4200),
  level         = c("Tertiary", "Secondary", "Primary", "Secondary", "Secondary", "Primary", "Primary")
)

#Make some ID's and dataframes to join for exercises
patient_ID <- apply(sapply(1:10, function(x) sample(c(LETTERS, 0:9), 10, replace = T)), 2, paste0, collapse = "")


patient_symptoms <- data.frame(patient_id = sample(patient_ID, 10),
                  linelist %>%
    select(fever:vomit) %>%
    filter(row_number() %in% 1:10))

patient_dates <- data.frame(id = patient_ID,
                  linelist %>%
    select(contains("date")) %>%
    filter(row_number() %in% c(sample(which(is.na(linelist$date_onset)), 5),
  sample(which(!is.na(linelist$date_onset)), 5))))

#Probablistic matching

# make datasets

cases <- tribble(
  ~gender, ~first,      ~middle,     ~last,        ~yr,   ~mon, ~day, ~district,
  "M",     "Amir",      NA,          "Khan",       1989,  11,   22,   "River",
  "M",     "Anthony",   "B.",        "Smith",      1970, 09, 19,      "River", 
  "F",     "Marialisa", "Contreras", "Rodrigues",  1972, 04, 15,      "River",
  "F",     "Elizabeth", "Casteel",   "Chase",      1954, 03, 03,      "City",
  "M",     "Jose",      "Sanchez",   "Lopez",      1996, 01, 06,      "City",
  "F",     "Cassidy",   "Jones",      "Davis",     1980, 07, 20,      "City",
  "M",     "Michael",   "Murphy",     "O'Calaghan",1969, 04, 12,      "Rural", 
  "M",     "Oliver",    "Laurent",    "De Bordow" , 1971, 02, 04,     "River",
  "F",      "Blessing",  NA,          "Adebayo",   1955,  02, 14,     "Rural"
)

results <- tribble(
  ~gender,  ~first,     ~middle,     ~last,          ~yr, ~mon, ~day, ~district, ~result,
  "M",      "Amir",     NA,          "Khan",         1989, 11,   22,  "River", "positive",
  "M",      "Tony",   "B",         "Smith",          1970, 09,   19,  "River", "positive",
  "F",      "Maria",    "Contreras", "Rodriguez",    1972, 04,   15,  "Cty",   "negative",
  "F",      "Betty",    "Castel",   "Chase",        1954,  03,   30,  "City",  "positive",
  "F",      "Andrea",   NA,          "Kumaraswamy",  2001, 01,   05,  "Rural", "positive",      
  "F",      "Caroline", NA,          "Wang",         1988, 12,   11,  "Rural", "negative",
  "F",      "Trang",    NA,          "Nguyen",       1981, 06,   10,  "Rural", "positive",
  "M",      "Olivier" , "Laurent",   "De Bordeaux",  NA,   NA,   NA,  "River", "positive",
  "M",      "Mike",     "Murphy",    "O'Callaghan",  1969, 04,   12,  "Rural", "negative",
  "F",      "Cassidy",  "Jones",     "Davis",        1980, 07,   02,  "City",  "positive",
  "M",      "Mohammad", NA,          "Ali",          1942, 01,   17,  "City",  "negative",
  NA,       "Jose",     "Sanchez",   "Lopez",        1995, 01,   06,  "City",  "negative",
  "M",      "Abubakar", NA,          "Abullahi",     1960, 01,   01,  "River", "positive",
  "F",      "Maria",    "Salinas",   "Contreras",    1955, 03,   03,  "River", "positive"
  )


cases_dup <- rbind(cases,
                   data.frame(
                     gender = c("M", "F"),
           first = c("Tony", "Maria"),
           middle = c("B.", "Contreras"),
           last = c("Smith", "Rodriguez"),
           yr = c(1970, 1972),
           mon = c(9, 4),
           day = c(19, 15),
           district = c("River", "River"))
           )

#Create a  factor column
linelist$source[is.na(linelist$source)] <- "missing"
linelist$source <- factor(linelist$source)

</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::register_http_handlers(session, metadata = NULL)
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::prepare_tutorial_state(session)
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::i18n_observe_tutorial_language(input, session)
</script>
 
<script type="application/shiny-prerendered" data-context="server">
session$onSessionEnded(function() {
        learnr:::event_trigger(session, "session_stop")
      })
</script>
 
<script type="application/shiny-prerendered" data-context="server">
# see https://rdrr.io/github/dtkaplan/submitr/f/vignettes/using.Rmd
options(tutorial.storage = "none")
vfun <- submitr::make_basic_validator(NULL, "hello")       #basket::check_valid
storage_actions <- submitr::record_local("./minimal_submissions.csv")
submitr::shiny_logic(input, output, session, vfun,
                     storage_actions)
</script>
 
<script type="application/shiny-prerendered" data-context="server">
`tutorial-exercise-load-package-result` <- learnr:::setup_exercise_handler(reactive(req(input$`tutorial-exercise-load-package-code-editor`)), session)
output$`tutorial-exercise-load-package-output` <- renderUI({
  `tutorial-exercise-load-package-result`()
})
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::store_exercise_cache(structure(list(global_setup = structure(c("knitr::opts_chunk$set(warning = FALSE, message = FALSE) ", 
"# load packages ----------------------------------------------------------------", 
"library(learnr)", "library(gradethis)", "library(tidyverse)", 
"library(here)", "library(janitor)", "library(rio)", "library(basket) # not sure if we need this", 
"library(etude) # helper functions for gradethis", "library(epikit)", 
"library(linelist)", "library(lubridate)", "library(fastLink)", 
"", "# set options for exercises and checking ---------------------------------------", 
"gradethis_setup()", "", "learnr::tutorial_options(exercise.timelimit = 60) ", 
"  #exercise.checker = gradethis::grade_learnr) ", "    # alternatively, submitr::null_code_checker", 
"", "", "# event recorder ---------------------------------------------------------------", 
"# see https://github.com/dtkaplan/submitr/blob/master/R/make_a_recorder.R", 
"tutorial_options(exercise.eval = FALSE)  # pre-evaluate exercises", 
"", "vfun <- submitr::make_basic_validator(NULL, \"hello\") #basket::check_valid", 
"", "new_recorder <- function(tutorial_id, tutorial_version, user_id, event, data) {", 
"    cat(", "      tutorial_id, ", "      \" (v\", tutorial_version, \"); \",", 
"      format(Sys.time(), \"%Y-%M%-%D %H:%M:%S %Z\"), \"; \",", 
"      user_id, \"; \",", "      event, \"; \",", "      data$label, \"; \",", 
"      data$answers, \"; \",", "      data$code, \"; \",", "      data$correct, \"\\n\", sep = \"\",", 
"      ", "      file = here::here(\"event_records\", \"learnr_basics.txt\"),", 
"      append = TRUE)", "}", "", "options(tutorial.event_recorder = new_recorder)", 
"", "", "# hide non-exercise code chunks ------------------------------------------------", 
"knitr::opts_chunk$set(echo = FALSE)", "", "", "# data prep --------------------------------------------------------------------", 
"linelist_raw <- rio::import(here::here(\"data\", \"linelist_raw.xlsx\"))", 
"linelist <- rio::import(here::here(\"data\", \"linelist_cleaned.rds\"))", 
"malaria_counts <- rio::import(here::here(\"data\", \"malaria_facility_count_data.rds\"))", 
"", "#Incorrectly assign class so we can clean later", "linelist_raw$age <- as.character(linelist_raw$age)", 
"linelist_raw$`date onset` <- as.character(linelist_raw$`date onset`)", 
"", "#Going to randomly convert some temperatures to Fahrenheit instead of celcius for an exercise later", 
"set.seed(1)", "take_these <- sample(1:nrow(linelist_raw), 500)", 
"", "linelist_raw$temp[take_these] <- (linelist_raw$temp[take_these] * 9/5) + 32", 
"", "#Create some dummy df's for pivoting exercises", "df <- data.frame(id = c(\"A\", \"B\", \"C\"),", 
"           obs1_date = c(\"2021-04-23\", \"2021-04-23\", \"2021-04-23\"),", 
"           obs1_status = c(\"Healthy\", \"Healthy\", \"Missing\"),", 
"           obs2_date = c(\"2021-04-24\", \"2021-04-24\", \"2021-04-24\"),", 
"           obs2_status = c(\"Healthy\", \"Healthy\", \"Healthy\"),", 
"           obs3_date = c(\"2021-04-25\", \"2021-04-25\", \"2021-04-25\"),", 
"           obs3_status = c(\"Unwell\", \"Healthy\", \"Healthy\"))", 
"", "fever_followup <- data.frame(patient = 1:10,", "                             observation1_date = Sys.Date() - 21,", 
"                        observation2_date = Sys.Date() - 14,", 
"                        observation3_date = Sys.Date() - 7,", 
"                        observation1_temp = sample(seq(35, 45, by = 0.1), 10, replace = T),", 
"                        observation2_temp = sample(seq(35, 45, by = 0.1), 10, replace = T),", 
"                        observation3_temp = sample(seq(35, 45, by = 0.1), 10, replace = T))", 
"", "fever_followup$observation1_fever <- ifelse(fever_followup$observation1_date < 38, \"No fever\",", 
"                              ifelse(fever_followup$observation1_date >= 38 & fever_followup$observation1_date< 39.4, \"Mild fever\",", 
"                                     ifelse(fever_followup$observation1_date >= 39.4, \"High fever\", NA)))", 
"fever_followup$observation2_fever <- ifelse(fever_followup$observation2_date < 38, \"No fever\",", 
"                              ifelse(fever_followup$observation2_date >= 38 & fever_followup$observation2_date< 39.4, \"Mild fever\",", 
"                                     ifelse(fever_followup$observation2_date >= 39.4, \"High fever\", NA)))", 
"fever_followup$observation3_fever <- ifelse(fever_followup$observation3_date < 38, \"No fever\",", 
"                              ifelse(fever_followup$observation3_date >= 38 & fever_followup$observation3_date< 39.4, \"Mild fever\",", 
"                                     ifelse(fever_followup$observation3_date >= 39.4, \"High fever\", NA)))", 
"", "", "fill_table_1 <- ", "  tibble::tribble(", "       ~Measurement, ~Facility, ~Cases,", 
"                  1,  \"Hosp 1\",     66,", "                  2,  \"Hosp 1\",     26,", 
"                  3,  \"Hosp 1\",      8,", "                  1,  \"Hosp 2\",     71,", 
"                  2,  \"Hosp 2\",     62,", "                  3,  \"Hosp 2\",     70,", 
"                  1,  \"Hosp 3\",     47,", "                  2,  \"Hosp 3\",     70,", 
"                  3,  \"Hosp 3\",     38,", "       )", "", 
"fill_table_2 <- ", "  tibble::tribble(", "    ~Year, ~Measurement, ~Facility, ~Cases,", 
"     2000,            1,  \"Hosp 4\",     82,", "     2001,            2,  \"Hosp 4\",     87,", 
"     2002,            3,  \"Hosp 4\",     46", "  )", "", "linelist_mini <- linelist %>%                 # start with original linelist", 
"  select(case_id, date_onset, hospital) %>%   # select columns", 
"  head(10)     ", "", "# Make the hospital information dataframe", 
"hosp_info = data.frame(", "  hosp_name     = c(\"central hospital\", \"military\", \"military\", \"port\", \"St. Mark's\", \"ignace\", \"sisters\"),", 
"  catchment_pop = c(1950280, 40500, 10000, 50280, 12000, 5000, 4200),", 
"  level         = c(\"Tertiary\", \"Secondary\", \"Primary\", \"Secondary\", \"Secondary\", \"Primary\", \"Primary\")", 
")", "", "#Make some ID's and dataframes to join for exercises", 
"patient_ID <- apply(sapply(1:10, function(x) sample(c(LETTERS, 0:9), 10, replace = T)), 2, paste0, collapse = \"\")", 
"", "", "patient_symptoms <- data.frame(patient_id = sample(patient_ID, 10),", 
"                  linelist %>%", "    select(fever:vomit) %>%", 
"    filter(row_number() %in% 1:10))", "", "patient_dates <- data.frame(id = patient_ID,", 
"                  linelist %>%", "    select(contains(\"date\")) %>%", 
"    filter(row_number() %in% c(sample(which(is.na(linelist$date_onset)), 5),", 
"  sample(which(!is.na(linelist$date_onset)), 5))))", "", "#Probablistic matching", 
"", "# make datasets", "", "cases <- tribble(", "  ~gender, ~first,      ~middle,     ~last,        ~yr,   ~mon, ~day, ~district,", 
"  \"M\",     \"Amir\",      NA,          \"Khan\",       1989,  11,   22,   \"River\",", 
"  \"M\",     \"Anthony\",   \"B.\",        \"Smith\",      1970, 09, 19,      \"River\", ", 
"  \"F\",     \"Marialisa\", \"Contreras\", \"Rodrigues\",  1972, 04, 15,      \"River\",", 
"  \"F\",     \"Elizabeth\", \"Casteel\",   \"Chase\",      1954, 03, 03,      \"City\",", 
"  \"M\",     \"Jose\",      \"Sanchez\",   \"Lopez\",      1996, 01, 06,      \"City\",", 
"  \"F\",     \"Cassidy\",   \"Jones\",      \"Davis\",     1980, 07, 20,      \"City\",", 
"  \"M\",     \"Michael\",   \"Murphy\",     \"O'Calaghan\",1969, 04, 12,      \"Rural\", ", 
"  \"M\",     \"Oliver\",    \"Laurent\",    \"De Bordow\" , 1971, 02, 04,     \"River\",", 
"  \"F\",      \"Blessing\",  NA,          \"Adebayo\",   1955,  02, 14,     \"Rural\"", 
")", "", "results <- tribble(", "  ~gender,  ~first,     ~middle,     ~last,          ~yr, ~mon, ~day, ~district, ~result,", 
"  \"M\",      \"Amir\",     NA,          \"Khan\",         1989, 11,   22,  \"River\", \"positive\",", 
"  \"M\",      \"Tony\",   \"B\",         \"Smith\",          1970, 09,   19,  \"River\", \"positive\",", 
"  \"F\",      \"Maria\",    \"Contreras\", \"Rodriguez\",    1972, 04,   15,  \"Cty\",   \"negative\",", 
"  \"F\",      \"Betty\",    \"Castel\",   \"Chase\",        1954,  03,   30,  \"City\",  \"positive\",", 
"  \"F\",      \"Andrea\",   NA,          \"Kumaraswamy\",  2001, 01,   05,  \"Rural\", \"positive\",      ", 
"  \"F\",      \"Caroline\", NA,          \"Wang\",         1988, 12,   11,  \"Rural\", \"negative\",", 
"  \"F\",      \"Trang\",    NA,          \"Nguyen\",       1981, 06,   10,  \"Rural\", \"positive\",", 
"  \"M\",      \"Olivier\" , \"Laurent\",   \"De Bordeaux\",  NA,   NA,   NA,  \"River\", \"positive\",", 
"  \"M\",      \"Mike\",     \"Murphy\",    \"O'Callaghan\",  1969, 04,   12,  \"Rural\", \"negative\",", 
"  \"F\",      \"Cassidy\",  \"Jones\",     \"Davis\",        1980, 07,   02,  \"City\",  \"positive\",", 
"  \"M\",      \"Mohammad\", NA,          \"Ali\",          1942, 01,   17,  \"City\",  \"negative\",", 
"  NA,       \"Jose\",     \"Sanchez\",   \"Lopez\",        1995, 01,   06,  \"City\",  \"negative\",", 
"  \"M\",      \"Abubakar\", NA,          \"Abullahi\",     1960, 01,   01,  \"River\", \"positive\",", 
"  \"F\",      \"Maria\",    \"Salinas\",   \"Contreras\",    1955, 03,   03,  \"River\", \"positive\"", 
"  )", "", "", "cases_dup <- rbind(cases,", "                   data.frame(", 
"                     gender = c(\"M\", \"F\"),", "           first = c(\"Tony\", \"Maria\"),", 
"           middle = c(\"B.\", \"Contreras\"),", "           last = c(\"Smith\", \"Rodriguez\"),", 
"           yr = c(1970, 1972),", "           mon = c(9, 4),", 
"           day = c(19, 15),", "           district = c(\"River\", \"River\"))", 
"           )", "", "#Create a  factor column", "linelist$source[is.na(linelist$source)] <- \"missing\"", 
"linelist$source <- factor(linelist$source)", ""), chunk_opts = list(
    label = "setup", include = FALSE)), setup = NULL, chunks = list(
    list(label = "load-package", code = "pacman::p_load(___)", 
        opts = list(label = "\"load-package\"", exercise = "TRUE"), 
        engine = "r")), code_check = NULL, error_check = NULL, 
    check = structure("grade_this_code(\"You are correct, the packages you need for this lesson are now loaded!\")", chunk_opts = list(
        label = "load-package-check")), solution = NULL, options = list(
        eval = FALSE, echo = TRUE, results = "markup", tidy = FALSE, 
        tidy.opts = NULL, collapse = FALSE, prompt = FALSE, comment = NA, 
        highlight = FALSE, size = "normalsize", background = "#F7F7F7", 
        strip.white = TRUE, cache = 0, cache.path = "4_data_cleaning_descriptive_tables_and_statistical_tests_cache/html/", 
        cache.vars = NULL, cache.lazy = TRUE, dependson = NULL, 
        autodep = FALSE, cache.rebuild = FALSE, fig.keep = "high", 
        fig.show = "asis", fig.align = "default", fig.path = "4_data_cleaning_descriptive_tables_and_statistical_tests_files/figure-html/", 
        dev = "png", dev.args = NULL, dpi = 192, fig.ext = "png", 
        fig.width = 6.5, fig.height = 4, fig.env = "figure", 
        fig.cap = NULL, fig.scap = NULL, fig.lp = "fig:", fig.subcap = NULL, 
        fig.pos = "", out.width = 624, out.height = NULL, out.extra = NULL, 
        fig.retina = 2, external = TRUE, sanitize = FALSE, interval = 1, 
        aniopts = "controls,loop", warning = FALSE, error = FALSE, 
        message = FALSE, render = NULL, ref.label = NULL, child = NULL, 
        engine = "r", split = FALSE, include = TRUE, purl = TRUE, 
        max.print = 1000, exercise.timelimit = 60, exercise.checker = "function (label = NULL, solution_code = NULL, user_code = NULL, \n    check_code = NULL, envir_result = NULL, evaluate_result = NULL, \n    envir_prep = NULL, last_value = NULL, stage = NULL, ...) \n{\n    (utils::getFromNamespace(\"check_exercise\", \"gradethis\"))(label = label, \n        solution_code = solution_code, user_code = user_code, \n        check_code = check_code, envir_result = envir_result, \n        evaluate_result = evaluate_result, envir_prep = envir_prep, \n        last_value = last_value, stage = stage, ...)\n}", 
        exercise.error.check.code = "gradethis_error_checker()", 
        exercise.eval = FALSE, label = "load-package", exercise = TRUE, 
        code = "pacman::p_load(___)", out.width.px = 624, out.height.px = 384, 
        params.src = "load-package, exercise = TRUE", fig.num = 0, 
        exercise.df_print = "paged"), engine = "r"), class = "tutorial_exercise"))
</script>
 
<script type="application/shiny-prerendered" data-context="server">
`tutorial-exercise-crosstab_age-result` <- learnr:::setup_exercise_handler(reactive(req(input$`tutorial-exercise-crosstab_age-code-editor`)), session)
output$`tutorial-exercise-crosstab_age-output` <- renderUI({
  `tutorial-exercise-crosstab_age-result`()
})
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::store_exercise_cache(structure(list(global_setup = structure(c("knitr::opts_chunk$set(warning = FALSE, message = FALSE) ", 
"# load packages ----------------------------------------------------------------", 
"library(learnr)", "library(gradethis)", "library(tidyverse)", 
"library(here)", "library(janitor)", "library(rio)", "library(basket) # not sure if we need this", 
"library(etude) # helper functions for gradethis", "library(epikit)", 
"library(linelist)", "library(lubridate)", "library(fastLink)", 
"", "# set options for exercises and checking ---------------------------------------", 
"gradethis_setup()", "", "learnr::tutorial_options(exercise.timelimit = 60) ", 
"  #exercise.checker = gradethis::grade_learnr) ", "    # alternatively, submitr::null_code_checker", 
"", "", "# event recorder ---------------------------------------------------------------", 
"# see https://github.com/dtkaplan/submitr/blob/master/R/make_a_recorder.R", 
"tutorial_options(exercise.eval = FALSE)  # pre-evaluate exercises", 
"", "vfun <- submitr::make_basic_validator(NULL, \"hello\") #basket::check_valid", 
"", "new_recorder <- function(tutorial_id, tutorial_version, user_id, event, data) {", 
"    cat(", "      tutorial_id, ", "      \" (v\", tutorial_version, \"); \",", 
"      format(Sys.time(), \"%Y-%M%-%D %H:%M:%S %Z\"), \"; \",", 
"      user_id, \"; \",", "      event, \"; \",", "      data$label, \"; \",", 
"      data$answers, \"; \",", "      data$code, \"; \",", "      data$correct, \"\\n\", sep = \"\",", 
"      ", "      file = here::here(\"event_records\", \"learnr_basics.txt\"),", 
"      append = TRUE)", "}", "", "options(tutorial.event_recorder = new_recorder)", 
"", "", "# hide non-exercise code chunks ------------------------------------------------", 
"knitr::opts_chunk$set(echo = FALSE)", "", "", "# data prep --------------------------------------------------------------------", 
"linelist_raw <- rio::import(here::here(\"data\", \"linelist_raw.xlsx\"))", 
"linelist <- rio::import(here::here(\"data\", \"linelist_cleaned.rds\"))", 
"malaria_counts <- rio::import(here::here(\"data\", \"malaria_facility_count_data.rds\"))", 
"", "#Incorrectly assign class so we can clean later", "linelist_raw$age <- as.character(linelist_raw$age)", 
"linelist_raw$`date onset` <- as.character(linelist_raw$`date onset`)", 
"", "#Going to randomly convert some temperatures to Fahrenheit instead of celcius for an exercise later", 
"set.seed(1)", "take_these <- sample(1:nrow(linelist_raw), 500)", 
"", "linelist_raw$temp[take_these] <- (linelist_raw$temp[take_these] * 9/5) + 32", 
"", "#Create some dummy df's for pivoting exercises", "df <- data.frame(id = c(\"A\", \"B\", \"C\"),", 
"           obs1_date = c(\"2021-04-23\", \"2021-04-23\", \"2021-04-23\"),", 
"           obs1_status = c(\"Healthy\", \"Healthy\", \"Missing\"),", 
"           obs2_date = c(\"2021-04-24\", \"2021-04-24\", \"2021-04-24\"),", 
"           obs2_status = c(\"Healthy\", \"Healthy\", \"Healthy\"),", 
"           obs3_date = c(\"2021-04-25\", \"2021-04-25\", \"2021-04-25\"),", 
"           obs3_status = c(\"Unwell\", \"Healthy\", \"Healthy\"))", 
"", "fever_followup <- data.frame(patient = 1:10,", "                             observation1_date = Sys.Date() - 21,", 
"                        observation2_date = Sys.Date() - 14,", 
"                        observation3_date = Sys.Date() - 7,", 
"                        observation1_temp = sample(seq(35, 45, by = 0.1), 10, replace = T),", 
"                        observation2_temp = sample(seq(35, 45, by = 0.1), 10, replace = T),", 
"                        observation3_temp = sample(seq(35, 45, by = 0.1), 10, replace = T))", 
"", "fever_followup$observation1_fever <- ifelse(fever_followup$observation1_date < 38, \"No fever\",", 
"                              ifelse(fever_followup$observation1_date >= 38 & fever_followup$observation1_date< 39.4, \"Mild fever\",", 
"                                     ifelse(fever_followup$observation1_date >= 39.4, \"High fever\", NA)))", 
"fever_followup$observation2_fever <- ifelse(fever_followup$observation2_date < 38, \"No fever\",", 
"                              ifelse(fever_followup$observation2_date >= 38 & fever_followup$observation2_date< 39.4, \"Mild fever\",", 
"                                     ifelse(fever_followup$observation2_date >= 39.4, \"High fever\", NA)))", 
"fever_followup$observation3_fever <- ifelse(fever_followup$observation3_date < 38, \"No fever\",", 
"                              ifelse(fever_followup$observation3_date >= 38 & fever_followup$observation3_date< 39.4, \"Mild fever\",", 
"                                     ifelse(fever_followup$observation3_date >= 39.4, \"High fever\", NA)))", 
"", "", "fill_table_1 <- ", "  tibble::tribble(", "       ~Measurement, ~Facility, ~Cases,", 
"                  1,  \"Hosp 1\",     66,", "                  2,  \"Hosp 1\",     26,", 
"                  3,  \"Hosp 1\",      8,", "                  1,  \"Hosp 2\",     71,", 
"                  2,  \"Hosp 2\",     62,", "                  3,  \"Hosp 2\",     70,", 
"                  1,  \"Hosp 3\",     47,", "                  2,  \"Hosp 3\",     70,", 
"                  3,  \"Hosp 3\",     38,", "       )", "", 
"fill_table_2 <- ", "  tibble::tribble(", "    ~Year, ~Measurement, ~Facility, ~Cases,", 
"     2000,            1,  \"Hosp 4\",     82,", "     2001,            2,  \"Hosp 4\",     87,", 
"     2002,            3,  \"Hosp 4\",     46", "  )", "", "linelist_mini <- linelist %>%                 # start with original linelist", 
"  select(case_id, date_onset, hospital) %>%   # select columns", 
"  head(10)     ", "", "# Make the hospital information dataframe", 
"hosp_info = data.frame(", "  hosp_name     = c(\"central hospital\", \"military\", \"military\", \"port\", \"St. Mark's\", \"ignace\", \"sisters\"),", 
"  catchment_pop = c(1950280, 40500, 10000, 50280, 12000, 5000, 4200),", 
"  level         = c(\"Tertiary\", \"Secondary\", \"Primary\", \"Secondary\", \"Secondary\", \"Primary\", \"Primary\")", 
")", "", "#Make some ID's and dataframes to join for exercises", 
"patient_ID <- apply(sapply(1:10, function(x) sample(c(LETTERS, 0:9), 10, replace = T)), 2, paste0, collapse = \"\")", 
"", "", "patient_symptoms <- data.frame(patient_id = sample(patient_ID, 10),", 
"                  linelist %>%", "    select(fever:vomit) %>%", 
"    filter(row_number() %in% 1:10))", "", "patient_dates <- data.frame(id = patient_ID,", 
"                  linelist %>%", "    select(contains(\"date\")) %>%", 
"    filter(row_number() %in% c(sample(which(is.na(linelist$date_onset)), 5),", 
"  sample(which(!is.na(linelist$date_onset)), 5))))", "", "#Probablistic matching", 
"", "# make datasets", "", "cases <- tribble(", "  ~gender, ~first,      ~middle,     ~last,        ~yr,   ~mon, ~day, ~district,", 
"  \"M\",     \"Amir\",      NA,          \"Khan\",       1989,  11,   22,   \"River\",", 
"  \"M\",     \"Anthony\",   \"B.\",        \"Smith\",      1970, 09, 19,      \"River\", ", 
"  \"F\",     \"Marialisa\", \"Contreras\", \"Rodrigues\",  1972, 04, 15,      \"River\",", 
"  \"F\",     \"Elizabeth\", \"Casteel\",   \"Chase\",      1954, 03, 03,      \"City\",", 
"  \"M\",     \"Jose\",      \"Sanchez\",   \"Lopez\",      1996, 01, 06,      \"City\",", 
"  \"F\",     \"Cassidy\",   \"Jones\",      \"Davis\",     1980, 07, 20,      \"City\",", 
"  \"M\",     \"Michael\",   \"Murphy\",     \"O'Calaghan\",1969, 04, 12,      \"Rural\", ", 
"  \"M\",     \"Oliver\",    \"Laurent\",    \"De Bordow\" , 1971, 02, 04,     \"River\",", 
"  \"F\",      \"Blessing\",  NA,          \"Adebayo\",   1955,  02, 14,     \"Rural\"", 
")", "", "results <- tribble(", "  ~gender,  ~first,     ~middle,     ~last,          ~yr, ~mon, ~day, ~district, ~result,", 
"  \"M\",      \"Amir\",     NA,          \"Khan\",         1989, 11,   22,  \"River\", \"positive\",", 
"  \"M\",      \"Tony\",   \"B\",         \"Smith\",          1970, 09,   19,  \"River\", \"positive\",", 
"  \"F\",      \"Maria\",    \"Contreras\", \"Rodriguez\",    1972, 04,   15,  \"Cty\",   \"negative\",", 
"  \"F\",      \"Betty\",    \"Castel\",   \"Chase\",        1954,  03,   30,  \"City\",  \"positive\",", 
"  \"F\",      \"Andrea\",   NA,          \"Kumaraswamy\",  2001, 01,   05,  \"Rural\", \"positive\",      ", 
"  \"F\",      \"Caroline\", NA,          \"Wang\",         1988, 12,   11,  \"Rural\", \"negative\",", 
"  \"F\",      \"Trang\",    NA,          \"Nguyen\",       1981, 06,   10,  \"Rural\", \"positive\",", 
"  \"M\",      \"Olivier\" , \"Laurent\",   \"De Bordeaux\",  NA,   NA,   NA,  \"River\", \"positive\",", 
"  \"M\",      \"Mike\",     \"Murphy\",    \"O'Callaghan\",  1969, 04,   12,  \"Rural\", \"negative\",", 
"  \"F\",      \"Cassidy\",  \"Jones\",     \"Davis\",        1980, 07,   02,  \"City\",  \"positive\",", 
"  \"M\",      \"Mohammad\", NA,          \"Ali\",          1942, 01,   17,  \"City\",  \"negative\",", 
"  NA,       \"Jose\",     \"Sanchez\",   \"Lopez\",        1995, 01,   06,  \"City\",  \"negative\",", 
"  \"M\",      \"Abubakar\", NA,          \"Abullahi\",     1960, 01,   01,  \"River\", \"positive\",", 
"  \"F\",      \"Maria\",    \"Salinas\",   \"Contreras\",    1955, 03,   03,  \"River\", \"positive\"", 
"  )", "", "", "cases_dup <- rbind(cases,", "                   data.frame(", 
"                     gender = c(\"M\", \"F\"),", "           first = c(\"Tony\", \"Maria\"),", 
"           middle = c(\"B.\", \"Contreras\"),", "           last = c(\"Smith\", \"Rodriguez\"),", 
"           yr = c(1970, 1972),", "           mon = c(9, 4),", 
"           day = c(19, 15),", "           district = c(\"River\", \"River\"))", 
"           )", "", "#Create a  factor column", "linelist$source[is.na(linelist$source)] <- \"missing\"", 
"linelist$source <- factor(linelist$source)", ""), chunk_opts = list(
    label = "setup", include = FALSE)), setup = NULL, chunks = list(
    list(label = "crosstab_age", code = "  ", opts = list(label = "\"crosstab_age\"", 
        exercise = "TRUE"), engine = "r")), code_check = NULL, 
    error_check = NULL, check = structure(c("  grade_this({", 
    "    # Automatically pass if .result equal to .solution", 
    "    pass_if_equal()", "    # Default to failing grade with feedback", 
    "    fail(message = \"Remember to drop NA values using 'show_na = FALSE'\")", 
    "  })"), chunk_opts = list(label = "crosstab_age-check")), 
    solution = structure(c("linelist %>%", "    tabyl(age_cat, show_na = FALSE) %>%", 
    "    adorn_pct_formatting(digits = 2)"), chunk_opts = list(
        label = "crosstab_age-solution")), options = list(eval = FALSE, 
        echo = TRUE, results = "markup", tidy = FALSE, tidy.opts = NULL, 
        collapse = FALSE, prompt = FALSE, comment = NA, highlight = FALSE, 
        size = "normalsize", background = "#F7F7F7", strip.white = TRUE, 
        cache = 0, cache.path = "4_data_cleaning_descriptive_tables_and_statistical_tests_cache/html/", 
        cache.vars = NULL, cache.lazy = TRUE, dependson = NULL, 
        autodep = FALSE, cache.rebuild = FALSE, fig.keep = "high", 
        fig.show = "asis", fig.align = "default", fig.path = "4_data_cleaning_descriptive_tables_and_statistical_tests_files/figure-html/", 
        dev = "png", dev.args = NULL, dpi = 192, fig.ext = "png", 
        fig.width = 6.5, fig.height = 4, fig.env = "figure", 
        fig.cap = NULL, fig.scap = NULL, fig.lp = "fig:", fig.subcap = NULL, 
        fig.pos = "", out.width = 624, out.height = NULL, out.extra = NULL, 
        fig.retina = 2, external = TRUE, sanitize = FALSE, interval = 1, 
        aniopts = "controls,loop", warning = FALSE, error = FALSE, 
        message = FALSE, render = NULL, ref.label = NULL, child = NULL, 
        engine = "r", split = FALSE, include = TRUE, purl = TRUE, 
        max.print = 1000, exercise.timelimit = 60, exercise.checker = "function (label = NULL, solution_code = NULL, user_code = NULL, \n    check_code = NULL, envir_result = NULL, evaluate_result = NULL, \n    envir_prep = NULL, last_value = NULL, stage = NULL, ...) \n{\n    (utils::getFromNamespace(\"check_exercise\", \"gradethis\"))(label = label, \n        solution_code = solution_code, user_code = user_code, \n        check_code = check_code, envir_result = envir_result, \n        evaluate_result = evaluate_result, envir_prep = envir_prep, \n        last_value = last_value, stage = stage, ...)\n}", 
        exercise.error.check.code = "gradethis_error_checker()", 
        exercise.eval = FALSE, label = "crosstab_age", exercise = TRUE, 
        code = "  ", out.width.px = 624, out.height.px = 384, 
        params.src = "crosstab_age, exercise = TRUE", fig.num = 0L, 
        exercise.df_print = "paged"), engine = "r"), class = "tutorial_exercise"))
</script>
 
<script type="application/shiny-prerendered" data-context="server">
`tutorial-exercise-crosstab_age_gender-result` <- learnr:::setup_exercise_handler(reactive(req(input$`tutorial-exercise-crosstab_age_gender-code-editor`)), session)
output$`tutorial-exercise-crosstab_age_gender-output` <- renderUI({
  `tutorial-exercise-crosstab_age_gender-result`()
})
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::store_exercise_cache(structure(list(global_setup = structure(c("knitr::opts_chunk$set(warning = FALSE, message = FALSE) ", 
"# load packages ----------------------------------------------------------------", 
"library(learnr)", "library(gradethis)", "library(tidyverse)", 
"library(here)", "library(janitor)", "library(rio)", "library(basket) # not sure if we need this", 
"library(etude) # helper functions for gradethis", "library(epikit)", 
"library(linelist)", "library(lubridate)", "library(fastLink)", 
"", "# set options for exercises and checking ---------------------------------------", 
"gradethis_setup()", "", "learnr::tutorial_options(exercise.timelimit = 60) ", 
"  #exercise.checker = gradethis::grade_learnr) ", "    # alternatively, submitr::null_code_checker", 
"", "", "# event recorder ---------------------------------------------------------------", 
"# see https://github.com/dtkaplan/submitr/blob/master/R/make_a_recorder.R", 
"tutorial_options(exercise.eval = FALSE)  # pre-evaluate exercises", 
"", "vfun <- submitr::make_basic_validator(NULL, \"hello\") #basket::check_valid", 
"", "new_recorder <- function(tutorial_id, tutorial_version, user_id, event, data) {", 
"    cat(", "      tutorial_id, ", "      \" (v\", tutorial_version, \"); \",", 
"      format(Sys.time(), \"%Y-%M%-%D %H:%M:%S %Z\"), \"; \",", 
"      user_id, \"; \",", "      event, \"; \",", "      data$label, \"; \",", 
"      data$answers, \"; \",", "      data$code, \"; \",", "      data$correct, \"\\n\", sep = \"\",", 
"      ", "      file = here::here(\"event_records\", \"learnr_basics.txt\"),", 
"      append = TRUE)", "}", "", "options(tutorial.event_recorder = new_recorder)", 
"", "", "# hide non-exercise code chunks ------------------------------------------------", 
"knitr::opts_chunk$set(echo = FALSE)", "", "", "# data prep --------------------------------------------------------------------", 
"linelist_raw <- rio::import(here::here(\"data\", \"linelist_raw.xlsx\"))", 
"linelist <- rio::import(here::here(\"data\", \"linelist_cleaned.rds\"))", 
"malaria_counts <- rio::import(here::here(\"data\", \"malaria_facility_count_data.rds\"))", 
"", "#Incorrectly assign class so we can clean later", "linelist_raw$age <- as.character(linelist_raw$age)", 
"linelist_raw$`date onset` <- as.character(linelist_raw$`date onset`)", 
"", "#Going to randomly convert some temperatures to Fahrenheit instead of celcius for an exercise later", 
"set.seed(1)", "take_these <- sample(1:nrow(linelist_raw), 500)", 
"", "linelist_raw$temp[take_these] <- (linelist_raw$temp[take_these] * 9/5) + 32", 
"", "#Create some dummy df's for pivoting exercises", "df <- data.frame(id = c(\"A\", \"B\", \"C\"),", 
"           obs1_date = c(\"2021-04-23\", \"2021-04-23\", \"2021-04-23\"),", 
"           obs1_status = c(\"Healthy\", \"Healthy\", \"Missing\"),", 
"           obs2_date = c(\"2021-04-24\", \"2021-04-24\", \"2021-04-24\"),", 
"           obs2_status = c(\"Healthy\", \"Healthy\", \"Healthy\"),", 
"           obs3_date = c(\"2021-04-25\", \"2021-04-25\", \"2021-04-25\"),", 
"           obs3_status = c(\"Unwell\", \"Healthy\", \"Healthy\"))", 
"", "fever_followup <- data.frame(patient = 1:10,", "                             observation1_date = Sys.Date() - 21,", 
"                        observation2_date = Sys.Date() - 14,", 
"                        observation3_date = Sys.Date() - 7,", 
"                        observation1_temp = sample(seq(35, 45, by = 0.1), 10, replace = T),", 
"                        observation2_temp = sample(seq(35, 45, by = 0.1), 10, replace = T),", 
"                        observation3_temp = sample(seq(35, 45, by = 0.1), 10, replace = T))", 
"", "fever_followup$observation1_fever <- ifelse(fever_followup$observation1_date < 38, \"No fever\",", 
"                              ifelse(fever_followup$observation1_date >= 38 & fever_followup$observation1_date< 39.4, \"Mild fever\",", 
"                                     ifelse(fever_followup$observation1_date >= 39.4, \"High fever\", NA)))", 
"fever_followup$observation2_fever <- ifelse(fever_followup$observation2_date < 38, \"No fever\",", 
"                              ifelse(fever_followup$observation2_date >= 38 & fever_followup$observation2_date< 39.4, \"Mild fever\",", 
"                                     ifelse(fever_followup$observation2_date >= 39.4, \"High fever\", NA)))", 
"fever_followup$observation3_fever <- ifelse(fever_followup$observation3_date < 38, \"No fever\",", 
"                              ifelse(fever_followup$observation3_date >= 38 & fever_followup$observation3_date< 39.4, \"Mild fever\",", 
"                                     ifelse(fever_followup$observation3_date >= 39.4, \"High fever\", NA)))", 
"", "", "fill_table_1 <- ", "  tibble::tribble(", "       ~Measurement, ~Facility, ~Cases,", 
"                  1,  \"Hosp 1\",     66,", "                  2,  \"Hosp 1\",     26,", 
"                  3,  \"Hosp 1\",      8,", "                  1,  \"Hosp 2\",     71,", 
"                  2,  \"Hosp 2\",     62,", "                  3,  \"Hosp 2\",     70,", 
"                  1,  \"Hosp 3\",     47,", "                  2,  \"Hosp 3\",     70,", 
"                  3,  \"Hosp 3\",     38,", "       )", "", 
"fill_table_2 <- ", "  tibble::tribble(", "    ~Year, ~Measurement, ~Facility, ~Cases,", 
"     2000,            1,  \"Hosp 4\",     82,", "     2001,            2,  \"Hosp 4\",     87,", 
"     2002,            3,  \"Hosp 4\",     46", "  )", "", "linelist_mini <- linelist %>%                 # start with original linelist", 
"  select(case_id, date_onset, hospital) %>%   # select columns", 
"  head(10)     ", "", "# Make the hospital information dataframe", 
"hosp_info = data.frame(", "  hosp_name     = c(\"central hospital\", \"military\", \"military\", \"port\", \"St. Mark's\", \"ignace\", \"sisters\"),", 
"  catchment_pop = c(1950280, 40500, 10000, 50280, 12000, 5000, 4200),", 
"  level         = c(\"Tertiary\", \"Secondary\", \"Primary\", \"Secondary\", \"Secondary\", \"Primary\", \"Primary\")", 
")", "", "#Make some ID's and dataframes to join for exercises", 
"patient_ID <- apply(sapply(1:10, function(x) sample(c(LETTERS, 0:9), 10, replace = T)), 2, paste0, collapse = \"\")", 
"", "", "patient_symptoms <- data.frame(patient_id = sample(patient_ID, 10),", 
"                  linelist %>%", "    select(fever:vomit) %>%", 
"    filter(row_number() %in% 1:10))", "", "patient_dates <- data.frame(id = patient_ID,", 
"                  linelist %>%", "    select(contains(\"date\")) %>%", 
"    filter(row_number() %in% c(sample(which(is.na(linelist$date_onset)), 5),", 
"  sample(which(!is.na(linelist$date_onset)), 5))))", "", "#Probablistic matching", 
"", "# make datasets", "", "cases <- tribble(", "  ~gender, ~first,      ~middle,     ~last,        ~yr,   ~mon, ~day, ~district,", 
"  \"M\",     \"Amir\",      NA,          \"Khan\",       1989,  11,   22,   \"River\",", 
"  \"M\",     \"Anthony\",   \"B.\",        \"Smith\",      1970, 09, 19,      \"River\", ", 
"  \"F\",     \"Marialisa\", \"Contreras\", \"Rodrigues\",  1972, 04, 15,      \"River\",", 
"  \"F\",     \"Elizabeth\", \"Casteel\",   \"Chase\",      1954, 03, 03,      \"City\",", 
"  \"M\",     \"Jose\",      \"Sanchez\",   \"Lopez\",      1996, 01, 06,      \"City\",", 
"  \"F\",     \"Cassidy\",   \"Jones\",      \"Davis\",     1980, 07, 20,      \"City\",", 
"  \"M\",     \"Michael\",   \"Murphy\",     \"O'Calaghan\",1969, 04, 12,      \"Rural\", ", 
"  \"M\",     \"Oliver\",    \"Laurent\",    \"De Bordow\" , 1971, 02, 04,     \"River\",", 
"  \"F\",      \"Blessing\",  NA,          \"Adebayo\",   1955,  02, 14,     \"Rural\"", 
")", "", "results <- tribble(", "  ~gender,  ~first,     ~middle,     ~last,          ~yr, ~mon, ~day, ~district, ~result,", 
"  \"M\",      \"Amir\",     NA,          \"Khan\",         1989, 11,   22,  \"River\", \"positive\",", 
"  \"M\",      \"Tony\",   \"B\",         \"Smith\",          1970, 09,   19,  \"River\", \"positive\",", 
"  \"F\",      \"Maria\",    \"Contreras\", \"Rodriguez\",    1972, 04,   15,  \"Cty\",   \"negative\",", 
"  \"F\",      \"Betty\",    \"Castel\",   \"Chase\",        1954,  03,   30,  \"City\",  \"positive\",", 
"  \"F\",      \"Andrea\",   NA,          \"Kumaraswamy\",  2001, 01,   05,  \"Rural\", \"positive\",      ", 
"  \"F\",      \"Caroline\", NA,          \"Wang\",         1988, 12,   11,  \"Rural\", \"negative\",", 
"  \"F\",      \"Trang\",    NA,          \"Nguyen\",       1981, 06,   10,  \"Rural\", \"positive\",", 
"  \"M\",      \"Olivier\" , \"Laurent\",   \"De Bordeaux\",  NA,   NA,   NA,  \"River\", \"positive\",", 
"  \"M\",      \"Mike\",     \"Murphy\",    \"O'Callaghan\",  1969, 04,   12,  \"Rural\", \"negative\",", 
"  \"F\",      \"Cassidy\",  \"Jones\",     \"Davis\",        1980, 07,   02,  \"City\",  \"positive\",", 
"  \"M\",      \"Mohammad\", NA,          \"Ali\",          1942, 01,   17,  \"City\",  \"negative\",", 
"  NA,       \"Jose\",     \"Sanchez\",   \"Lopez\",        1995, 01,   06,  \"City\",  \"negative\",", 
"  \"M\",      \"Abubakar\", NA,          \"Abullahi\",     1960, 01,   01,  \"River\", \"positive\",", 
"  \"F\",      \"Maria\",    \"Salinas\",   \"Contreras\",    1955, 03,   03,  \"River\", \"positive\"", 
"  )", "", "", "cases_dup <- rbind(cases,", "                   data.frame(", 
"                     gender = c(\"M\", \"F\"),", "           first = c(\"Tony\", \"Maria\"),", 
"           middle = c(\"B.\", \"Contreras\"),", "           last = c(\"Smith\", \"Rodriguez\"),", 
"           yr = c(1970, 1972),", "           mon = c(9, 4),", 
"           day = c(19, 15),", "           district = c(\"River\", \"River\"))", 
"           )", "", "#Create a  factor column", "linelist$source[is.na(linelist$source)] <- \"missing\"", 
"linelist$source <- factor(linelist$source)", ""), chunk_opts = list(
    label = "setup", include = FALSE)), setup = NULL, chunks = list(
    list(label = "crosstab_age_gender", code = "  ", opts = list(
        label = "\"crosstab_age_gender\"", exercise = "TRUE"), 
        engine = "r")), code_check = NULL, error_check = NULL, 
    check = structure(c("  grade_this({", "    # Automatically pass if .result equal to .solution", 
    "    pass_if_equal()", "    # Default to failing grade with feedback", 
    "    fail()", "  })"), chunk_opts = list(label = "crosstab_age_gender-check")), 
    solution = structure(c("linelist %>%                                  ", 
    "  tabyl(age_cat, gender) %>%", "  adorn_totals(where = \"row\") %>%", 
    "  adorn_percentages(denominator = \"row\") %>%", "  adorn_pct_formatting()"
    ), chunk_opts = list(label = "crosstab_age_gender-solution")), 
    options = list(eval = FALSE, echo = TRUE, results = "markup", 
        tidy = FALSE, tidy.opts = NULL, collapse = FALSE, prompt = FALSE, 
        comment = NA, highlight = FALSE, size = "normalsize", 
        background = "#F7F7F7", strip.white = TRUE, cache = 0, 
        cache.path = "4_data_cleaning_descriptive_tables_and_statistical_tests_cache/html/", 
        cache.vars = NULL, cache.lazy = TRUE, dependson = NULL, 
        autodep = FALSE, cache.rebuild = FALSE, fig.keep = "high", 
        fig.show = "asis", fig.align = "default", fig.path = "4_data_cleaning_descriptive_tables_and_statistical_tests_files/figure-html/", 
        dev = "png", dev.args = NULL, dpi = 192, fig.ext = "png", 
        fig.width = 6.5, fig.height = 4, fig.env = "figure", 
        fig.cap = NULL, fig.scap = NULL, fig.lp = "fig:", fig.subcap = NULL, 
        fig.pos = "", out.width = 624, out.height = NULL, out.extra = NULL, 
        fig.retina = 2, external = TRUE, sanitize = FALSE, interval = 1, 
        aniopts = "controls,loop", warning = FALSE, error = FALSE, 
        message = FALSE, render = NULL, ref.label = NULL, child = NULL, 
        engine = "r", split = FALSE, include = TRUE, purl = TRUE, 
        max.print = 1000, exercise.timelimit = 60, exercise.checker = "function (label = NULL, solution_code = NULL, user_code = NULL, \n    check_code = NULL, envir_result = NULL, evaluate_result = NULL, \n    envir_prep = NULL, last_value = NULL, stage = NULL, ...) \n{\n    (utils::getFromNamespace(\"check_exercise\", \"gradethis\"))(label = label, \n        solution_code = solution_code, user_code = user_code, \n        check_code = check_code, envir_result = envir_result, \n        evaluate_result = evaluate_result, envir_prep = envir_prep, \n        last_value = last_value, stage = stage, ...)\n}", 
        exercise.error.check.code = "gradethis_error_checker()", 
        exercise.eval = FALSE, label = "crosstab_age_gender", 
        exercise = TRUE, code = "  ", out.width.px = 624, out.height.px = 384, 
        params.src = "crosstab_age_gender, exercise = TRUE", 
        fig.num = 0L, exercise.df_print = "paged"), engine = "r"), class = "tutorial_exercise"))
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::question_prerendered_chunk(structure(list(type = "learnr_radio", label = "quiz11-1", question = structure("Which of these would change the row name title to &#39;Age category&#39; and add a title to the groups (gender) of &#39;Gender&#39;?", html = TRUE, class = c("html", 
"character")), answers = list(structure(list(id = "lnr_ans_56285", 
    option = "adorn_totals(row_name = 'Age Category', col_name = 'Gender')", 
    value = "adorn_totals(row_name = 'Age Category', col_name = 'Gender')", 
    label = structure("adorn_totals(row_name = &#39;Age Category&#39;, col_name = &#39;Gender&#39;)", html = TRUE, class = c("html", 
    "character")), correct = FALSE, message = NULL), class = c("tutorial_question_answer", 
"tutorial_quiz_answer")), structure(list(id = "lnr_ans_10d865d", 
    option = "tabyl(row_name = 'Age Category', col_name = 'Gender')", 
    value = "tabyl(row_name = 'Age Category', col_name = 'Gender')", 
    label = structure("tabyl(row_name = &#39;Age Category&#39;, col_name = &#39;Gender&#39;)", html = TRUE, class = c("html", 
    "character")), correct = FALSE, message = NULL), class = c("tutorial_question_answer", 
"tutorial_quiz_answer")), structure(list(id = "lnr_ans_1600f1f", 
    option = "adorn_title(row_name = 'Age Category', col_name = 'Gender')", 
    value = "adorn_title(row_name = 'Age Category', col_name = 'Gender')", 
    label = structure("adorn_title(row_name = &#39;Age Category&#39;, col_name = &#39;Gender&#39;)", html = TRUE, class = c("html", 
    "character")), correct = TRUE, message = NULL), class = c("tutorial_question_answer", 
"tutorial_quiz_answer"))), button_labels = list(submit = structure("<span data-i18n=\"button.questionsubmit\">Submit Answer<\u002fspan>", html = TRUE, class = c("html", 
"character")), try_again = structure("<span data-i18n=\"button.questiontryagain\">Try Again<\u002fspan>", html = TRUE, class = c("html", 
"character"))), messages = list(correct = structure("Correct!", html = TRUE, class = c("html", 
"character")), try_again = structure("Incorrect", html = TRUE, class = c("html", 
"character")), incorrect = structure("Incorrect", html = TRUE, class = c("html", 
"character")), message = NULL, post_message = NULL), ids = list(
    answer = "quiz11-1-answer", question = "quiz11-1"), loading = structure("<strong>Loading:<\u002fstrong> \nWhich of these would change the row name title to &#39;Age category&#39; and add a title to the groups (gender) of &#39;Gender&#39;?\n<br/><br/><br/>", html = TRUE, class = c("html", 
"character")), random_answer_order = FALSE, allow_retry = FALSE, 
    seed = 28152902.4868903, options = list()), class = c("learnr_radio", 
"tutorial_question")), session = session)
</script>
 
<script type="application/shiny-prerendered" data-context="server">
`tutorial-exercise-dplyr_crosstab-result` <- learnr:::setup_exercise_handler(reactive(req(input$`tutorial-exercise-dplyr_crosstab-code-editor`)), session)
output$`tutorial-exercise-dplyr_crosstab-output` <- renderUI({
  `tutorial-exercise-dplyr_crosstab-result`()
})
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::store_exercise_cache(structure(list(global_setup = structure(c("knitr::opts_chunk$set(warning = FALSE, message = FALSE) ", 
"# load packages ----------------------------------------------------------------", 
"library(learnr)", "library(gradethis)", "library(tidyverse)", 
"library(here)", "library(janitor)", "library(rio)", "library(basket) # not sure if we need this", 
"library(etude) # helper functions for gradethis", "library(epikit)", 
"library(linelist)", "library(lubridate)", "library(fastLink)", 
"", "# set options for exercises and checking ---------------------------------------", 
"gradethis_setup()", "", "learnr::tutorial_options(exercise.timelimit = 60) ", 
"  #exercise.checker = gradethis::grade_learnr) ", "    # alternatively, submitr::null_code_checker", 
"", "", "# event recorder ---------------------------------------------------------------", 
"# see https://github.com/dtkaplan/submitr/blob/master/R/make_a_recorder.R", 
"tutorial_options(exercise.eval = FALSE)  # pre-evaluate exercises", 
"", "vfun <- submitr::make_basic_validator(NULL, \"hello\") #basket::check_valid", 
"", "new_recorder <- function(tutorial_id, tutorial_version, user_id, event, data) {", 
"    cat(", "      tutorial_id, ", "      \" (v\", tutorial_version, \"); \",", 
"      format(Sys.time(), \"%Y-%M%-%D %H:%M:%S %Z\"), \"; \",", 
"      user_id, \"; \",", "      event, \"; \",", "      data$label, \"; \",", 
"      data$answers, \"; \",", "      data$code, \"; \",", "      data$correct, \"\\n\", sep = \"\",", 
"      ", "      file = here::here(\"event_records\", \"learnr_basics.txt\"),", 
"      append = TRUE)", "}", "", "options(tutorial.event_recorder = new_recorder)", 
"", "", "# hide non-exercise code chunks ------------------------------------------------", 
"knitr::opts_chunk$set(echo = FALSE)", "", "", "# data prep --------------------------------------------------------------------", 
"linelist_raw <- rio::import(here::here(\"data\", \"linelist_raw.xlsx\"))", 
"linelist <- rio::import(here::here(\"data\", \"linelist_cleaned.rds\"))", 
"malaria_counts <- rio::import(here::here(\"data\", \"malaria_facility_count_data.rds\"))", 
"", "#Incorrectly assign class so we can clean later", "linelist_raw$age <- as.character(linelist_raw$age)", 
"linelist_raw$`date onset` <- as.character(linelist_raw$`date onset`)", 
"", "#Going to randomly convert some temperatures to Fahrenheit instead of celcius for an exercise later", 
"set.seed(1)", "take_these <- sample(1:nrow(linelist_raw), 500)", 
"", "linelist_raw$temp[take_these] <- (linelist_raw$temp[take_these] * 9/5) + 32", 
"", "#Create some dummy df's for pivoting exercises", "df <- data.frame(id = c(\"A\", \"B\", \"C\"),", 
"           obs1_date = c(\"2021-04-23\", \"2021-04-23\", \"2021-04-23\"),", 
"           obs1_status = c(\"Healthy\", \"Healthy\", \"Missing\"),", 
"           obs2_date = c(\"2021-04-24\", \"2021-04-24\", \"2021-04-24\"),", 
"           obs2_status = c(\"Healthy\", \"Healthy\", \"Healthy\"),", 
"           obs3_date = c(\"2021-04-25\", \"2021-04-25\", \"2021-04-25\"),", 
"           obs3_status = c(\"Unwell\", \"Healthy\", \"Healthy\"))", 
"", "fever_followup <- data.frame(patient = 1:10,", "                             observation1_date = Sys.Date() - 21,", 
"                        observation2_date = Sys.Date() - 14,", 
"                        observation3_date = Sys.Date() - 7,", 
"                        observation1_temp = sample(seq(35, 45, by = 0.1), 10, replace = T),", 
"                        observation2_temp = sample(seq(35, 45, by = 0.1), 10, replace = T),", 
"                        observation3_temp = sample(seq(35, 45, by = 0.1), 10, replace = T))", 
"", "fever_followup$observation1_fever <- ifelse(fever_followup$observation1_date < 38, \"No fever\",", 
"                              ifelse(fever_followup$observation1_date >= 38 & fever_followup$observation1_date< 39.4, \"Mild fever\",", 
"                                     ifelse(fever_followup$observation1_date >= 39.4, \"High fever\", NA)))", 
"fever_followup$observation2_fever <- ifelse(fever_followup$observation2_date < 38, \"No fever\",", 
"                              ifelse(fever_followup$observation2_date >= 38 & fever_followup$observation2_date< 39.4, \"Mild fever\",", 
"                                     ifelse(fever_followup$observation2_date >= 39.4, \"High fever\", NA)))", 
"fever_followup$observation3_fever <- ifelse(fever_followup$observation3_date < 38, \"No fever\",", 
"                              ifelse(fever_followup$observation3_date >= 38 & fever_followup$observation3_date< 39.4, \"Mild fever\",", 
"                                     ifelse(fever_followup$observation3_date >= 39.4, \"High fever\", NA)))", 
"", "", "fill_table_1 <- ", "  tibble::tribble(", "       ~Measurement, ~Facility, ~Cases,", 
"                  1,  \"Hosp 1\",     66,", "                  2,  \"Hosp 1\",     26,", 
"                  3,  \"Hosp 1\",      8,", "                  1,  \"Hosp 2\",     71,", 
"                  2,  \"Hosp 2\",     62,", "                  3,  \"Hosp 2\",     70,", 
"                  1,  \"Hosp 3\",     47,", "                  2,  \"Hosp 3\",     70,", 
"                  3,  \"Hosp 3\",     38,", "       )", "", 
"fill_table_2 <- ", "  tibble::tribble(", "    ~Year, ~Measurement, ~Facility, ~Cases,", 
"     2000,            1,  \"Hosp 4\",     82,", "     2001,            2,  \"Hosp 4\",     87,", 
"     2002,            3,  \"Hosp 4\",     46", "  )", "", "linelist_mini <- linelist %>%                 # start with original linelist", 
"  select(case_id, date_onset, hospital) %>%   # select columns", 
"  head(10)     ", "", "# Make the hospital information dataframe", 
"hosp_info = data.frame(", "  hosp_name     = c(\"central hospital\", \"military\", \"military\", \"port\", \"St. Mark's\", \"ignace\", \"sisters\"),", 
"  catchment_pop = c(1950280, 40500, 10000, 50280, 12000, 5000, 4200),", 
"  level         = c(\"Tertiary\", \"Secondary\", \"Primary\", \"Secondary\", \"Secondary\", \"Primary\", \"Primary\")", 
")", "", "#Make some ID's and dataframes to join for exercises", 
"patient_ID <- apply(sapply(1:10, function(x) sample(c(LETTERS, 0:9), 10, replace = T)), 2, paste0, collapse = \"\")", 
"", "", "patient_symptoms <- data.frame(patient_id = sample(patient_ID, 10),", 
"                  linelist %>%", "    select(fever:vomit) %>%", 
"    filter(row_number() %in% 1:10))", "", "patient_dates <- data.frame(id = patient_ID,", 
"                  linelist %>%", "    select(contains(\"date\")) %>%", 
"    filter(row_number() %in% c(sample(which(is.na(linelist$date_onset)), 5),", 
"  sample(which(!is.na(linelist$date_onset)), 5))))", "", "#Probablistic matching", 
"", "# make datasets", "", "cases <- tribble(", "  ~gender, ~first,      ~middle,     ~last,        ~yr,   ~mon, ~day, ~district,", 
"  \"M\",     \"Amir\",      NA,          \"Khan\",       1989,  11,   22,   \"River\",", 
"  \"M\",     \"Anthony\",   \"B.\",        \"Smith\",      1970, 09, 19,      \"River\", ", 
"  \"F\",     \"Marialisa\", \"Contreras\", \"Rodrigues\",  1972, 04, 15,      \"River\",", 
"  \"F\",     \"Elizabeth\", \"Casteel\",   \"Chase\",      1954, 03, 03,      \"City\",", 
"  \"M\",     \"Jose\",      \"Sanchez\",   \"Lopez\",      1996, 01, 06,      \"City\",", 
"  \"F\",     \"Cassidy\",   \"Jones\",      \"Davis\",     1980, 07, 20,      \"City\",", 
"  \"M\",     \"Michael\",   \"Murphy\",     \"O'Calaghan\",1969, 04, 12,      \"Rural\", ", 
"  \"M\",     \"Oliver\",    \"Laurent\",    \"De Bordow\" , 1971, 02, 04,     \"River\",", 
"  \"F\",      \"Blessing\",  NA,          \"Adebayo\",   1955,  02, 14,     \"Rural\"", 
")", "", "results <- tribble(", "  ~gender,  ~first,     ~middle,     ~last,          ~yr, ~mon, ~day, ~district, ~result,", 
"  \"M\",      \"Amir\",     NA,          \"Khan\",         1989, 11,   22,  \"River\", \"positive\",", 
"  \"M\",      \"Tony\",   \"B\",         \"Smith\",          1970, 09,   19,  \"River\", \"positive\",", 
"  \"F\",      \"Maria\",    \"Contreras\", \"Rodriguez\",    1972, 04,   15,  \"Cty\",   \"negative\",", 
"  \"F\",      \"Betty\",    \"Castel\",   \"Chase\",        1954,  03,   30,  \"City\",  \"positive\",", 
"  \"F\",      \"Andrea\",   NA,          \"Kumaraswamy\",  2001, 01,   05,  \"Rural\", \"positive\",      ", 
"  \"F\",      \"Caroline\", NA,          \"Wang\",         1988, 12,   11,  \"Rural\", \"negative\",", 
"  \"F\",      \"Trang\",    NA,          \"Nguyen\",       1981, 06,   10,  \"Rural\", \"positive\",", 
"  \"M\",      \"Olivier\" , \"Laurent\",   \"De Bordeaux\",  NA,   NA,   NA,  \"River\", \"positive\",", 
"  \"M\",      \"Mike\",     \"Murphy\",    \"O'Callaghan\",  1969, 04,   12,  \"Rural\", \"negative\",", 
"  \"F\",      \"Cassidy\",  \"Jones\",     \"Davis\",        1980, 07,   02,  \"City\",  \"positive\",", 
"  \"M\",      \"Mohammad\", NA,          \"Ali\",          1942, 01,   17,  \"City\",  \"negative\",", 
"  NA,       \"Jose\",     \"Sanchez\",   \"Lopez\",        1995, 01,   06,  \"City\",  \"negative\",", 
"  \"M\",      \"Abubakar\", NA,          \"Abullahi\",     1960, 01,   01,  \"River\", \"positive\",", 
"  \"F\",      \"Maria\",    \"Salinas\",   \"Contreras\",    1955, 03,   03,  \"River\", \"positive\"", 
"  )", "", "", "cases_dup <- rbind(cases,", "                   data.frame(", 
"                     gender = c(\"M\", \"F\"),", "           first = c(\"Tony\", \"Maria\"),", 
"           middle = c(\"B.\", \"Contreras\"),", "           last = c(\"Smith\", \"Rodriguez\"),", 
"           yr = c(1970, 1972),", "           mon = c(9, 4),", 
"           day = c(19, 15),", "           district = c(\"River\", \"River\"))", 
"           )", "", "#Create a  factor column", "linelist$source[is.na(linelist$source)] <- \"missing\"", 
"linelist$source <- factor(linelist$source)", ""), chunk_opts = list(
    label = "setup", include = FALSE)), setup = NULL, chunks = list(
    list(label = "dplyr_crosstab", code = "  linelist %>%\n  ", 
        opts = list(label = "\"dplyr_crosstab\"", exercise = "TRUE"), 
        engine = "r")), code_check = NULL, error_check = NULL, 
    check = structure(c("  grade_this({", "    # Automatically pass if .result equal to .solution", 
    "    pass_if_equal()", "    # Default to failing grade with feedback", 
    "    fail()", "  })"), chunk_opts = list(label = "dplyr_crosstab-check")), 
    solution = structure(c("linelist %>% ", "    drop_na(gender, outcome) %>%", 
    "    group_by(gender, outcome) %>%", "    count()"), chunk_opts = list(
        label = "dplyr_crosstab-solution")), options = list(eval = FALSE, 
        echo = TRUE, results = "markup", tidy = FALSE, tidy.opts = NULL, 
        collapse = FALSE, prompt = FALSE, comment = NA, highlight = FALSE, 
        size = "normalsize", background = "#F7F7F7", strip.white = TRUE, 
        cache = 0, cache.path = "4_data_cleaning_descriptive_tables_and_statistical_tests_cache/html/", 
        cache.vars = NULL, cache.lazy = TRUE, dependson = NULL, 
        autodep = FALSE, cache.rebuild = FALSE, fig.keep = "high", 
        fig.show = "asis", fig.align = "default", fig.path = "4_data_cleaning_descriptive_tables_and_statistical_tests_files/figure-html/", 
        dev = "png", dev.args = NULL, dpi = 192, fig.ext = "png", 
        fig.width = 6.5, fig.height = 4, fig.env = "figure", 
        fig.cap = NULL, fig.scap = NULL, fig.lp = "fig:", fig.subcap = NULL, 
        fig.pos = "", out.width = 624, out.height = NULL, out.extra = NULL, 
        fig.retina = 2, external = TRUE, sanitize = FALSE, interval = 1, 
        aniopts = "controls,loop", warning = FALSE, error = FALSE, 
        message = FALSE, render = NULL, ref.label = NULL, child = NULL, 
        engine = "r", split = FALSE, include = TRUE, purl = TRUE, 
        max.print = 1000, exercise.timelimit = 60, exercise.checker = "function (label = NULL, solution_code = NULL, user_code = NULL, \n    check_code = NULL, envir_result = NULL, evaluate_result = NULL, \n    envir_prep = NULL, last_value = NULL, stage = NULL, ...) \n{\n    (utils::getFromNamespace(\"check_exercise\", \"gradethis\"))(label = label, \n        solution_code = solution_code, user_code = user_code, \n        check_code = check_code, envir_result = envir_result, \n        evaluate_result = evaluate_result, envir_prep = envir_prep, \n        last_value = last_value, stage = stage, ...)\n}", 
        exercise.error.check.code = "gradethis_error_checker()", 
        exercise.eval = FALSE, label = "dplyr_crosstab", exercise = TRUE, 
        code = c("  linelist %>%", "  "), out.width.px = 624, 
        out.height.px = 384, params.src = "dplyr_crosstab, exercise = TRUE", 
        fig.num = 0, exercise.df_print = "paged"), engine = "r"), class = "tutorial_exercise"))
</script>
 
<script type="application/shiny-prerendered" data-context="server">
`tutorial-exercise-dplyr_summarise-result` <- learnr:::setup_exercise_handler(reactive(req(input$`tutorial-exercise-dplyr_summarise-code-editor`)), session)
output$`tutorial-exercise-dplyr_summarise-output` <- renderUI({
  `tutorial-exercise-dplyr_summarise-result`()
})
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::store_exercise_cache(structure(list(global_setup = structure(c("knitr::opts_chunk$set(warning = FALSE, message = FALSE) ", 
"# load packages ----------------------------------------------------------------", 
"library(learnr)", "library(gradethis)", "library(tidyverse)", 
"library(here)", "library(janitor)", "library(rio)", "library(basket) # not sure if we need this", 
"library(etude) # helper functions for gradethis", "library(epikit)", 
"library(linelist)", "library(lubridate)", "library(fastLink)", 
"", "# set options for exercises and checking ---------------------------------------", 
"gradethis_setup()", "", "learnr::tutorial_options(exercise.timelimit = 60) ", 
"  #exercise.checker = gradethis::grade_learnr) ", "    # alternatively, submitr::null_code_checker", 
"", "", "# event recorder ---------------------------------------------------------------", 
"# see https://github.com/dtkaplan/submitr/blob/master/R/make_a_recorder.R", 
"tutorial_options(exercise.eval = FALSE)  # pre-evaluate exercises", 
"", "vfun <- submitr::make_basic_validator(NULL, \"hello\") #basket::check_valid", 
"", "new_recorder <- function(tutorial_id, tutorial_version, user_id, event, data) {", 
"    cat(", "      tutorial_id, ", "      \" (v\", tutorial_version, \"); \",", 
"      format(Sys.time(), \"%Y-%M%-%D %H:%M:%S %Z\"), \"; \",", 
"      user_id, \"; \",", "      event, \"; \",", "      data$label, \"; \",", 
"      data$answers, \"; \",", "      data$code, \"; \",", "      data$correct, \"\\n\", sep = \"\",", 
"      ", "      file = here::here(\"event_records\", \"learnr_basics.txt\"),", 
"      append = TRUE)", "}", "", "options(tutorial.event_recorder = new_recorder)", 
"", "", "# hide non-exercise code chunks ------------------------------------------------", 
"knitr::opts_chunk$set(echo = FALSE)", "", "", "# data prep --------------------------------------------------------------------", 
"linelist_raw <- rio::import(here::here(\"data\", \"linelist_raw.xlsx\"))", 
"linelist <- rio::import(here::here(\"data\", \"linelist_cleaned.rds\"))", 
"malaria_counts <- rio::import(here::here(\"data\", \"malaria_facility_count_data.rds\"))", 
"", "#Incorrectly assign class so we can clean later", "linelist_raw$age <- as.character(linelist_raw$age)", 
"linelist_raw$`date onset` <- as.character(linelist_raw$`date onset`)", 
"", "#Going to randomly convert some temperatures to Fahrenheit instead of celcius for an exercise later", 
"set.seed(1)", "take_these <- sample(1:nrow(linelist_raw), 500)", 
"", "linelist_raw$temp[take_these] <- (linelist_raw$temp[take_these] * 9/5) + 32", 
"", "#Create some dummy df's for pivoting exercises", "df <- data.frame(id = c(\"A\", \"B\", \"C\"),", 
"           obs1_date = c(\"2021-04-23\", \"2021-04-23\", \"2021-04-23\"),", 
"           obs1_status = c(\"Healthy\", \"Healthy\", \"Missing\"),", 
"           obs2_date = c(\"2021-04-24\", \"2021-04-24\", \"2021-04-24\"),", 
"           obs2_status = c(\"Healthy\", \"Healthy\", \"Healthy\"),", 
"           obs3_date = c(\"2021-04-25\", \"2021-04-25\", \"2021-04-25\"),", 
"           obs3_status = c(\"Unwell\", \"Healthy\", \"Healthy\"))", 
"", "fever_followup <- data.frame(patient = 1:10,", "                             observation1_date = Sys.Date() - 21,", 
"                        observation2_date = Sys.Date() - 14,", 
"                        observation3_date = Sys.Date() - 7,", 
"                        observation1_temp = sample(seq(35, 45, by = 0.1), 10, replace = T),", 
"                        observation2_temp = sample(seq(35, 45, by = 0.1), 10, replace = T),", 
"                        observation3_temp = sample(seq(35, 45, by = 0.1), 10, replace = T))", 
"", "fever_followup$observation1_fever <- ifelse(fever_followup$observation1_date < 38, \"No fever\",", 
"                              ifelse(fever_followup$observation1_date >= 38 & fever_followup$observation1_date< 39.4, \"Mild fever\",", 
"                                     ifelse(fever_followup$observation1_date >= 39.4, \"High fever\", NA)))", 
"fever_followup$observation2_fever <- ifelse(fever_followup$observation2_date < 38, \"No fever\",", 
"                              ifelse(fever_followup$observation2_date >= 38 & fever_followup$observation2_date< 39.4, \"Mild fever\",", 
"                                     ifelse(fever_followup$observation2_date >= 39.4, \"High fever\", NA)))", 
"fever_followup$observation3_fever <- ifelse(fever_followup$observation3_date < 38, \"No fever\",", 
"                              ifelse(fever_followup$observation3_date >= 38 & fever_followup$observation3_date< 39.4, \"Mild fever\",", 
"                                     ifelse(fever_followup$observation3_date >= 39.4, \"High fever\", NA)))", 
"", "", "fill_table_1 <- ", "  tibble::tribble(", "       ~Measurement, ~Facility, ~Cases,", 
"                  1,  \"Hosp 1\",     66,", "                  2,  \"Hosp 1\",     26,", 
"                  3,  \"Hosp 1\",      8,", "                  1,  \"Hosp 2\",     71,", 
"                  2,  \"Hosp 2\",     62,", "                  3,  \"Hosp 2\",     70,", 
"                  1,  \"Hosp 3\",     47,", "                  2,  \"Hosp 3\",     70,", 
"                  3,  \"Hosp 3\",     38,", "       )", "", 
"fill_table_2 <- ", "  tibble::tribble(", "    ~Year, ~Measurement, ~Facility, ~Cases,", 
"     2000,            1,  \"Hosp 4\",     82,", "     2001,            2,  \"Hosp 4\",     87,", 
"     2002,            3,  \"Hosp 4\",     46", "  )", "", "linelist_mini <- linelist %>%                 # start with original linelist", 
"  select(case_id, date_onset, hospital) %>%   # select columns", 
"  head(10)     ", "", "# Make the hospital information dataframe", 
"hosp_info = data.frame(", "  hosp_name     = c(\"central hospital\", \"military\", \"military\", \"port\", \"St. Mark's\", \"ignace\", \"sisters\"),", 
"  catchment_pop = c(1950280, 40500, 10000, 50280, 12000, 5000, 4200),", 
"  level         = c(\"Tertiary\", \"Secondary\", \"Primary\", \"Secondary\", \"Secondary\", \"Primary\", \"Primary\")", 
")", "", "#Make some ID's and dataframes to join for exercises", 
"patient_ID <- apply(sapply(1:10, function(x) sample(c(LETTERS, 0:9), 10, replace = T)), 2, paste0, collapse = \"\")", 
"", "", "patient_symptoms <- data.frame(patient_id = sample(patient_ID, 10),", 
"                  linelist %>%", "    select(fever:vomit) %>%", 
"    filter(row_number() %in% 1:10))", "", "patient_dates <- data.frame(id = patient_ID,", 
"                  linelist %>%", "    select(contains(\"date\")) %>%", 
"    filter(row_number() %in% c(sample(which(is.na(linelist$date_onset)), 5),", 
"  sample(which(!is.na(linelist$date_onset)), 5))))", "", "#Probablistic matching", 
"", "# make datasets", "", "cases <- tribble(", "  ~gender, ~first,      ~middle,     ~last,        ~yr,   ~mon, ~day, ~district,", 
"  \"M\",     \"Amir\",      NA,          \"Khan\",       1989,  11,   22,   \"River\",", 
"  \"M\",     \"Anthony\",   \"B.\",        \"Smith\",      1970, 09, 19,      \"River\", ", 
"  \"F\",     \"Marialisa\", \"Contreras\", \"Rodrigues\",  1972, 04, 15,      \"River\",", 
"  \"F\",     \"Elizabeth\", \"Casteel\",   \"Chase\",      1954, 03, 03,      \"City\",", 
"  \"M\",     \"Jose\",      \"Sanchez\",   \"Lopez\",      1996, 01, 06,      \"City\",", 
"  \"F\",     \"Cassidy\",   \"Jones\",      \"Davis\",     1980, 07, 20,      \"City\",", 
"  \"M\",     \"Michael\",   \"Murphy\",     \"O'Calaghan\",1969, 04, 12,      \"Rural\", ", 
"  \"M\",     \"Oliver\",    \"Laurent\",    \"De Bordow\" , 1971, 02, 04,     \"River\",", 
"  \"F\",      \"Blessing\",  NA,          \"Adebayo\",   1955,  02, 14,     \"Rural\"", 
")", "", "results <- tribble(", "  ~gender,  ~first,     ~middle,     ~last,          ~yr, ~mon, ~day, ~district, ~result,", 
"  \"M\",      \"Amir\",     NA,          \"Khan\",         1989, 11,   22,  \"River\", \"positive\",", 
"  \"M\",      \"Tony\",   \"B\",         \"Smith\",          1970, 09,   19,  \"River\", \"positive\",", 
"  \"F\",      \"Maria\",    \"Contreras\", \"Rodriguez\",    1972, 04,   15,  \"Cty\",   \"negative\",", 
"  \"F\",      \"Betty\",    \"Castel\",   \"Chase\",        1954,  03,   30,  \"City\",  \"positive\",", 
"  \"F\",      \"Andrea\",   NA,          \"Kumaraswamy\",  2001, 01,   05,  \"Rural\", \"positive\",      ", 
"  \"F\",      \"Caroline\", NA,          \"Wang\",         1988, 12,   11,  \"Rural\", \"negative\",", 
"  \"F\",      \"Trang\",    NA,          \"Nguyen\",       1981, 06,   10,  \"Rural\", \"positive\",", 
"  \"M\",      \"Olivier\" , \"Laurent\",   \"De Bordeaux\",  NA,   NA,   NA,  \"River\", \"positive\",", 
"  \"M\",      \"Mike\",     \"Murphy\",    \"O'Callaghan\",  1969, 04,   12,  \"Rural\", \"negative\",", 
"  \"F\",      \"Cassidy\",  \"Jones\",     \"Davis\",        1980, 07,   02,  \"City\",  \"positive\",", 
"  \"M\",      \"Mohammad\", NA,          \"Ali\",          1942, 01,   17,  \"City\",  \"negative\",", 
"  NA,       \"Jose\",     \"Sanchez\",   \"Lopez\",        1995, 01,   06,  \"City\",  \"negative\",", 
"  \"M\",      \"Abubakar\", NA,          \"Abullahi\",     1960, 01,   01,  \"River\", \"positive\",", 
"  \"F\",      \"Maria\",    \"Salinas\",   \"Contreras\",    1955, 03,   03,  \"River\", \"positive\"", 
"  )", "", "", "cases_dup <- rbind(cases,", "                   data.frame(", 
"                     gender = c(\"M\", \"F\"),", "           first = c(\"Tony\", \"Maria\"),", 
"           middle = c(\"B.\", \"Contreras\"),", "           last = c(\"Smith\", \"Rodriguez\"),", 
"           yr = c(1970, 1972),", "           mon = c(9, 4),", 
"           day = c(19, 15),", "           district = c(\"River\", \"River\"))", 
"           )", "", "#Create a  factor column", "linelist$source[is.na(linelist$source)] <- \"missing\"", 
"linelist$source <- factor(linelist$source)", ""), chunk_opts = list(
    label = "setup", include = FALSE)), setup = NULL, chunks = list(
    list(label = "dplyr_summarise", code = "  linelist %>%\n  ", 
        opts = list(label = "\"dplyr_summarise\"", exercise = "TRUE"), 
        engine = "r")), code_check = NULL, error_check = NULL, 
    check = structure(c("  grade_this({", "    # Automatically pass if .result equal to .solution", 
    "    pass_if_equal()", "    # Default to failing grade with feedback", 
    "    fail()", "  })"), chunk_opts = list(label = "dplyr_summarise-check")), 
    solution = structure(c("linelist %>%", "    group_by(gender) %>%", 
    "    drop_na(gender) %>%", "    summarise(", "    median_age = median(age, na.rm = T),", 
    "    min_age = min(age, na.rm = T),", "    max_age = max(age, na.rm = T),", 
    ")"), chunk_opts = list(label = "dplyr_summarise-solution")), 
    options = list(eval = FALSE, echo = TRUE, results = "markup", 
        tidy = FALSE, tidy.opts = NULL, collapse = FALSE, prompt = FALSE, 
        comment = NA, highlight = FALSE, size = "normalsize", 
        background = "#F7F7F7", strip.white = TRUE, cache = 0, 
        cache.path = "4_data_cleaning_descriptive_tables_and_statistical_tests_cache/html/", 
        cache.vars = NULL, cache.lazy = TRUE, dependson = NULL, 
        autodep = FALSE, cache.rebuild = FALSE, fig.keep = "high", 
        fig.show = "asis", fig.align = "default", fig.path = "4_data_cleaning_descriptive_tables_and_statistical_tests_files/figure-html/", 
        dev = "png", dev.args = NULL, dpi = 192, fig.ext = "png", 
        fig.width = 6.5, fig.height = 4, fig.env = "figure", 
        fig.cap = NULL, fig.scap = NULL, fig.lp = "fig:", fig.subcap = NULL, 
        fig.pos = "", out.width = 624, out.height = NULL, out.extra = NULL, 
        fig.retina = 2, external = TRUE, sanitize = FALSE, interval = 1, 
        aniopts = "controls,loop", warning = FALSE, error = FALSE, 
        message = FALSE, render = NULL, ref.label = NULL, child = NULL, 
        engine = "r", split = FALSE, include = TRUE, purl = TRUE, 
        max.print = 1000, exercise.timelimit = 60, exercise.checker = "function (label = NULL, solution_code = NULL, user_code = NULL, \n    check_code = NULL, envir_result = NULL, evaluate_result = NULL, \n    envir_prep = NULL, last_value = NULL, stage = NULL, ...) \n{\n    (utils::getFromNamespace(\"check_exercise\", \"gradethis\"))(label = label, \n        solution_code = solution_code, user_code = user_code, \n        check_code = check_code, envir_result = envir_result, \n        evaluate_result = evaluate_result, envir_prep = envir_prep, \n        last_value = last_value, stage = stage, ...)\n}", 
        exercise.error.check.code = "gradethis_error_checker()", 
        exercise.eval = FALSE, label = "dplyr_summarise", exercise = TRUE, 
        code = c("  linelist %>%", "  "), out.width.px = 624, 
        out.height.px = 384, params.src = "dplyr_summarise, exercise = TRUE", 
        fig.num = 0, exercise.df_print = "paged"), engine = "r"), class = "tutorial_exercise"))
</script>
 
<script type="application/shiny-prerendered" data-context="server">
`tutorial-exercise-dplyr_conditional_death-result` <- learnr:::setup_exercise_handler(reactive(req(input$`tutorial-exercise-dplyr_conditional_death-code-editor`)), session)
output$`tutorial-exercise-dplyr_conditional_death-output` <- renderUI({
  `tutorial-exercise-dplyr_conditional_death-result`()
})
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::store_exercise_cache(structure(list(global_setup = structure(c("knitr::opts_chunk$set(warning = FALSE, message = FALSE) ", 
"# load packages ----------------------------------------------------------------", 
"library(learnr)", "library(gradethis)", "library(tidyverse)", 
"library(here)", "library(janitor)", "library(rio)", "library(basket) # not sure if we need this", 
"library(etude) # helper functions for gradethis", "library(epikit)", 
"library(linelist)", "library(lubridate)", "library(fastLink)", 
"", "# set options for exercises and checking ---------------------------------------", 
"gradethis_setup()", "", "learnr::tutorial_options(exercise.timelimit = 60) ", 
"  #exercise.checker = gradethis::grade_learnr) ", "    # alternatively, submitr::null_code_checker", 
"", "", "# event recorder ---------------------------------------------------------------", 
"# see https://github.com/dtkaplan/submitr/blob/master/R/make_a_recorder.R", 
"tutorial_options(exercise.eval = FALSE)  # pre-evaluate exercises", 
"", "vfun <- submitr::make_basic_validator(NULL, \"hello\") #basket::check_valid", 
"", "new_recorder <- function(tutorial_id, tutorial_version, user_id, event, data) {", 
"    cat(", "      tutorial_id, ", "      \" (v\", tutorial_version, \"); \",", 
"      format(Sys.time(), \"%Y-%M%-%D %H:%M:%S %Z\"), \"; \",", 
"      user_id, \"; \",", "      event, \"; \",", "      data$label, \"; \",", 
"      data$answers, \"; \",", "      data$code, \"; \",", "      data$correct, \"\\n\", sep = \"\",", 
"      ", "      file = here::here(\"event_records\", \"learnr_basics.txt\"),", 
"      append = TRUE)", "}", "", "options(tutorial.event_recorder = new_recorder)", 
"", "", "# hide non-exercise code chunks ------------------------------------------------", 
"knitr::opts_chunk$set(echo = FALSE)", "", "", "# data prep --------------------------------------------------------------------", 
"linelist_raw <- rio::import(here::here(\"data\", \"linelist_raw.xlsx\"))", 
"linelist <- rio::import(here::here(\"data\", \"linelist_cleaned.rds\"))", 
"malaria_counts <- rio::import(here::here(\"data\", \"malaria_facility_count_data.rds\"))", 
"", "#Incorrectly assign class so we can clean later", "linelist_raw$age <- as.character(linelist_raw$age)", 
"linelist_raw$`date onset` <- as.character(linelist_raw$`date onset`)", 
"", "#Going to randomly convert some temperatures to Fahrenheit instead of celcius for an exercise later", 
"set.seed(1)", "take_these <- sample(1:nrow(linelist_raw), 500)", 
"", "linelist_raw$temp[take_these] <- (linelist_raw$temp[take_these] * 9/5) + 32", 
"", "#Create some dummy df's for pivoting exercises", "df <- data.frame(id = c(\"A\", \"B\", \"C\"),", 
"           obs1_date = c(\"2021-04-23\", \"2021-04-23\", \"2021-04-23\"),", 
"           obs1_status = c(\"Healthy\", \"Healthy\", \"Missing\"),", 
"           obs2_date = c(\"2021-04-24\", \"2021-04-24\", \"2021-04-24\"),", 
"           obs2_status = c(\"Healthy\", \"Healthy\", \"Healthy\"),", 
"           obs3_date = c(\"2021-04-25\", \"2021-04-25\", \"2021-04-25\"),", 
"           obs3_status = c(\"Unwell\", \"Healthy\", \"Healthy\"))", 
"", "fever_followup <- data.frame(patient = 1:10,", "                             observation1_date = Sys.Date() - 21,", 
"                        observation2_date = Sys.Date() - 14,", 
"                        observation3_date = Sys.Date() - 7,", 
"                        observation1_temp = sample(seq(35, 45, by = 0.1), 10, replace = T),", 
"                        observation2_temp = sample(seq(35, 45, by = 0.1), 10, replace = T),", 
"                        observation3_temp = sample(seq(35, 45, by = 0.1), 10, replace = T))", 
"", "fever_followup$observation1_fever <- ifelse(fever_followup$observation1_date < 38, \"No fever\",", 
"                              ifelse(fever_followup$observation1_date >= 38 & fever_followup$observation1_date< 39.4, \"Mild fever\",", 
"                                     ifelse(fever_followup$observation1_date >= 39.4, \"High fever\", NA)))", 
"fever_followup$observation2_fever <- ifelse(fever_followup$observation2_date < 38, \"No fever\",", 
"                              ifelse(fever_followup$observation2_date >= 38 & fever_followup$observation2_date< 39.4, \"Mild fever\",", 
"                                     ifelse(fever_followup$observation2_date >= 39.4, \"High fever\", NA)))", 
"fever_followup$observation3_fever <- ifelse(fever_followup$observation3_date < 38, \"No fever\",", 
"                              ifelse(fever_followup$observation3_date >= 38 & fever_followup$observation3_date< 39.4, \"Mild fever\",", 
"                                     ifelse(fever_followup$observation3_date >= 39.4, \"High fever\", NA)))", 
"", "", "fill_table_1 <- ", "  tibble::tribble(", "       ~Measurement, ~Facility, ~Cases,", 
"                  1,  \"Hosp 1\",     66,", "                  2,  \"Hosp 1\",     26,", 
"                  3,  \"Hosp 1\",      8,", "                  1,  \"Hosp 2\",     71,", 
"                  2,  \"Hosp 2\",     62,", "                  3,  \"Hosp 2\",     70,", 
"                  1,  \"Hosp 3\",     47,", "                  2,  \"Hosp 3\",     70,", 
"                  3,  \"Hosp 3\",     38,", "       )", "", 
"fill_table_2 <- ", "  tibble::tribble(", "    ~Year, ~Measurement, ~Facility, ~Cases,", 
"     2000,            1,  \"Hosp 4\",     82,", "     2001,            2,  \"Hosp 4\",     87,", 
"     2002,            3,  \"Hosp 4\",     46", "  )", "", "linelist_mini <- linelist %>%                 # start with original linelist", 
"  select(case_id, date_onset, hospital) %>%   # select columns", 
"  head(10)     ", "", "# Make the hospital information dataframe", 
"hosp_info = data.frame(", "  hosp_name     = c(\"central hospital\", \"military\", \"military\", \"port\", \"St. Mark's\", \"ignace\", \"sisters\"),", 
"  catchment_pop = c(1950280, 40500, 10000, 50280, 12000, 5000, 4200),", 
"  level         = c(\"Tertiary\", \"Secondary\", \"Primary\", \"Secondary\", \"Secondary\", \"Primary\", \"Primary\")", 
")", "", "#Make some ID's and dataframes to join for exercises", 
"patient_ID <- apply(sapply(1:10, function(x) sample(c(LETTERS, 0:9), 10, replace = T)), 2, paste0, collapse = \"\")", 
"", "", "patient_symptoms <- data.frame(patient_id = sample(patient_ID, 10),", 
"                  linelist %>%", "    select(fever:vomit) %>%", 
"    filter(row_number() %in% 1:10))", "", "patient_dates <- data.frame(id = patient_ID,", 
"                  linelist %>%", "    select(contains(\"date\")) %>%", 
"    filter(row_number() %in% c(sample(which(is.na(linelist$date_onset)), 5),", 
"  sample(which(!is.na(linelist$date_onset)), 5))))", "", "#Probablistic matching", 
"", "# make datasets", "", "cases <- tribble(", "  ~gender, ~first,      ~middle,     ~last,        ~yr,   ~mon, ~day, ~district,", 
"  \"M\",     \"Amir\",      NA,          \"Khan\",       1989,  11,   22,   \"River\",", 
"  \"M\",     \"Anthony\",   \"B.\",        \"Smith\",      1970, 09, 19,      \"River\", ", 
"  \"F\",     \"Marialisa\", \"Contreras\", \"Rodrigues\",  1972, 04, 15,      \"River\",", 
"  \"F\",     \"Elizabeth\", \"Casteel\",   \"Chase\",      1954, 03, 03,      \"City\",", 
"  \"M\",     \"Jose\",      \"Sanchez\",   \"Lopez\",      1996, 01, 06,      \"City\",", 
"  \"F\",     \"Cassidy\",   \"Jones\",      \"Davis\",     1980, 07, 20,      \"City\",", 
"  \"M\",     \"Michael\",   \"Murphy\",     \"O'Calaghan\",1969, 04, 12,      \"Rural\", ", 
"  \"M\",     \"Oliver\",    \"Laurent\",    \"De Bordow\" , 1971, 02, 04,     \"River\",", 
"  \"F\",      \"Blessing\",  NA,          \"Adebayo\",   1955,  02, 14,     \"Rural\"", 
")", "", "results <- tribble(", "  ~gender,  ~first,     ~middle,     ~last,          ~yr, ~mon, ~day, ~district, ~result,", 
"  \"M\",      \"Amir\",     NA,          \"Khan\",         1989, 11,   22,  \"River\", \"positive\",", 
"  \"M\",      \"Tony\",   \"B\",         \"Smith\",          1970, 09,   19,  \"River\", \"positive\",", 
"  \"F\",      \"Maria\",    \"Contreras\", \"Rodriguez\",    1972, 04,   15,  \"Cty\",   \"negative\",", 
"  \"F\",      \"Betty\",    \"Castel\",   \"Chase\",        1954,  03,   30,  \"City\",  \"positive\",", 
"  \"F\",      \"Andrea\",   NA,          \"Kumaraswamy\",  2001, 01,   05,  \"Rural\", \"positive\",      ", 
"  \"F\",      \"Caroline\", NA,          \"Wang\",         1988, 12,   11,  \"Rural\", \"negative\",", 
"  \"F\",      \"Trang\",    NA,          \"Nguyen\",       1981, 06,   10,  \"Rural\", \"positive\",", 
"  \"M\",      \"Olivier\" , \"Laurent\",   \"De Bordeaux\",  NA,   NA,   NA,  \"River\", \"positive\",", 
"  \"M\",      \"Mike\",     \"Murphy\",    \"O'Callaghan\",  1969, 04,   12,  \"Rural\", \"negative\",", 
"  \"F\",      \"Cassidy\",  \"Jones\",     \"Davis\",        1980, 07,   02,  \"City\",  \"positive\",", 
"  \"M\",      \"Mohammad\", NA,          \"Ali\",          1942, 01,   17,  \"City\",  \"negative\",", 
"  NA,       \"Jose\",     \"Sanchez\",   \"Lopez\",        1995, 01,   06,  \"City\",  \"negative\",", 
"  \"M\",      \"Abubakar\", NA,          \"Abullahi\",     1960, 01,   01,  \"River\", \"positive\",", 
"  \"F\",      \"Maria\",    \"Salinas\",   \"Contreras\",    1955, 03,   03,  \"River\", \"positive\"", 
"  )", "", "", "cases_dup <- rbind(cases,", "                   data.frame(", 
"                     gender = c(\"M\", \"F\"),", "           first = c(\"Tony\", \"Maria\"),", 
"           middle = c(\"B.\", \"Contreras\"),", "           last = c(\"Smith\", \"Rodriguez\"),", 
"           yr = c(1970, 1972),", "           mon = c(9, 4),", 
"           day = c(19, 15),", "           district = c(\"River\", \"River\"))", 
"           )", "", "#Create a  factor column", "linelist$source[is.na(linelist$source)] <- \"missing\"", 
"linelist$source <- factor(linelist$source)", ""), chunk_opts = list(
    label = "setup", include = FALSE)), setup = NULL, chunks = list(
    list(label = "dplyr_conditional_death", code = "  linelist %>%\n  ", 
        opts = list(label = "\"dplyr_conditional_death\"", exercise = "TRUE"), 
        engine = "r")), code_check = NULL, error_check = NULL, 
    check = structure(c("  grade_this({", "    # Automatically pass if .result equal to .solution", 
    "    pass_if_equal()", "    # Default to failing grade with feedback", 
    "    fail()", "  })"), chunk_opts = list(label = "dplyr_conditional_death-check")), 
    solution = structure(c("linelist %>% ", "  group_by(age_cat, outcome) %>% ", 
    "  count(outcome) %>%", "  group_by(age_cat) %>%", "  summarise(prop_outcome_death = sum(n[outcome == \"Death\"], na.rm = T)/sum(n, na.rm = T))"
    ), chunk_opts = list(label = "dplyr_conditional_death-solution")), 
    options = list(eval = FALSE, echo = TRUE, results = "markup", 
        tidy = FALSE, tidy.opts = NULL, collapse = FALSE, prompt = FALSE, 
        comment = NA, highlight = FALSE, size = "normalsize", 
        background = "#F7F7F7", strip.white = TRUE, cache = 0, 
        cache.path = "4_data_cleaning_descriptive_tables_and_statistical_tests_cache/html/", 
        cache.vars = NULL, cache.lazy = TRUE, dependson = NULL, 
        autodep = FALSE, cache.rebuild = FALSE, fig.keep = "high", 
        fig.show = "asis", fig.align = "default", fig.path = "4_data_cleaning_descriptive_tables_and_statistical_tests_files/figure-html/", 
        dev = "png", dev.args = NULL, dpi = 192, fig.ext = "png", 
        fig.width = 6.5, fig.height = 4, fig.env = "figure", 
        fig.cap = NULL, fig.scap = NULL, fig.lp = "fig:", fig.subcap = NULL, 
        fig.pos = "", out.width = 624, out.height = NULL, out.extra = NULL, 
        fig.retina = 2, external = TRUE, sanitize = FALSE, interval = 1, 
        aniopts = "controls,loop", warning = FALSE, error = FALSE, 
        message = FALSE, render = NULL, ref.label = NULL, child = NULL, 
        engine = "r", split = FALSE, include = TRUE, purl = TRUE, 
        max.print = 1000, exercise.timelimit = 60, exercise.checker = "function (label = NULL, solution_code = NULL, user_code = NULL, \n    check_code = NULL, envir_result = NULL, evaluate_result = NULL, \n    envir_prep = NULL, last_value = NULL, stage = NULL, ...) \n{\n    (utils::getFromNamespace(\"check_exercise\", \"gradethis\"))(label = label, \n        solution_code = solution_code, user_code = user_code, \n        check_code = check_code, envir_result = envir_result, \n        evaluate_result = evaluate_result, envir_prep = envir_prep, \n        last_value = last_value, stage = stage, ...)\n}", 
        exercise.error.check.code = "gradethis_error_checker()", 
        exercise.eval = FALSE, label = "dplyr_conditional_death", 
        exercise = TRUE, code = c("  linelist %>%", "  "), out.width.px = 624, 
        out.height.px = 384, params.src = "dplyr_conditional_death, exercise = TRUE", 
        fig.num = 0, exercise.df_print = "paged"), engine = "r"), class = "tutorial_exercise"))
</script>
 <!--html_preserve-->
<script type="application/shiny-prerendered" data-context="dependencies">
{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["header-attrs"]},{"type":"character","attributes":{},"value":["2.11"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/pandoc"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["header-attrs.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.11"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["jquery"]},{"type":"character","attributes":{},"value":["3.6.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/3.6.0"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["jquery-3.6.0.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["jquerylib"]},{"type":"logical","attributes":{},"value":[true]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["bootstrap"]},{"type":"character","attributes":{},"value":["3.3.5"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/bootstrap"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["viewport"]}},"value":[{"type":"character","attributes":{},"value":["width=device-width, initial-scale=1"]}]},{"type":"character","attributes":{},"value":["js/bootstrap.min.js","shim/html5shiv.min.js","shim/respond.min.js"]},{"type":"character","attributes":{},"value":["css/cerulean.min.css"]},{"type":"character","attributes":{},"value":["<style>h1 {font-size: 34px;}\n       h1.title {font-size: 38px;}\n       h2 {font-size: 30px;}\n       h3 {font-size: 24px;}\n       h4 {font-size: 18px;}\n       h5 {font-size: 16px;}\n       h6 {font-size: 12px;}\n       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}\n       pre:not([class]) { background-color: white }<\/style>"]},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.11"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["pagedtable"]},{"type":"character","attributes":{},"value":["1.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/pagedtable-1.1"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["js/pagedtable.js"]},{"type":"character","attributes":{},"value":["css/pagedtable.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.11"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["highlightjs"]},{"type":"character","attributes":{},"value":["9.12.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/highlightjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["highlight.js"]},{"type":"character","attributes":{},"value":["textmate.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.11"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tutorial"]},{"type":"character","attributes":{},"value":["0.10.1.9018"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/tutorial"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tutorial.js"]},{"type":"character","attributes":{},"value":["tutorial.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9018"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tutorial-autocompletion"]},{"type":"character","attributes":{},"value":["0.10.1.9018"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/tutorial"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tutorial-autocompletion.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9018"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tutorial-diagnostics"]},{"type":"character","attributes":{},"value":["0.10.1.9018"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/tutorial"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tutorial-diagnostics.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9018"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["i18n"]},{"type":"character","attributes":{},"value":["1.2.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/i18n"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["i18next.min.js","tutorial-i18n-init.js"]},{"type":"NULL"},{"type":"character","attributes":{},"value":["<script id=\"i18n-cstm-trns\" type=\"application/json\">{\"language\":\"en\",\"resources\":{\"en\":{\"translation\":{\"button\":{\"runcode\":\"Run Code\",\"runcodetitle\":\"$t(button.runcode) ({{kbd}})\",\"hint\":\"Hint\",\"hint_plural\":\"Hints\",\"hinttitle\":\"$t(button.hint)\",\"hintnext\":\"Next Hint\",\"hintprev\":\"Previous Hint\",\"solution\":\"Solution\",\"solutiontitle\":\"$t(button.solution)\",\"copyclipboard\":\"Copy to Clipboard\",\"startover\":\"Start Over\",\"startovertitle\":\"$t(button.startover)\",\"continue\":\"Continue\",\"submitanswer\":\"Submit Answer\",\"submitanswertitle\":\"$t(button.submitanswer)\",\"previoustopic\":\"Previous Topic\",\"nexttopic\":\"Next Topic\",\"questionsubmit\":\"$t(button.submitanswer)\",\"questiontryagain\":\"Try Again\"},\"text\":{\"startover\":\"Start Over\",\"areyousure\":\"Are you sure you want to start over? (all exercise progress will be reset)\",\"youmustcomplete\":\"You must complete the\",\"exercise\":\"exercise\",\"exercise_plural\":\"exercises\",\"inthissection\":\"in this section before continuing.\",\"code\":\"Code\",\"enginecap\":\"{{engine}} $t(text.code)\",\"quiz\":\"Quiz\",\"blank\":\"blank\",\"blank_plural\":\"blanks\",\"exercisecontainsblank\":\"This exercise contains {{count}} $t(text.blank).\",\"pleasereplaceblank\":\"Please replace {{blank}} with valid code.\",\"unparsable\":\"It looks like this might not be valid R code. R cannot determine how to turn your text into a complete command. You may have forgotten to fill in a blank, to remove an underscore, to include a comma between arguments, or to close an opening <code>&quot;<\\/code>, <code>'<\\/code>, <code>(<\\/code> or <code>{<\\/code> with a matching <code>&quot;<\\/code>, <code>'<\\/code>, <code>)<\\/code> or <code>}<\\/code>.\\n\",\"and\":\"and\",\"or\":\"or\",\"listcomma\":\", \",\"oxfordcomma\":\",\"}}},\"fr\":{\"translation\":{\"button\":{\"runcode\":\"Lancer le Code\",\"runcodetitle\":\"$t(button.runcode) ({{kbd}})\",\"hint\":\"Indication\",\"hint_plural\":\"Indications\",\"hinttitle\":\"$t(button.hint)\",\"hintnext\":\"Indication Suivante\",\"hintprev\":\"Indication Précédente\",\"solution\":\"Solution\",\"solutiontitle\":\"$t(button.solution)\",\"copyclipboard\":\"Copier dans le Presse-papier\",\"startover\":\"Recommencer\",\"startovertitle\":\"$t(button.startover)\",\"continue\":\"Continuer\",\"submitanswer\":\"Soumettre\",\"submitanswertitle\":\"$t(button.submitanswer)\",\"previoustopic\":\"Chapitre Précédent\",\"nexttopic\":\"Chapitre Suivant\",\"questionsubmit\":\"$t(button.submitanswer)\",\"questiontryagain\":\"Réessayer\"},\"text\":{\"startover\":\"Recommencer\",\"areyousure\":\"Êtes-vous certains de vouloir recommencer? (La progression sera remise à zéro)\",\"youmustcomplete\":\"Vous devez d'abord compléter\",\"exercise\":\"l'exercice\",\"exercise_plural\":\"des exercices\",\"inthissection\":\"de cette section avec de continuer.\",\"code\":\"Code\",\"enginecap\":\"$t(text.code) {{engine}}\",\"quiz\":\"Quiz\",\"and\":\"et\",\"or\":\"ou\",\"oxfordcomma\":\"\"}}},\"es\":{\"translation\":{\"button\":{\"runcode\":\"Ejecutar código\",\"runcodetitle\":\"$t(button.runcode) ({{kbd}})\",\"hint\":\"Pista\",\"hint_plural\":\"Pistas\",\"hinttitle\":\"$t(button.hint)\",\"hintnext\":\"Siguiente pista\",\"hintprev\":\"Pista anterior\",\"solution\":\"Solución\",\"solutiontitle\":\"$t(button.solution)\",\"copyclipboard\":\"Copiar al portapapeles\",\"startover\":\"Reiniciar\",\"startovertitle\":\"$t(button.startover)\",\"continue\":\"Continuar\",\"submitanswer\":\"Enviar respuesta\",\"submitanswertitle\":\"$t(button.submitanswer)\",\"previoustopic\":\"Tema anterior\",\"nexttopic\":\"Tema siguiente\",\"questionsubmit\":\"$t(button.submitanswer)\",\"questiontryagain\":\"Volver a intentar\"},\"text\":{\"startover\":\"Reiniciar\",\"areyousure\":\"¿De verdad quieres empezar de nuevo? (todo el progreso del ejercicio se perderá)\",\"youmustcomplete\":\"Debes completar\",\"exercise\":\"el ejercicio\",\"exercise_plural\":\"los ejercicios\",\"inthissection\":\"en esta sección antes de continuar.\",\"code\":\"Código\",\"enginecap\":\"$t(text.code) {{engine}}\",\"quiz\":\"Cuestionario\",\"and\":\"y\",\"or\":\"o\",\"oxfordcomma\":\"\"}}},\"pt\":{\"translation\":{\"button\":{\"runcode\":\"Executar código\",\"runcodetitle\":\"$t(button.runcode) ({{kbd}})\",\"hint\":\"Dica\",\"hint_plural\":\"Dicas\",\"hinttitle\":\"$t(button.hint)\",\"hintnext\":\"Próxima dica\",\"hintprev\":\"Dica anterior\",\"solution\":\"Solução\",\"solutiontitle\":\"$t(button.solution)\",\"copyclipboard\":\"Copiar para a área de transferência\",\"startover\":\"Reiniciar\",\"startovertitle\":\"$t(button.startover)\",\"continue\":\"Continuar\",\"submitanswer\":\"Enviar resposta\",\"submitanswertitle\":\"$t(button.submitanswer)\",\"previoustopic\":\"Tópico anterior\",\"nexttopic\":\"Próximo tópico\",\"questionsubmit\":\"$t(button.submitanswer)\",\"questiontryagain\":\"Tentar novamente\"},\"text\":{\"startover\":\"Reiniciar\",\"areyousure\":\"Tem certeza que deseja começar novamente? (todo o progresso feito será perdido)\",\"youmustcomplete\":\"Você deve completar\",\"exercise\":\"o exercício\",\"exercise_plural\":\"os exercícios\",\"inthissection\":\"nesta seção antes de continuar.\",\"code\":\"Código\",\"enginecap\":\"$t(text.code) {{engine}}\",\"quiz\":\"Quiz\",\"and\":\"e\",\"or\":\"ou\",\"oxfordcomma\":\"\"}}},\"tr\":{\"translation\":{\"button\":{\"runcode\":\"Çalistirma Kodu\",\"runcodetitle\":\"$t(button.runcode) ({{kbd}})\",\"hint\":\"Ipucu\",\"hint_plural\":\"Ipuçlari\",\"hinttitle\":\"$t(button.hint)\",\"hintnext\":\"Sonraki Ipucu\",\"hintprev\":\"Önceki Ipucu\",\"solution\":\"Çözüm\",\"solutiontitle\":\"$t(button.solution)\",\"copyclipboard\":\"Pano'ya Kopyala\",\"startover\":\"Bastan Baslamak\",\"startovertitle\":\"$t(button.startover)\",\"continue\":\"Devam et\",\"submitanswer\":\"Cevabi onayla\",\"submitanswertitle\":\"$t(button.submitanswer)\",\"previoustopic\":\"Önceki Konu\",\"nexttopic\":\"Sonraki Konu\",\"questionsubmit\":\"$t(button.submitanswer)\",\"questiontryagain\":\"Tekrar Deneyin\"},\"text\":{\"startover\":\"Bastan Baslamak\",\"areyousure\":\"Bastan baslamak istediginizden emin misiniz? (tüm egzersiz ilerlemesi kaybolacak)\",\"youmustcomplete\":\"Tamamlamalisin\",\"exercise\":\"egzersiz\",\"exercise_plural\":\"egzersizler\",\"inthissection\":\"devam etmeden önce bu bölümde\",\"code\":\"Kod\",\"enginecap\":\"$t(text.code) {{engine}}\",\"quiz\":\"Sinav\",\"oxfordcomma\":\"\"}}},\"emo\":{\"translation\":{\"button\":{\"runcode\":\"<U+0001F3C3>\",\"runcodetitle\":\"$t(button.runcode) ({{kbd}})\",\"hint\":\"<U+0001F4A1>\",\"hint_plural\":\"$t(button.hint)\",\"hinttitle\":\"$t(button.hint)\",\"solution\":\"<U+0001F3AF>\",\"solutiontitle\":\"$t(button.solution)\",\"copyclipboard\":\"<U+0001F4CB>\",\"startover\":\"<U+23EE>\",\"startovertitle\":\"Start Over\",\"continue\":\"<U+2705>\",\"submitanswer\":\"<U+0001F197>\",\"submitanswertitle\":\"Submit Answer\",\"previoustopic\":\"<U+2B05>\",\"nexttopic\":\"<U+27A1>\",\"questionsubmit\":\"$t(button.submitanswer)\",\"questiontryagain\":\"<U+0001F501>\"},\"text\":{\"startover\":\"<U+23EE>\",\"areyousure\":\"<U+0001F914>\",\"youmustcomplete\":\"<U+26A0><U+FE0F> <U+0001F449> <U+0001F9D1><U+200D><U+0001F4BB>\",\"exercise\":\"\",\"exercise_plural\":\"\",\"inthissection\":\"\",\"code\":\"<U+0001F4BB>\",\"enginecap\":\"$t(text.code) {{engine}}\",\"oxfordcomma\":\"\"}}},\"eu\":{\"translation\":{\"button\":{\"runcode\":\"Kodea egikaritu\",\"runcodetitle\":\"$t(button.runcode) ({{kbd}})\",\"hint\":\"Laguntza\",\"hint_plural\":\"Laguntza\",\"hinttitle\":\"$t(button.hint)\",\"hintnext\":\"Aurreko laguntza\",\"hintprev\":\"Hurrengo laguntza\",\"solution\":\"Ebazpena\",\"solutiontitle\":\"$t(button.solution)\",\"copyclipboard\":\"Arbelean kopiatu\",\"startover\":\"Berrabiarazi\",\"startovertitle\":\"$t(button.startover)\",\"continue\":\"Jarraitu\",\"submitanswer\":\"Erantzuna bidali\",\"submitanswertitle\":\"$t(button.submitanswer)\",\"previoustopic\":\"Aurreko atala\",\"nexttopic\":\"Hurrengo atala\",\"questionsubmit\":\"$t(button.submitanswer)\",\"questiontryagain\":\"Berriro saiatu\"},\"text\":{\"startover\":\"Berrabiarazi\",\"areyousure\":\"Berriro hasi nahi duzu? (egindako lana galdu egingo da)\",\"youmustcomplete\":\"Aurrera egin baino lehen atal honetako\",\"exercise\":\"ariketa egin behar duzu.\",\"exercise_plural\":\"ariketak egin behar dituzu.\",\"inthissection\":\"\",\"code\":\"Kodea\",\"enginecap\":\"$t(text.code) {{engine}}\",\"quiz\":\"Galdetegia\",\"oxfordcomma\":\"\"}}},\"de\":{\"translation\":{\"button\":{\"runcode\":\"Code ausführen\",\"runcodetitle\":\"$t(button.runcode) ({{kbd}})\",\"hint\":\"Tipp\",\"hint_plural\":\"Tipps\",\"hinttitle\":\"$t(button.hint)\",\"hintnext\":\"Nächster Tipp\",\"hintprev\":\"Vorheriger Tipp\",\"solution\":\"Lösung\",\"solutiontitle\":\"$t(button.solution)\",\"copyclipboard\":\"In die Zwischenablage kopieren\",\"startover\":\"Neustart\",\"startovertitle\":\"$t(button.startover)\",\"continue\":\"Weiter\",\"submitanswer\":\"Antwort einreichen\",\"submitanswertitle\":\"$t(button.submitanswer)\",\"previoustopic\":\"Vorheriges Kapitel\",\"nexttopic\":\"Nächstes Kapitel\",\"questionsubmit\":\"$t(button.submitanswer)\",\"questiontryagain\":\"Nochmal versuchen\"},\"text\":{\"startover\":\"Neustart\",\"areyousure\":\"Bist du sicher, dass du neustarten willst? (der gesamte Lernfortschritt wird gelöscht)\",\"youmustcomplete\":\"Vervollstädinge\",\"exercise\":\"die Übung\",\"exercise_plural\":\"die Übungen\",\"inthissection\":\"in diesem Kapitel, bevor du fortfährst.\",\"code\":\"Code\",\"enginecap\":\"$t(text.code) {{engine}}\",\"quiz\":\"Quiz\",\"blank\":\"Lücke\",\"blank_plural\":\"Lücken\",\"pleasereplaceblank\":\"Bitte ersetze {{blank}} mit gültigem Code.\",\"unparsable\":\"Dies scheint kein gültiger R Code zu sein. R kann deinen Text nicht in einen gültigen Befehl übersetzen. Du hast vielleicht vergessen, die Lücke zu füllen, einen Unterstrich zu entfernen, ein Komma zwischen Argumente zu setzen oder ein eröffnendes <code>&quot;<\\/code>, <code>'<\\/code>, <code>(<\\/code> oder <code>{<\\/code> mit einem zugehörigen <code>&quot;<\\/code>, <code>'<\\/code>, <code>)<\\/code> oder <code>}<\\/code> zu schließen.\\n\",\"and\":\"und\",\"or\":\"oder\",\"listcomma\":\", \",\"oxfordcomma\":\",\"}}},\"ko\":{\"translation\":{\"button\":{\"runcode\":\"<U+CF54><U+B4DC> <U+C2E4><U+D589>\",\"runcodetitle\":\"$t(button.runcode) ({{kbd}})\",\"hint\":\"<U+D78C><U+D2B8>\",\"hint_plural\":\"<U+D78C><U+D2B8><U+B4E4>\",\"hinttitle\":\"$t(button.hint)\",\"hintnext\":\"<U+B2E4><U+C74C> <U+D78C><U+D2B8>\",\"hintprev\":\"<U+C774><U+C804> <U+D78C><U+D2B8>\",\"solution\":\"<U+C194><U+B8E8><U+C158>\",\"solutiontitle\":\"$t(button.solution)\",\"copyclipboard\":\"<U+D074><U+B9BD><U+BCF4><U+B4DC><U+C5D0> <U+BCF5><U+C0AC>\",\"startover\":\"<U+C7AC><U+D559><U+C2B5>\",\"startovertitle\":\"$t(button.startover)\",\"continue\":\"<U+B2E4><U+C74C> <U+D559><U+C2B5><U+C73C><U+B85C>\",\"submitanswer\":\"<U+C815><U+B2F5> <U+C81C><U+CD9C>\",\"submitanswertitle\":\"$t(button.submitanswer)\",\"previoustopic\":\"<U+C774><U+C804> <U+D1A0><U+D53D>\",\"nexttopic\":\"<U+B2E4><U+C74C> <U+D1A0><U+D53D>\",\"questionsubmit\":\"$t(button.submitanswer)\",\"questiontryagain\":\"<U+C7AC><U+C2DC><U+B3C4>\"},\"text\":{\"startover\":\"<U+C7AC><U+D559><U+C2B5>\",\"areyousure\":\"<U+B2E4><U+C2DC> <U+C2DC><U+C791> <U+D558><U+C2DC><U+ACA0><U+C2B5><U+B2C8><U+AE4C>? (<U+BAA8><U+B4E0> <U+C608><U+C81C><U+C758> <U+C9C4><U+D589> <U+C815><U+BCF4><U+AC00> <U+C7AC><U+C124><U+C815><U+B429><U+B2C8><U+B2E4>)\",\"youmustcomplete\":\"<U+B2F9><U+C2E0><U+C740> <U+C644><U+B8CC><U+D574><U+C57C> <U+D569><U+B2C8><U+B2E4>\",\"exercise\":\"<U+C5F0><U+C2B5><U+BB38><U+C81C>\",\"exercise_plural\":\"<U+C5F0><U+C2B5><U+BB38><U+C81C><U+B4E4>\",\"inthissection\":\"<U+C774> <U+C139><U+C158><U+C744> <U+C2E4><U+D589><U+D558><U+AE30> <U+C804><U+C5D0>\",\"code\":\"<U+CF54><U+B4DC>\",\"enginecap\":\"$t(text.code) {{engine}}\",\"quiz\":\"<U+D034><U+C988>\",\"blank\":\"<U+ACF5><U+BC31>\",\"blank_plural\":\"<U+ACF5><U+BC31><U+B4E4>\",\"exercisecontainsblank\":\"<U+C774> <U+C5F0><U+C2B5><U+BB38><U+C81C><U+C5D0><U+B294> {{count}}<U+AC1C><U+C758> $t(text.blank)<U+C774> <U+D3EC><U+D568><U+B418><U+C5B4> <U+C788><U+C2B5><U+B2C8><U+B2E4>.\",\"pleasereplaceblank\":\"{{blank}}<U+B97C> <U+C720><U+D6A8><U+D55C> <U+CF54><U+B4DC><U+B85C> <U+BC14><U+AFB8><U+C2ED><U+C2DC><U+C624>.\",\"unparsable\":\"<U+C774><U+AC83><U+C740> <U+C720><U+D6A8><U+D55C> R <U+CF54><U+B4DC><U+AC00> <U+C544><U+B2D0> <U+C218> <U+C788><U+C2B5><U+B2C8><U+B2E4>. R<U+C740> <U+D14D><U+C2A4><U+D2B8><U+B97C> <U+C644><U+C804><U+D55C> <U+BA85><U+B839><U+C73C><U+B85C> <U+BCC0><U+D658><U+D558><U+B294> <U+BC29><U+BC95><U+C744> <U+ACB0><U+C815><U+D560> <U+C218> <U+C5C6><U+C2B5><U+B2C8><U+B2E4>. <U+B2F9><U+C2E0><U+C740> <U+ACF5><U+BC31><U+C774><U+B098> <U+BC11><U+C904><U+C744> <U+B300><U+CCB4><U+D558><U+C5EC> <U+CC44><U+C6B0><U+AE30>, <U+C778><U+C218><U+B97C> <U+CEF4><U+B9C8><U+B85C> <U+AD6C><U+BD84><U+D558><U+AE30>, <U+B610><U+B294> <code>&quot;<\\/code>, <code>'<\\/code>, <code>(<\\/code> , <code>{<\\/code><U+B85C> <U+C2DC><U+C791><U+D558><U+B294> <U+AD6C><U+BB38><U+C744> <U+B2EB><U+B294> <code>&quot;<\\/code>, <code>'<\\/code>, <code>)<\\/code>, <code>}<\\/code><U+C744> <U+C78A><U+C5C8><U+C744> <U+C218><U+B3C4> <U+C788><U+C2B5><U+B2C8><U+B2E4>.\\n\",\"and\":\"<U+ADF8><U+B9AC><U+ACE0>\",\"or\":\"<U+D639><U+C740>\",\"listcomma\":\", \",\"oxfordcomma\":\"\"}}}}}<\/script>"]},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9018"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tutorial-format"]},{"type":"character","attributes":{},"value":["0.10.1.9018"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmarkdown/templates/tutorial/resources"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tutorial-format.js"]},{"type":"character","attributes":{},"value":["tutorial-format.css","rstudio-theme.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9018"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["jquery"]},{"type":"character","attributes":{},"value":["3.6.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/3.6.0"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["jquery-3.6.0.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["jquerylib"]},{"type":"logical","attributes":{},"value":[true]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["navigation"]},{"type":"character","attributes":{},"value":["1.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/navigation-1.1"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tabsets.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.11"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["highlightjs"]},{"type":"character","attributes":{},"value":["9.12.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/highlightjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["highlight.js"]},{"type":"character","attributes":{},"value":["default.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.11"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["jquery"]},{"type":"character","attributes":{},"value":["3.6.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/3.6.0"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["jquery-3.6.0.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["jquerylib"]},{"type":"logical","attributes":{},"value":[true]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["font-awesome"]},{"type":"character","attributes":{},"value":["5.1.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/fontawesome"]}]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["css/all.css","css/v4-shims.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.11"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["bootbox"]},{"type":"character","attributes":{},"value":["4.4.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/bootbox"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["bootbox.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9018"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["idb-keyvalue"]},{"type":"character","attributes":{},"value":["3.2.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/idb-keyval"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["idb-keyval-iife-compat.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[false]},{"type":"character","attributes":{},"value":["0.10.1.9018"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tutorial"]},{"type":"character","attributes":{},"value":["0.10.1.9018"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/tutorial"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tutorial.js"]},{"type":"character","attributes":{},"value":["tutorial.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9018"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tutorial-autocompletion"]},{"type":"character","attributes":{},"value":["0.10.1.9018"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/tutorial"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tutorial-autocompletion.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9018"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tutorial-diagnostics"]},{"type":"character","attributes":{},"value":["0.10.1.9018"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/tutorial"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tutorial-diagnostics.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9018"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ace"]},{"type":"character","attributes":{},"value":["1.2.6"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/ace"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["ace.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9018"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["clipboardjs"]},{"type":"character","attributes":{},"value":["1.5.15"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/clipboardjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["clipboard.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9018"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ace"]},{"type":"character","attributes":{},"value":["1.2.6"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/ace"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["ace.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9018"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["clipboardjs"]},{"type":"character","attributes":{},"value":["1.5.15"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/clipboardjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["clipboard.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9018"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ace"]},{"type":"character","attributes":{},"value":["1.2.6"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/ace"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["ace.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9018"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["clipboardjs"]},{"type":"character","attributes":{},"value":["1.5.15"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/clipboardjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["clipboard.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9018"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tabwid"]},{"type":"character","attributes":{},"value":["1.0.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["web_1.0.0"]}]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["tabwid.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["flextable"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.6.10"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ace"]},{"type":"character","attributes":{},"value":["1.2.6"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/ace"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["ace.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9018"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["clipboardjs"]},{"type":"character","attributes":{},"value":["1.5.15"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/clipboardjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["clipboard.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9018"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ace"]},{"type":"character","attributes":{},"value":["1.2.6"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/ace"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["ace.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9018"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["clipboardjs"]},{"type":"character","attributes":{},"value":["1.5.15"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/clipboardjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["clipboard.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9018"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ace"]},{"type":"character","attributes":{},"value":["1.2.6"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/ace"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["ace.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9018"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["clipboardjs"]},{"type":"character","attributes":{},"value":["1.5.15"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/clipboardjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["clipboard.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9018"]}]}]}
</script>
<!--/html_preserve-->
<!--html_preserve-->
<script type="application/shiny-prerendered" data-context="execution_dependencies">
{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["packages"]}},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["packages","version"]},"class":{"type":"character","attributes":{},"value":["data.frame"]},"row.names":{"type":"integer","attributes":{},"value":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138]}},"value":[{"type":"character","attributes":{},"value":["adagio","ade4","assertthat","backports","base","base64enc","basket","broom","bslib","cellranger","checkmate","cli","codetools","colorspace","compiler","crayon","curl","data.table","datasets","DBI","dbplyr","digest","doParallel","dplyr","ellipsis","epikit","etude","evaluate","FactoClass","fansi","farver","fastLink","fastmap","flextable","forcats","foreach","foreign","fs","gdtools","generics","GenSA","ggforce","ggplot2","ggraph","ggrepel","glue","gradethis","graphics","graphlayouts","grDevices","grid","gridExtra","gtable","gtools","haven","here","highr","hms","htmltools","htmlwidgets","httpuv","httr","igraph","iterators","itertools","janitor","jquerylib","jsonlite","KernSmooth","knitr","labeling","later","lattice","learnr","lifecycle","linelist","lpSolve","lubridate","magrittr","markdown","MASS","Matrix","methods","mime","modelr","munsell","officer","openxlsx","parallel","pillar","pkgconfig","plotrix","polyclip","promises","purrr","R6","RColorBrewer","Rcpp","readr","readxl","reprex","rio","rlang","rmarkdown","rprojroot","rstudioapi","rvest","sass","scales","scatterplot3d","shiny","snakecase","stats","stringdist","stringi","stringr","submitr","systemfonts","tibble","tidygraph","tidyr","tidyselect","tidyverse","tools","tweenr","tzdb","utf8","utils","uuid","vctrs","viridis","viridisLite","withr","xfun","xml2","xtable","yaml","zip"]},{"type":"character","attributes":{},"value":["0.8.4","1.7-18","0.2.1","1.4.1","4.0.4","0.1-3","0.10.11","0.7.10","0.3.1","1.1.0","2.0.0","3.1.1","0.2-18","2.0-2","4.0.4","1.4.2","4.3.2","1.14.2","4.0.4","1.1.1","2.1.1","0.6.29","1.0.17","1.0.7","0.3.2","0.1.2","0.3.0.9001","0.14","1.2.7","0.5.0","2.1.0","0.6.0","1.1.0","0.6.10","0.5.1","1.5.1","0.8-81","1.5.2","0.2.3","0.1.1","1.1.7","0.3.3","3.3.5","2.0.5","0.9.1","1.6.0","0.2.4.9000","4.0.4","0.7.2","4.0.4","4.0.4","2.3","0.3.0","3.9.2","2.4.3","1.0.1","0.9","1.1.1","0.5.2","1.5.4","1.6.3","1.4.2","1.2.9","1.0.13","0.1-3","2.1.0","0.1.4","1.7.2","2.23-20","1.37","0.4.2","1.3.0","0.20-45","0.10.1.9018","1.0.1","0.0.40.9000","5.6.15","1.8.0","2.0.1","1.1","7.3-54","1.4-0","4.0.4","0.12","0.1.8","0.5.0","0.4.1","4.2.4","4.0.4","1.6.4","2.0.3","3.8-2","1.10-0","1.2.0.1","0.3.4","2.5.1","1.1-2","1.0.7","2.1.1","1.3.1","2.0.1","0.5.29","0.4.12","2.11","2.0.2","0.13","1.0.2","0.4.0","1.1.1","0.3-41","1.7.1","0.11.0","4.0.4","0.9.8","1.7.6","1.4.0","0.3.0.9000","1.0.3","3.1.6","1.2.0","1.1.4","1.1.1","1.3.1","4.0.4","1.0.2","0.2.0","1.2.2","4.0.4","1.0-3","0.3.8","0.6.2","0.4.0","2.4.3","0.28","1.3.3","1.8-4","2.2.1","2.2.0"]}]}]}
</script>
<!--/html_preserve-->
</div>
</div>

</div> <!-- topics -->

<div class="topicsContainer">
<div class="topicsPositioner">
<div class="band">
<div class="bandContent topicsListContainer">

<!-- begin doc-metadata -->
<div id="doc-metadata">
<h2 class="title toc-ignore" style="display:none;">Data cleaning</h2>
</div>
<!-- end doc-metadata -->

</div> <!-- bandContent.topicsListContainer -->
</div> <!-- band -->
</div> <!-- topicsPositioner -->
</div> <!-- topicsContainer -->


</div> <!-- bandContent page -->
</div> <!-- pageContent band -->



<!-- Build Tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("section-TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<script>
// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});
</script>


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>


</body>

</html>
